@import"https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&display=swap";*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;scroll-behavior:smooth}body{min-height:100vh;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{text-wrap:balance;line-height:1.2}p,li,figcaption{text-wrap:pretty;max-width:65ch}img,picture,video,canvas,svg{display:block;max-width:100%;height:auto}input,button,textarea,select{font:inherit;color:inherit}button{border:none;background:none;cursor:pointer}textarea{resize:vertical}table{border-collapse:collapse;border-spacing:0}ul,ol{list-style:none}a{text-decoration:none;color:inherit}:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px}:root{--color-primary: #007bff;--color-primary-50: #e7f3ff;--color-primary-100: #cfe7ff;--color-primary-200: #9fd3ff;--color-primary-300: #6fbfff;--color-primary-400: #3fabff;--color-primary-500: #007bff;--color-primary-600: #0062cc;--color-primary-700: #004999;--color-primary-800: #003066;--color-primary-900: #001833;--color-success: #28a745;--color-success-light: #d4edda;--color-success-dark: #155724;--color-warning: #ffc107;--color-warning-light: #fff3cd;--color-warning-dark: #856404;--color-danger: #dc3545;--color-danger-light: #f8d7da;--color-danger-dark: #721c24;--color-info: #17a2b8;--color-info-light: #d1ecf1;--color-info-dark: #0c5460;--color-white: #ffffff;--color-black: #000000;--color-gray-50: #f8f9fa;--color-gray-100: #f1f3f4;--color-gray-200: #e9ecef;--color-gray-300: #dee2e6;--color-gray-400: #ced4da;--color-gray-500: #adb5bd;--color-gray-600: #6c757d;--color-gray-700: #495057;--color-gray-800: #343a40;--color-gray-900: #212529;--color-background: #f8f9fa;--color-card-background: #ffffff;--color-overlay: rgba(0, 0, 0, .5);--color-text-primary: #212529;--color-text-secondary: #6c757d;--color-text-muted: #adb5bd;--color-text-inverse: #ffffff;--color-category-switch: #007bff;--color-category-light: #ffc107;--color-category-sensor: #28a745;--color-category-climate: #17a2b8;--color-category-security: #dc3545;--color-category-cover: #6f42c1;--color-category-garden: #20c997;--color-category-other: #6c757d;--font-family-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;--font-family-mono: "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--font-size-4xl: 2.25rem;--font-size-5xl: 3rem;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--line-height-tight: 1.25;--line-height-normal: 1.5;--line-height-relaxed: 1.625;--spacing-0: 0;--spacing-1: .25rem;--spacing-2: .5rem;--spacing-3: .5rem;--spacing-4: .75rem;--spacing-5: 1rem;--spacing-6: 1.25rem;--spacing-8: 1rem;--spacing-10: 2.5rem;--spacing-12: 3rem;--spacing-16: 4rem;--spacing-20: 5rem;--container-xs: 480px;--container-sm: 640px;--container-md: 768px;--container-lg: 1024px;--container-xl: 1280px;--container-2xl: 1536px;--container-max: 1400px;--grid-gap: var(--spacing-6);--grid-gap-sm: var(--spacing-4);--grid-gap-lg: var(--spacing-8);--device-card-min-width: 300px;--device-card-min-height: 280px;--device-card-padding: var(--spacing-4);--room-grid-size: 20px;--room-min-width: 400px;--room-min-height: 300px;--border-width: 1px;--border-width-thick: 2px;--border-radius-none: 0;--border-radius-sm: .125rem;--border-radius: .375rem;--border-radius-md: .5rem;--border-radius-lg: .75rem;--border-radius-xl: 1rem;--border-radius-full: 9999px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, .06);--transition-fast: .15s ease;--transition-normal: .2s ease;--transition-slow: .3s ease;--transition-bounce: cubic-bezier(.68, -.55, .265, 1.55);--transition-smooth: cubic-bezier(.4, 0, .2, 1);--duration-fast: .15s;--duration-normal: .3s;--duration-slow: .5s;--z-dropdown: 1000;--z-sticky: 1020;--z-fixed: 1030;--z-modal-backdrop: 1040;--z-modal: 1050;--z-popover: 1060;--z-tooltip: 1070;--z-toast: 1080;--input-height: 2.5rem;--input-padding: var(--spacing-3) var(--spacing-4);--input-border: var(--border-width) solid var(--color-gray-300);--input-border-radius: var(--border-radius-md);--button-height: 2.5rem;--button-padding: var(--spacing-3) var(--spacing-4);--button-border-radius: var(--border-radius-md);--device-state-online: var(--color-success);--device-state-offline: var(--color-danger);--device-state-unknown: var(--color-gray-400);--breakpoint-sm: 640px;--breakpoint-md: 768px;--breakpoint-lg: 1024px;--breakpoint-xl: 1280px;--breakpoint-2xl: 1536px;--drag-ghost-opacity: .5;--drop-zone-border: 2px dashed var(--color-primary);--drop-zone-background: var(--color-primary-50);--room-3d-perspective: 1000px;--room-3d-rotation-speed: .5s;--touch-target-min: 44px;--mobile-padding: var(--spacing-4);--mobile-font-scale: 1.1}[data-theme=dark] html[data-theme=dark],:root[data-theme=dark]{--color-background: #1a1a1a;--color-card-background: #2d2d2d;--color-text-primary: #ffffff;--color-text-secondary: #b3b3b3;--color-text-muted: #888888;--color-gray-50: #2d2d2d;--color-gray-100: #3d3d3d;--color-gray-200: #4d4d4d;--color-gray-300: #5d5d5d;--color-gray-400: #6d6d6d;--color-gray-500: #7d7d7d;--color-gray-600: #8d8d8d;--color-gray-700: #9d9d9d;--color-gray-800: #adadad;--color-gray-900: #bdbdbd}[data-theme=high-contrast]{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000;--color-text-primary: #000000;--color-background: #ffffff;--color-card-background: #ffffff}*{transition:background-color var(--transition-normal),color var(--transition-normal),border-color var(--transition-normal)}*:focus,*:hover,*:active{transition:all var(--transition-fast)}html{font-size:16px;height:100%}body{font-family:var(--font-family-primary);font-size:var(--font-size-base);font-weight:var(--font-weight-normal);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-background);height:100%;overflow-x:hidden}#root{min-height:100vh;width:100%}h1,h2,h3,h4,h5,h6{font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin-bottom:var(--spacing-4);line-height:var(--line-height-tight)}h1{font-size:var(--font-size-4xl)}h2{font-size:var(--font-size-3xl)}h3{font-size:var(--font-size-2xl)}h4{font-size:var(--font-size-xl)}h5{font-size:var(--font-size-lg)}h6{font-size:var(--font-size-base)}p{margin-bottom:var(--spacing-4);color:var(--color-text-primary);line-height:var(--line-height-normal)}small{font-size:var(--font-size-sm);color:var(--color-text-secondary)}strong,b{font-weight:var(--font-weight-semibold)}em,i{font-style:italic}code{font-family:var(--font-family-mono);font-size:.9em;background-color:var(--color-gray-100);padding:.125rem .25rem;border-radius:var(--border-radius-sm);color:var(--color-text-primary)}pre{font-family:var(--font-family-mono);font-size:var(--font-size-sm);background-color:var(--color-gray-50);padding:var(--spacing-4);border-radius:var(--border-radius-md);overflow-x:auto;margin-bottom:var(--spacing-4);border:1px solid var(--color-gray-200)}a{color:var(--color-primary);text-decoration:none;transition:color var(--transition-fast)}a:hover{color:var(--color-primary-700);text-decoration:underline}a:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px;border-radius:var(--border-radius-sm)}ul,ol{margin-bottom:var(--spacing-4);padding-left:var(--spacing-6)}ul{list-style-type:disc}ol{list-style-type:decimal}li{margin-bottom:var(--spacing-2);color:var(--color-text-primary)}input,textarea,select{font-family:var(--font-family-primary);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-white);border:var(--input-border);border-radius:var(--input-border-radius);padding:var(--input-padding);transition:border-color var(--transition-fast),box-shadow var(--transition-fast);width:100%}input:focus,textarea:focus,select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #007bff1a}input:disabled,textarea:disabled,select:disabled{background-color:var(--color-gray-100);color:var(--color-text-muted);cursor:not-allowed;opacity:.6}input::placeholder,textarea::placeholder{color:var(--color-text-muted)}table{width:100%;border-collapse:collapse;margin-bottom:var(--spacing-6);background-color:var(--color-white);border-radius:var(--border-radius-md);overflow:hidden;box-shadow:var(--shadow-sm)}th,td{padding:var(--spacing-3) var(--spacing-4);text-align:left;border-bottom:1px solid var(--color-gray-200)}th{background-color:var(--color-gray-50);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);text-transform:uppercase;font-size:var(--font-size-sm);letter-spacing:.05em}tr:hover{background-color:var(--color-gray-50)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-normal{font-weight:var(--font-weight-normal)}.font-medium{font-weight:var(--font-weight-medium)}.font-semibold{font-weight:var(--font-weight-semibold)}.font-bold{font-weight:var(--font-weight-bold)}.text-xs{font-size:var(--font-size-xs)}.text-sm{font-size:var(--font-size-sm)}.text-base{font-size:var(--font-size-base)}.text-lg{font-size:var(--font-size-lg)}.text-xl{font-size:var(--font-size-xl)}.text-2xl{font-size:var(--font-size-2xl)}.text-primary{color:var(--color-text-primary)}.text-secondary{color:var(--color-text-secondary)}.text-muted{color:var(--color-text-muted)}.text-success{color:var(--color-success)}.text-warning{color:var(--color-warning)}.text-danger{color:var(--color-danger)}.bg-white{background-color:var(--color-white)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-primary{background-color:var(--color-primary)}.bg-success{background-color:var(--color-success)}.bg-warning{background-color:var(--color-warning)}.bg-danger{background-color:var(--color-danger)}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media (prefers-contrast: high){:root{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000}}@media print{*,*:before,*:after{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}.container{width:100%;max-width:var(--container-max);margin:0 auto;padding:0 var(--spacing-4)}.container-fluid{width:100%;padding:0 var(--spacing-4)}.main-container{max-width:var(--container-max);margin:0 auto;padding:var(--spacing-4) var(--spacing-8);min-height:100vh;background-color:var(--color-background);color:var(--color-text-primary)}.d-flex{display:flex}.d-inline-flex{display:inline-flex}.d-grid{display:grid}.d-block{display:block}.d-inline-block{display:inline-block}.d-none{display:none}.flex-row{flex-direction:row}.flex-column{flex-direction:column}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.items-start{align-items:flex-start}.items-center{align-items:center}.items-end{align-items:flex-end}.items-stretch{align-items:stretch}.items-baseline{align-items:baseline}.flex-1{flex:1}.flex-auto{flex:auto}.flex-none{flex:none}.grid{display:grid;gap:var(--grid-gap)}.grid-cols-1{grid-template-columns:repeat(1,1fr)}.grid-cols-2{grid-template-columns:repeat(2,1fr)}.grid-cols-3{grid-template-columns:repeat(3,1fr)}.grid-cols-4{grid-template-columns:repeat(4,1fr)}.grid-cols-5{grid-template-columns:repeat(5,1fr)}.grid-cols-6{grid-template-columns:repeat(6,1fr)}.grid-cols-12{grid-template-columns:repeat(12,1fr)}.grid-cols-auto{grid-template-columns:repeat(auto-fit,minmax(0,1fr))}.grid-cols-auto-fit{grid-template-columns:repeat(auto-fit,minmax(var(--device-card-min-width),1fr))}.grid-cols-auto-fill{grid-template-columns:repeat(auto-fill,minmax(var(--device-card-min-width),1fr))}.col-span-1{grid-column:span 1}.col-span-2{grid-column:span 2}.col-span-3{grid-column:span 3}.col-span-4{grid-column:span 4}.col-span-6{grid-column:span 6}.col-span-12{grid-column:span 12}.col-span-full{grid-column:1 / -1}.gap-0{gap:0}.gap-1{gap:var(--spacing-1)}.gap-2{gap:var(--spacing-2)}.gap-3{gap:var(--spacing-3)}.gap-4{gap:var(--spacing-4)}.gap-6{gap:var(--spacing-6)}.gap-8{gap:var(--spacing-8)}.devices-container{width:100%;max-width:var(--container-max);margin:0 auto}.devices-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--grid-gap);margin-top:var(--spacing-6);max-width:1200px;margin-left:auto;margin-right:auto}.devices-grid--compact{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--grid-gap-sm)}.devices-grid--spacious{grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--grid-gap-lg)}.room-2d-container{position:relative;background:var(--color-white);border:2px solid var(--color-gray-200);border-radius:var(--border-radius-lg);min-height:var(--room-min-height);min-width:var(--room-min-width);overflow:hidden}.room-2d-grid{display:grid;grid-template-columns:repeat(auto-fit,var(--room-grid-size));grid-template-rows:repeat(auto-fit,var(--room-grid-size));position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;pointer-events:none}.room-3d-container{perspective:var(--room-3d-perspective);perspective-origin:center center}.drag-container{position:relative}.drag-item{cursor:grab;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.drag-item:active{cursor:grabbing}.drag-item--dragging{opacity:var(--drag-ghost-opacity);transform:scale(1.05);z-index:var(--z-modal);pointer-events:none}.drop-zone{position:relative;min-height:200px;border:var(--drop-zone-border);border-radius:var(--border-radius-lg);background:var(--drop-zone-background);transition:all var(--transition-normal)}.drop-zone--active{border-color:var(--color-primary);background:var(--color-primary-50);transform:scale(1.02)}.drop-zone--invalid{border-color:var(--color-danger);background:var(--color-danger-light)}.m-0{margin:0}.m-1{margin:var(--spacing-1)}.m-2{margin:var(--spacing-2)}.m-3{margin:var(--spacing-3)}.m-4{margin:var(--spacing-4)}.m-5{margin:var(--spacing-5)}.m-6{margin:var(--spacing-6)}.m-8{margin:var(--spacing-8)}.m-auto{margin:auto}.mx-0{margin-left:0;margin-right:0}.mx-1{margin-left:var(--spacing-1);margin-right:var(--spacing-1)}.mx-2{margin-left:var(--spacing-2);margin-right:var(--spacing-2)}.mx-3{margin-left:var(--spacing-3);margin-right:var(--spacing-3)}.mx-4{margin-left:var(--spacing-4);margin-right:var(--spacing-4)}.mx-auto{margin-left:auto;margin-right:auto}.my-0{margin-top:0;margin-bottom:0}.my-1{margin-top:var(--spacing-1);margin-bottom:var(--spacing-1)}.my-2{margin-top:var(--spacing-2);margin-bottom:var(--spacing-2)}.my-3{margin-top:var(--spacing-3);margin-bottom:var(--spacing-3)}.my-4{margin-top:var(--spacing-4);margin-bottom:var(--spacing-4)}.my-6{margin-top:var(--spacing-6);margin-bottom:var(--spacing-6)}.mt-0{margin-top:0}.mt-1{margin-top:var(--spacing-1)}.mt-2{margin-top:var(--spacing-2)}.mt-3{margin-top:var(--spacing-3)}.mt-4{margin-top:var(--spacing-4)}.mt-6{margin-top:var(--spacing-6)}.mt-8{margin-top:var(--spacing-8)}.mb-0{margin-bottom:0}.mb-1{margin-bottom:var(--spacing-1)}.mb-2{margin-bottom:var(--spacing-2)}.mb-3{margin-bottom:var(--spacing-3)}.mb-4{margin-bottom:var(--spacing-4)}.mb-6{margin-bottom:var(--spacing-6)}.mb-8{margin-bottom:var(--spacing-8)}.p-0{padding:0}.p-1{padding:var(--spacing-1)}.p-2{padding:var(--spacing-2)}.p-3{padding:var(--spacing-3)}.p-4{padding:var(--spacing-4)}.p-5{padding:var(--spacing-5)}.p-6{padding:var(--spacing-6)}.p-8{padding:var(--spacing-8)}.px-0{padding-left:0;padding-right:0}.px-1{padding-left:var(--spacing-1);padding-right:var(--spacing-1)}.px-2{padding-left:var(--spacing-2);padding-right:var(--spacing-2)}.px-3{padding-left:var(--spacing-3);padding-right:var(--spacing-3)}.px-4{padding-left:var(--spacing-4);padding-right:var(--spacing-4)}.px-6{padding-left:var(--spacing-6);padding-right:var(--spacing-6)}.py-0{padding-top:0;padding-bottom:0}.py-1{padding-top:var(--spacing-1);padding-bottom:var(--spacing-1)}.py-2{padding-top:var(--spacing-2);padding-bottom:var(--spacing-2)}.py-3{padding-top:var(--spacing-3);padding-bottom:var(--spacing-3)}.py-4{padding-top:var(--spacing-4);padding-bottom:var(--spacing-4)}.py-6{padding-top:var(--spacing-6);padding-bottom:var(--spacing-6)}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.sticky{position:sticky}.static{position:static}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}@media (max-width: 640px){.main-container{padding:var(--mobile-padding)}.devices-grid{grid-template-columns:1fr;gap:var(--grid-gap-sm)}.container{padding:0 var(--mobile-padding)}.sm\:flex-col{flex-direction:column}.sm\:flex-row{flex-direction:row}.sm\:justify-center{justify-content:center}.sm\:items-center{align-items:center}.sm\:grid-cols-1{grid-template-columns:repeat(1,1fr)}.sm\:col-span-full{grid-column:1 / -1}}@media (min-width: 641px) and (max-width: 768px){.devices-grid,.md\:grid-cols-2{grid-template-columns:repeat(2,1fr)}.md\:flex-row{flex-direction:row}}@media (min-width: 769px){.devices-grid{grid-template-columns:repeat(4,1fr)}.lg\:grid-cols-3{grid-template-columns:repeat(3,1fr)}.lg\:grid-cols-4{grid-template-columns:repeat(4,1fr)}}.app-header{background:var(--color-white);padding:var(--spacing-4) var(--spacing-6);border-bottom:1px solid var(--color-gray-200);border-radius:var(--border-radius-md);box-shadow:var(--shadow-sm);margin-bottom:var(--spacing-6);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-4)}.page-title{color:var(--color-text-primary);font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);margin:0;text-shadow:none}.user-controls{display:flex;align-items:center;gap:var(--spacing-4);flex-wrap:wrap}.user-email{color:var(--color-text-secondary);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);background:var(--color-gray-100);padding:var(--spacing-2) var(--spacing-3);border-radius:var(--border-radius)}.view-controls{max-width:var(--container-max);margin:0 auto var(--spacing-4) auto;padding:0 var(--spacing-4)}.view-tabs{display:flex;gap:var(--spacing-2);flex-wrap:wrap;align-items:center}.view-tab{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);border:2px solid var(--color-gray-300);border-radius:var(--border-radius-md);background:var(--color-white);cursor:pointer;transition:all var(--transition-fast);color:var(--color-text-primary);font-weight:var(--font-weight-medium);text-decoration:none;font-size:var(--font-size-sm)}.view-tab:hover:not(:disabled){border-color:var(--color-primary);background:var(--color-primary-50);transform:translateY(-1px)}.view-tab.active{border-color:var(--color-primary);background:var(--color-primary);color:var(--color-white)}.view-tab:disabled{opacity:.6;cursor:not-allowed}.device-count{background:#fff3;color:inherit;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);min-width:20px;text-align:center}.view-tab.active .device-count{background:#ffffff4d}.page-header{max-width:var(--container-max);margin:0 auto var(--spacing-4) auto;padding:0 var(--spacing-4);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-4)}.page-subtitle{color:var(--color-text-secondary);font-size:var(--font-size-sm);margin:0}.sync-controls{display:flex;align-items:center;gap:var(--spacing-2)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);border:1px solid transparent;border-radius:var(--border-radius-md);font-family:var(--font-family-primary);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);line-height:1.2;text-decoration:none;cursor:pointer;transition:all var(--transition-fast);outline:none;min-height:var(--button-height);white-space:nowrap;-webkit-user-select:none;user-select:none;color:inherit;text-shadow:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.btn:focus-visible{box-shadow:0 0 0 3px #007bff40}.btn:disabled{opacity:.6;cursor:not-allowed;pointer-events:none}.btn-primary{background-color:var(--color-primary);color:var(--color-white);border-color:var(--color-primary)}.btn-primary:hover:not(:disabled){background-color:var(--color-primary-700);border-color:var(--color-primary-700);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-secondary{background-color:var(--color-gray-200);color:var(--color-text-primary);border-color:var(--color-gray-300)}.btn-secondary:hover:not(:disabled){background-color:var(--color-gray-300);border-color:var(--color-gray-400)}.btn-success{background-color:var(--color-success);color:var(--color-white);border-color:var(--color-success)}.btn-success:hover:not(:disabled){background-color:var(--color-success-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-danger{background-color:var(--color-danger);color:var(--color-white)!important;border-color:var(--color-danger);text-shadow:none}.btn-danger:hover:not(:disabled){background-color:var(--color-danger-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-warning{background-color:var(--color-warning);color:var(--color-white);border-color:var(--color-warning)}.btn-warning:hover:not(:disabled){background-color:var(--color-warning-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-outline-primary{background-color:transparent;color:var(--color-primary);border-color:var(--color-primary)}.btn-outline-primary:hover:not(:disabled){background-color:var(--color-primary);color:var(--color-white)}.btn-outline-secondary{background-color:transparent;color:var(--color-gray-600);border-color:var(--color-gray-400)}.btn-outline-secondary:hover:not(:disabled){background-color:var(--color-gray-100);border-color:var(--color-gray-500)}.btn-outline-secondary{background:#ffffff1a;color:#fffc;border:2px solid rgba(255,255,255,.3)}.btn-outline-secondary:hover{background:#fff3;color:#fff;border-color:#ffffff80}.btn-sm{padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-xs);min-height:2rem}.btn-lg{padding:var(--spacing-4) var(--spacing-6);font-size:var(--font-size-base);min-height:3rem}.btn-xl{padding:var(--spacing-5) var(--spacing-8);font-size:var(--font-size-lg);min-height:3.5rem}.btn-block{width:100%}.btn-loading{position:relative;pointer-events:none}.btn-loading:after{content:"";position:absolute;width:1rem;height:1rem;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin .8s linear infinite}.btn-device-control{width:100%;min-height:3rem;padding:var(--spacing-3) var(--spacing-4);border-radius:var(--border-radius-md);font-weight:var(--font-weight-semibold);font-size:var(--font-size-sm);transition:all var(--transition-normal);position:relative;overflow:hidden}.btn-device-control--on{background-color:var(--color-success);color:var(--color-white);border-color:var(--color-success);box-shadow:var(--shadow-sm)}.btn-device-control--off{background-color:var(--color-gray-100);color:var(--color-text-primary);border:2px solid var(--color-gray-300)}.btn-device-control:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-device-control--on:hover:not(:disabled){background-color:var(--color-success-dark)}.btn-device-control--off:hover:not(:disabled){background-color:var(--color-gray-200);border-color:var(--color-gray-400)}.card{background-color:var(--color-card-background);border:1px solid var(--color-gray-200);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);overflow:hidden;transition:all var(--transition-normal)}.card:hover{box-shadow:var(--shadow-md);transform:translateY(-2px)}.card-header{padding:var(--spacing-4) var(--spacing-5);border-bottom:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}.card-body{padding:var(--spacing-5)}.card-footer{padding:var(--spacing-4) var(--spacing-5);border-top:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}.card-title{margin:0 0 var(--spacing-2) 0;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.card-subtitle{margin:0 0 var(--spacing-3) 0;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.card-text{margin:0 0 var(--spacing-4) 0;color:var(--color-text-primary)}.card-elevated{box-shadow:var(--shadow-lg)}.card-bordered{border:2px solid var(--color-gray-300)}.card-success{border-color:var(--color-success);background-color:var(--color-success-light)}.card-warning{border-color:var(--color-warning);background-color:var(--color-warning-light)}.card-danger{border-color:var(--color-danger);background-color:var(--color-danger-light)}.form-group{margin-bottom:var(--spacing-4)}.form-label{display:block;margin-bottom:var(--spacing-2);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-primary)}.form-control{width:100%;padding:var(--input-padding);border:var(--input-border);border-radius:var(--input-border-radius);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-white);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.form-control:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #007bff1a}.form-control:disabled{background-color:var(--color-gray-100);color:var(--color-text-muted);cursor:not-allowed;opacity:.6}.form-control.is-invalid{border-color:var(--color-danger)}.form-control.is-invalid:focus{border-color:var(--color-danger);box-shadow:0 0 0 3px #dc35451a}.form-text{margin-top:var(--spacing-1);font-size:var(--font-size-xs);color:var(--color-text-muted)}.invalid-feedback{display:block;margin-top:var(--spacing-1);font-size:var(--font-size-xs);color:var(--color-danger)}.badge{display:inline-flex;align-items:center;padding:var(--spacing-1) var(--spacing-3);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.05em;border-radius:var(--border-radius-full);white-space:nowrap}.badge-primary{background-color:var(--color-primary);color:var(--color-white)}.badge-secondary{background-color:var(--color-gray-200);color:var(--color-text-primary)}.badge-success{background-color:var(--color-success);color:var(--color-white)}.badge-warning{background-color:var(--color-warning);color:var(--color-white)}.badge-danger{background-color:var(--color-danger);color:var(--color-white)}.badge-info{background-color:var(--color-info);color:var(--color-white)}.badge-outline-primary{background-color:transparent;color:var(--color-primary);border:1px solid var(--color-primary)}.badge-outline-secondary{background-color:transparent;color:var(--color-gray-600);border:1px solid var(--color-gray-400)}.badge-lg{padding:var(--spacing-2) var(--spacing-4);font-size:var(--font-size-sm)}.status-indicator{display:inline-flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.status-indicator:before{content:"";width:8px;height:8px;border-radius:50%;flex-shrink:0}.status-indicator--online:before{background-color:var(--color-success);box-shadow:0 0 0 2px var(--color-success-light)}.status-indicator--offline:before{background-color:var(--color-danger);box-shadow:0 0 0 2px var(--color-danger-light)}.status-indicator--unknown:before{background-color:var(--color-gray-400);box-shadow:0 0 0 2px var(--color-gray-200)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--color-overlay);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal-backdrop);padding:var(--spacing-4);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{background-color:var(--color-card-background);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);max-width:90vw;max-height:90vh;overflow-y:auto;position:relative;z-index:var(--z-modal);animation:modalSlideIn var(--duration-normal) var(--transition-smooth)}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-6);border-bottom:1px solid var(--color-gray-200)}.modal-title{margin:0;font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.modal-close{background:none;border:none;font-size:var(--font-size-xl);color:var(--color-text-muted);cursor:pointer;padding:var(--spacing-2);border-radius:var(--border-radius);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:2rem;height:2rem}.modal-close:hover{background-color:var(--color-gray-100);color:var(--color-text-primary)}.modal-body{padding:var(--spacing-6)}.modal-footer{display:flex;align-items:center;justify-content:flex-end;gap:var(--spacing-3);padding:var(--spacing-6);border-top:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}@keyframes modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:fadeIn var(--duration-normal) var(--transition-smooth)}.animate-slide-in-up{animation:slideInUp var(--duration-normal) var(--transition-smooth)}.animate-slide-in-down{animation:slideInDown var(--duration-normal) var(--transition-smooth)}.app-layout{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);background-attachment:fixed}.app-layout:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 25% 25%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 75% 75%,rgba(255,255,255,.05) 0%,transparent 50%);pointer-events:none;z-index:1}.modern-header{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:none;border-bottom:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a;position:sticky;top:0;z-index:100;border-radius:0}.header-brand{display:flex;flex-direction:column;gap:var(--spacing-1)}.brand-logo{display:flex;align-items:center;gap:var(--spacing-3)}.logo-icon{font-size:2.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.brand-title{font-size:var(--font-size-3xl);font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0}.brand-subtitle{font-size:var(--font-size-sm);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);margin:0}.header-actions{display:flex;align-items:center;gap:var(--spacing-6)}.user-info{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-2) var(--spacing-4);background:#ffffff80;border-radius:var(--border-radius-full);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-avatar{width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:var(--font-size-lg)}.user-details{display:flex;flex-direction:column;gap:var(--spacing-1)}.user-name{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.user-email{font-size:var(--font-size-xs);color:var(--color-text-secondary)}.btn-modern{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-5);background:#ffffffe6;border:1px solid rgba(255,255,255,.3);border-radius:var(--border-radius-full);color:var(--color-text-primary);font-weight:var(--font-weight-medium);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all var(--transition-normal)}.btn-modern:hover{background:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn-logout:hover{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border-color:transparent}@media (max-width: 1024px){.modern-header{padding:var(--spacing-4, 16px) var(--spacing-5, 20px)}.header-brand{gap:var(--spacing-3, 12px)}.brand-title{font-size:var(--font-size-lg, 18px)}.brand-subtitle{font-size:var(--font-size-xs, 12px)}.header-actions{gap:var(--spacing-3, 12px)}.user-details{display:none}}@media (max-width: 768px){.modern-header{max-height:100px;min-height:60px;flex-direction:column;align-items:flex-start;gap:var(--spacing-3, 12px);padding:var(--spacing-3, 12px) var(--spacing-4, 16px)}.header-brand{gap:var(--spacing-2, 8px)}.header-actions{gap:var(--spacing-3, 12px)}.user-info{gap:var(--spacing-2, 8px)}.user-name{font-size:var(--font-size-sm, 14px)}}@media (max-width: 480px){.modern-header{padding:var(--spacing-2, 8px) var(--spacing-3, 12px)}.brand-logo{gap:var(--spacing-2, 8px)}.logo-icon{font-size:var(--font-size-lg, 18px)}.brand-title{font-size:var(--font-size-lg, 18px);line-height:1.2}.brand-subtitle{font-size:var(--font-size-xs, 12px);line-height:1.2}.header-actions{gap:var(--spacing-2, 8px)}.btn-modern{padding:var(--spacing-2, 8px);font-size:var(--font-size-xs, 12px)}}.app-navigation{display:none}.old-app-navigation{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-lg);margin:var(--spacing-2) var(--spacing-6) 0 var(--spacing-6);padding:var(--spacing-2);box-shadow:0 2px 8px #0000000f;position:sticky;top:var(--header-height);z-index:9;max-width:600px;margin-left:auto;margin-right:auto}.nav-container{max-width:var(--container-max);margin:0 auto}.nav-tabs{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-3)}.nav-tab{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);padding:var(--spacing-4) var(--spacing-5);background:transparent;border:2px solid transparent;border-radius:var(--border-radius-lg);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);transition:all var(--transition-normal);position:relative;cursor:pointer}.nav-tab:not(:disabled):hover{background:#667eea1a;border-color:#667eea33;color:var(--color-text-primary);transform:translateY(-2px)}.nav-tab.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;color:#fff;box-shadow:0 4px 12px #667eea4d}.nav-tab:disabled{opacity:.5;cursor:not-allowed}.nav-icon{font-size:var(--font-size-2xl);line-height:1}.nav-label{font-size:var(--font-size-sm);text-align:center;white-space:nowrap}.nav-badge{position:absolute;top:var(--spacing-2);right:var(--spacing-2);background:#dc3545;color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center}.nav-tab.active .nav-badge{background:#ffffffe6;color:var(--color-text-primary)}@media (max-width: 768px){.modern-header{padding:var(--spacing-4)}.header-controls{display:flex;align-items:center;gap:var(--spacing-3);margin-left:auto}.header-control-group{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-2) var(--spacing-3);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:var(--border-radius-md);border:1px solid rgba(255,255,255,.2)}.view-toggle-btn{display:flex;align-items:center;gap:var(--spacing-1);padding:var(--spacing-2);background:transparent;border:1px solid rgba(255,255,255,.3);border-radius:var(--border-radius);color:#ffffffe6;cursor:pointer;transition:all var(--transition-fast)}.view-toggle-btn:hover{background:#ffffff1a;border-color:#ffffff80}.view-toggle-btn.active{background:#fff3;border-color:#fff9}.header-actions{flex-direction:row;gap:var(--spacing-2);align-items:flex-end}.user-info{order:2}.nav-tabs{grid-template-columns:repeat(2,1fr);gap:var(--spacing-2)}.nav-tab{padding:var(--spacing-3)}.nav-icon{font-size:var(--font-size-xl)}.nav-label{font-size:var(--font-size-xs)}}@media (max-width: 480px){.brand-title{font-size:var(--font-size-2xl)}.logo-icon{font-size:2rem}.user-details{display:none}.nav-tabs{grid-template-columns:1fr;gap:var(--spacing-2)}.nav-tab{flex-direction:row;justify-content:flex-start;text-align:left}.nav-icon{font-size:var(--font-size-lg)}}.content-area{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-6) var(--spacing-6);padding:var(--spacing-6);box-shadow:0 8px 32px #0000001a;position:relative;z-index:10;min-height:60vh}.content-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-6);padding-bottom:var(--spacing-4);border-bottom:2px solid rgba(0,0,0,.05)}.content-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0;display:flex;align-items:center;gap:var(--spacing-3)}.content-stats{display:flex;gap:var(--spacing-6)}.stats-item{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1)}.stats-value{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}.stats-label{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);text-transform:uppercase;letter-spacing:.05em}.devices-modern-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:var(--spacing-6);margin-top:var(--spacing-6)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--spacing-12) var(--spacing-6);min-height:400px}.empty-state-icon{font-size:4rem;margin-bottom:var(--spacing-6);opacity:.5;filter:grayscale(.5)}.empty-state-title{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0 0 var(--spacing-3) 0}.empty-state-description{font-size:var(--font-size-base);color:var(--color-text-secondary);max-width:500px;line-height:var(--line-height-relaxed);margin:0 0 var(--spacing-6) 0}.empty-state-actions{display:flex;gap:var(--spacing-4);flex-wrap:wrap;justify-content:center}@media (max-width: 768px){.content-area{margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.content-header{flex-direction:column;align-items:flex-start;gap:var(--spacing-4)}.content-stats{align-self:stretch;justify-content:space-around}.devices-modern-grid{grid-template-columns:1fr;gap:var(--spacing-4)}.empty-state{padding:var(--spacing-8) var(--spacing-4)}.empty-state-icon{font-size:3rem}.empty-state-actions{flex-direction:column;width:100%}.empty-state-actions .btn{width:100%}}@media (max-width: 480px){.content-title,.stats-value{font-size:var(--font-size-xl)}.devices-modern-grid{grid-template-columns:1fr}}.device-modern-card{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:var(--border-radius-xl);padding:var(--spacing-5);box-shadow:0 4px 20px #00000014;transition:all var(--transition-normal);position:relative;overflow:hidden;display:flex;flex-direction:column;gap:var(--spacing-4)}.device-modern-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent,var(--color-primary),transparent);opacity:0;transition:opacity var(--transition-normal)}.device-modern-card:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f;border-color:#667eea4d}.device-modern-card:hover:before{opacity:1}.device-modern-card.active{border-color:#28a74566}.device-modern-card.active:before{background:linear-gradient(90deg,transparent,var(--color-success),transparent);opacity:1}.device-modern-card.offline{opacity:.7;border-color:#dc35454d}.device-modern-card.offline:before{background:linear-gradient(90deg,transparent,var(--color-danger),transparent);opacity:.6}.device-modern-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-2)}.device-category-badge{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-2) var(--spacing-3);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold)}.category-icon{font-size:var(--font-size-sm);line-height:1}.category-label{text-transform:uppercase;letter-spacing:.05em}.device-status-indicator{display:flex;align-items:center;gap:var(--spacing-2)}.status-dot{width:8px;height:8px;border-radius:50%;transition:all var(--transition-fast)}.status-dot.online{background:var(--color-success);box-shadow:0 0 0 2px #28a74533}.status-dot.offline{background:var(--color-danger);box-shadow:0 0 0 2px #dc354533}.status-text{font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--color-text-secondary)}.device-title-section{margin-bottom:var(--spacing-3)}.device-title{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0 0 var(--spacing-1) 0;line-height:var(--line-height-tight);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.device-original-name{font-size:var(--font-size-xs);color:var(--color-text-muted);margin:0;font-style:italic;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.device-room-assignment{display:flex;flex-direction:column;gap:var(--spacing-2);margin-bottom:var(--spacing-3)}.room-label{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.modern-select{background:#fffc;border:1px solid rgba(0,0,0,.1);border-radius:var(--border-radius-md);padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-sm);color:var(--color-text-primary);transition:all var(--transition-fast)}.modern-select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #667eea1a;background:#fff}.device-main-control{margin-bottom:var(--spacing-4)}.main-control-button{width:100%;padding:var(--spacing-4);border:none;border-radius:var(--border-radius-lg);font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);color:#fff;cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden}.main-control-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.main-control-button:hover:before{left:100%}.main-control-button:disabled{opacity:.6;cursor:not-allowed}.main-control-button:disabled:before{display:none}.control-content,.control-loading{display:flex;align-items:center;justify-content:center;gap:var(--spacing-3)}.control-icon{font-size:var(--font-size-lg);line-height:1}.control-text{font-weight:var(--font-weight-bold);letter-spacing:.05em}.loading-spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.device-sensor-data{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:var(--spacing-3);padding:var(--spacing-3);background:#00000005;border-radius:var(--border-radius-md);margin-bottom:var(--spacing-3)}.sensor-item{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);text-align:center}.sensor-icon{font-size:var(--font-size-lg);line-height:1}.sensor-info{display:flex;flex-direction:column;gap:var(--spacing-1)}.sensor-value{font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);color:var(--color-text-primary);line-height:1}.sensor-label{font-size:var(--font-size-xs);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.device-additional-states{border:none;background:none;margin-bottom:var(--spacing-3)}.states-toggle{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-3);background:#00000005;border-radius:var(--border-radius-md);cursor:pointer;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-secondary);transition:all var(--transition-fast)}.states-toggle:hover{background:#0000000a;color:var(--color-text-primary)}.states-count{background:var(--color-primary);color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center}.states-list{margin-top:var(--spacing-2);display:flex;flex-direction:column;gap:var(--spacing-2)}.state-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-2) var(--spacing-3);background:#ffffff80;border-radius:var(--border-radius-sm);font-size:var(--font-size-xs)}.state-code{color:var(--color-text-secondary);font-family:var(--font-family-mono)}.state-value{font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.device-footer{margin-top:auto;padding-top:var(--spacing-3);border-top:1px solid rgba(0,0,0,.05)}.device-meta{display:flex;justify-content:space-between;align-items:center;font-size:var(--font-size-xs);color:var(--color-text-muted);margin-bottom:var(--spacing-2)}.device-id{font-family:var(--font-family-mono);background:#0000000d;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-sm)}.last-updated{font-style:italic}.device-notes{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-style:italic;padding:var(--spacing-2);background:#ffc1071a;border-radius:var(--border-radius-sm);border-left:3px solid var(--color-warning)}@media (max-width: 480px){.device-modern-card{padding:var(--spacing-4)}.device-category-badge{flex-wrap:wrap;gap:var(--spacing-1)}.device-sensor-data{grid-template-columns:1fr 1fr}.sensor-item{flex-direction:row;text-align:left}.device-meta{flex-direction:column;align-items:flex-start;gap:var(--spacing-1)}}.modern-notification{position:fixed;bottom:var(--spacing-6);right:var(--spacing-6);background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(40,167,69,.2);border-radius:var(--border-radius-lg);box-shadow:0 8px 32px #0000001a;z-index:1050;max-width:350px;transform:translateY(100px);opacity:0;transition:all var(--transition-normal);overflow:hidden}.modern-notification.show{transform:translateY(0);opacity:1}.notification-content{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-4) var(--spacing-5)}.notification-icon{width:24px;height:24px;background:linear-gradient(135deg,var(--color-success),#20c997);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold)}.notification-text{font-size:var(--font-size-sm);color:var(--color-text-primary);font-weight:var(--font-weight-medium)}.notification-progress{height:3px;background:linear-gradient(90deg,var(--color-success),#20c997);border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg);animation:progress 3s linear}@keyframes progress{0%{width:100%}to{width:0%}}@media (max-width: 480px){.modern-notification{bottom:var(--spacing-4);right:var(--spacing-4);left:var(--spacing-4);max-width:none}}.room-selector-modern{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-4) var(--spacing-6);padding:var(--spacing-4) var(--spacing-5);box-shadow:0 8px 32px #0000001a;position:relative;z-index:10}.selector-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-4);padding-bottom:var(--spacing-3);border-bottom:2px solid rgba(0,0,0,.05)}.selector-title{display:flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-base);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.title-icon{font-size:var(--font-size-lg)}.selector-stats{display:flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-sm)}.stats-count{font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.stats-label{color:var(--color-text-secondary);font-size:var(--font-size-xs)}.room-tabs-modern{display:flex;gap:var(--spacing-3);overflow-x:auto;padding-bottom:var(--spacing-2);scrollbar-width:thin;scrollbar-color:rgba(102,126,234,.3) transparent}.room-tabs-modern::-webkit-scrollbar{height:4px}.room-tabs-modern::-webkit-scrollbar-track{background:transparent}.room-tabs-modern::-webkit-scrollbar-thumb{background:#667eea4d;border-radius:2px}.room-tab-modern{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-3) var(--spacing-4);background:#ffffffb3;border:2px solid transparent;border-radius:var(--border-radius-lg);cursor:pointer;transition:all var(--transition-normal);white-space:nowrap;flex-shrink:0;min-width:140px}.room-tab-modern:hover{background:#ffffffe6;border-color:#667eea33;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.room-tab-modern.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;color:#fff;transform:translateY(-2px);box-shadow:0 6px 20px #667eea4d}.room-info{display:flex;align-items:center;gap:var(--spacing-2);flex:1;min-width:0}.room-icon-modern{width:32px;height:32px;border-radius:var(--border-radius-md);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-base);flex-shrink:0}.room-details{display:flex;flex-direction:column;gap:var(--spacing-1);min-width:0}.room-name-modern{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:inherit;line-height:1.2;overflow:hidden;text-overflow:ellipsis}.room-description{font-size:var(--font-size-xs);opacity:.7;line-height:1.2;overflow:hidden;text-overflow:ellipsis}.device-count-modern{background:var(--color-primary);color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center;flex-shrink:0}.room-tab-modern.active .device-count-modern{background:#fff3;color:#fff}.delete-room-modern{border-color:#dc354533}.delete-room-modern:hover{background:#dc35450d;border-color:#dc35454d}.delete-room-modern .room-icon-modern{background:#dc35451a;color:var(--color-danger)}.create-room-modern{border-color:#28a74533;border-style:dashed}.create-room-modern:hover{background:#28a7450d;border-color:#28a7454d;border-style:solid}.create-room-modern .room-icon-modern{background:#28a7451a;color:var(--color-success)}.create-room-form-modern{background:#28a7450d;border:2px solid rgba(40,167,69,.2);border-radius:var(--border-radius-lg);padding:var(--spacing-4);display:flex;align-items:center;gap:var(--spacing-3);min-width:300px;flex-shrink:0}.form-header{display:flex;align-items:center;gap:var(--spacing-2);flex-shrink:0}.form-icon{font-size:var(--font-size-base)}.form-title{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);white-space:nowrap}.form-input-group{flex:1;min-width:120px}.room-input-modern{width:100%;padding:var(--spacing-2) var(--spacing-3);border:2px solid rgba(40,167,69,.3);border-radius:var(--border-radius-md);font-size:var(--font-size-sm);background:#ffffffe6;color:var(--color-text-primary)}.form-actions{display:flex;gap:var(--spacing-2);flex-shrink:0}.btn-form-cancel,.btn-form-create{padding:var(--spacing-2) var(--spacing-3);border:none;border-radius:var(--border-radius-md);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);cursor:pointer;white-space:nowrap}.btn-form-cancel{background:#6c757d1a;color:var(--color-text-secondary)}.btn-form-create{background:var(--color-success);color:#fff}.btn-form-create:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #28a7454d}.btn-form-create:disabled{opacity:.6;cursor:not-allowed}.btn-loading-spinner{width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.modal-overlay-modern{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--spacing-4)}.modal-modern{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);box-shadow:0 20px 60px #0003;max-width:500px;width:100%;overflow:hidden;transform:scale(.9);animation:modalAppear .3s ease forwards}@keyframes modalAppear{to{transform:scale(1)}}.modal-header-modern{padding:var(--spacing-6);border-bottom:2px solid rgba(0,0,0,.05)}.modal-title{display:flex;align-items:center;gap:var(--spacing-3);font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.modal-icon{font-size:var(--font-size-xl)}.modal-body-modern{padding:var(--spacing-6)}.modal-warning{background:#ffc1071a;border-left:4px solid var(--color-warning);padding:var(--spacing-3);border-radius:var(--border-radius-sm);font-size:var(--font-size-sm);color:var(--color-text-secondary);margin-top:var(--spacing-3)}.modal-footer-modern{display:flex;gap:var(--spacing-3);padding:var(--spacing-6);border-top:2px solid rgba(0,0,0,.05);justify-content:flex-end}.btn-modal-cancel,.btn-modal-delete{padding:var(--spacing-3) var(--spacing-5);border:none;border-radius:var(--border-radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;gap:var(--spacing-2)}.btn-modal-cancel{background:#6c757d1a;color:var(--color-text-secondary);border:2px solid rgba(108,117,125,.2)}.btn-modal-cancel:hover{background:#6c757d26;color:var(--color-text-primary)}.btn-modal-delete{background:linear-gradient(135deg,var(--color-danger),#c82333);color:#fff;border:2px solid transparent}.btn-modal-delete:hover{transform:translateY(-1px);box-shadow:0 4px 12px #dc35454d}@media (max-width: 768px){.room-selector-modern{margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.room-tab-modern{padding:var(--spacing-3) var(--spacing-4)}.room-icon-modern{width:40px;height:40px;font-size:var(--font-size-base)}.room-details{gap:var(--spacing-1)}.form-actions{flex-direction:column}.btn-form-cancel,.btn-form-create{width:100%;justify-content:center}.modal-modern{margin:var(--spacing-4);max-width:none}.modal-footer-modern{flex-direction:column}.btn-modal-cancel,.btn-modal-delete{width:100%;justify-content:center}}@media (max-width: 480px){.room-tabs-modern{gap:var(--spacing-2)}.room-tab-modern{padding:var(--spacing-3)}.room-info{gap:var(--spacing-3)}.room-icon-modern{width:36px;height:36px}.room-name-modern{font-size:var(--font-size-sm)}.room-description{display:none}}.modern-loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-8);text-align:center;position:relative}.loading-animation{position:relative;margin-bottom:var(--spacing-8)}.loading-spinner-large{width:60px;height:60px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:var(--spacing-4)}.loading-dots{display:flex;gap:var(--spacing-2);justify-content:center}.loading-dots span{width:8px;height:8px;background:#ffffffb3;border-radius:50%;animation:loadingDots 1.4s ease infinite}.loading-dots span:nth-child(1){animation-delay:0s}.loading-dots span:nth-child(2){animation-delay:.2s}.loading-dots span:nth-child(3){animation-delay:.4s}.loading-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:#fff;margin:0 0 var(--spacing-3) 0;text-shadow:0 2px 4px rgba(0,0,0,.3)}.loading-description{font-size:var(--font-size-base);color:#fffc;margin:0;font-weight:var(--font-weight-medium)}.modern-error-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-8);text-align:center;position:relative}.error-animation{position:relative;margin-bottom:var(--spacing-8)}.error-icon{font-size:4rem;margin-bottom:var(--spacing-4);filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));animation:errorBounce 2s ease infinite}.error-pulse{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;border:2px solid rgba(255,255,255,.3);border-radius:50%;animation:errorPulse 2s ease infinite}.error-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:#fff;margin:0 0 var(--spacing-3) 0;text-shadow:0 2px 4px rgba(0,0,0,.3)}.error-description{font-size:var(--font-size-base);color:#fffc;margin:0 0 var(--spacing-6) 0;max-width:500px;line-height:var(--line-height-relaxed)}.error-actions{display:flex;gap:var(--spacing-4);flex-wrap:wrap;justify-content:center}.error-retry-btn{animation:errorRetryPulse 3s ease infinite}@keyframes loadingDots{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes errorBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes errorPulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:1}to{transform:translate(-50%,-50%) scale(1.2);opacity:0}}@keyframes errorRetryPulse{0%,to{box-shadow:0 4px 12px #667eea4d}50%{box-shadow:0 6px 20px #667eea80;transform:translateY(-1px)}}@media (max-width: 768px){.modern-loading-state,.modern-error-state{padding:var(--spacing-6)}.loading-spinner-large{width:48px;height:48px;border-width:3px}.error-icon{font-size:3rem}.loading-title,.error-title{font-size:var(--font-size-xl)}.error-actions{flex-direction:column;width:100%}.error-actions .btn{width:100%}}.page-header{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-6) var(--spacing-6);padding:var(--spacing-5) var(--spacing-6);box-shadow:0 8px 32px #0000001a;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:10;gap:var(--spacing-4)}.page-subtitle{font-size:var(--font-size-base);color:var(--color-text-secondary);margin:0;font-weight:var(--font-weight-medium);flex:1}.sync-controls{display:flex;align-items:center;gap:var(--spacing-4);flex-shrink:0}.last-update{font-size:var(--font-size-xs);color:var(--color-text-muted);font-style:italic;white-space:nowrap}.devices-container{position:relative;z-index:5}@media (max-width: 768px){.page-header{flex-direction:column;align-items:flex-start;gap:var(--spacing-4);margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.sync-controls{width:100%;justify-content:space-between}.last-update{white-space:normal;text-align:right}}@media (max-width: 480px){.sync-controls{flex-direction:column;align-items:stretch;gap:var(--spacing-3)}.sync-controls .btn{width:100%;text-align:center}.last-update{text-align:center}}.dark-theme{--color-background: #0f0f1a;--color-card-background: #1a1a2e;--color-text-primary: #ffffff;--color-text-secondary: #b3b3b3;--color-text-muted: #888888;--color-gray-50: #1a1a2e;--color-gray-100: #252540;--color-gray-200: #2f2f55;--color-gray-300: #3a3a6a;--color-gray-400: #45457f;--color-gray-500: #505095;--color-gray-600: #5b5baa;--color-gray-700: #6666bf;--color-gray-800: #7171d4;--color-gray-900: #7c7ce9}.dark-theme .app-layout{background:linear-gradient(135deg,#0f0f1a,#1a1a2e)}.dark-theme .app-layout:before{background:radial-gradient(circle at 25% 25%,rgba(102,126,234,.15) 0%,transparent 50%),radial-gradient(circle at 75% 75%,rgba(118,75,162,.1) 0%,transparent 50%)}.dark-theme .modern-header,.dark-theme .room-selector-modern,.dark-theme .app-navigation,.dark-theme .content-area,.dark-theme .room-visualization-modern,.dark-theme .page-header{background:#1a1a2ee6;border-color:#ffffff1a}.dark-theme .device-modern-card{background:#1a1a2ef2;border-color:#ffffff1a}.dark-theme .device-modern-card:hover{border-color:#667eea66}.dark-theme .btn-modern{background:#1a1a2ee6;border-color:#fff3;color:var(--color-text-primary)}.dark-theme .btn-modern:hover{background:#1a1a2e;border-color:#ffffff4d}.dark-theme .modern-select,.dark-theme .room-input-modern{background:#1a1a2ecc;border-color:#fff3;color:var(--color-text-primary)}.dark-theme .modern-select:focus,.dark-theme .room-input-modern:focus{background:#1a1a2e;border-color:var(--color-primary)}.btn-theme-toggle{position:relative;overflow:hidden}.btn-theme-toggle .btn-icon{transition:transform var(--transition-normal)}.dark-theme .btn-theme-toggle .btn-icon{transform:rotate(180deg)}.btn-theme-toggle:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-180deg);opacity:0;transition:all var(--transition-normal)}.dark-theme .btn-theme-toggle:after{opacity:1;transform:translate(-50%,-50%) rotate(0)}.dark-theme .btn-theme-toggle .btn-icon{opacity:0}.quick-actions{display:flex;gap:var(--spacing-2);align-items:center}.quick-action{width:40px;height:40px;border:2px solid rgba(102,126,234,.2);background:#fffc;border-radius:var(--border-radius-md);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-lg);transition:all var(--transition-fast);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.quick-action:hover:not(:disabled){border-color:#667eea80;background:#fff;transform:translateY(-2px)}.quick-action.active{border-color:var(--color-primary);background:var(--color-primary);color:#fff}.quick-action:disabled{opacity:.5;cursor:not-allowed}.quick-action.sync{border-color:#28a7454d}.quick-action.sync:hover{border-color:var(--color-success);background:var(--color-success);color:#fff}@media (max-width: 480px){.quick-actions{display:none}}.sync-button{position:relative;overflow:hidden}.sync-icon{display:inline-block;transition:transform var(--transition-normal)}.sync-icon.spinning{animation:spin 1s linear infinite}.sync-button.loading:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:shimmer 1.5s infinite}.last-update-info{display:flex;flex-direction:column;gap:var(--spacing-1);font-size:var(--font-size-xs)}.update-label{color:var(--color-text-secondary);font-weight:var(--font-weight-medium)}.update-time{color:var(--color-text-muted);font-family:var(--font-family-mono)}.device-skeleton{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:var(--border-radius-xl);padding:var(--spacing-5);display:flex;flex-direction:column;gap:var(--spacing-4);animation:skeletonPulse 1.5s ease-in-out infinite}.skeleton-header{display:flex;justify-content:space-between;align-items:center}.skeleton-badge{width:120px;height:24px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-full);animation:shimmer 1.5s infinite}.skeleton-status{width:60px;height:20px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-sm);animation:shimmer 1.5s infinite}.skeleton-title{width:80%;height:28px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-md);animation:shimmer 1.5s infinite}.skeleton-select{width:100%;height:36px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-md);animation:shimmer 1.5s infinite}.skeleton-button{width:100%;height:48px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-lg);animation:shimmer 1.5s infinite}.skeleton-footer{width:60%;height:16px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-sm);animation:shimmer 1.5s infinite}.dark-theme .device-skeleton{background:#1a1a2ef2}.dark-theme .skeleton-badge,.dark-theme .skeleton-status,.dark-theme .skeleton-title,.dark-theme .skeleton-select,.dark-theme .skeleton-button,.dark-theme .skeleton-footer{background:linear-gradient(90deg,#2a2a3e 25%,#3a3a5e,#2a2a3e 75%);background-size:200% 100%}@keyframes skeletonPulse{0%,to{opacity:1}50%{opacity:.7}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.device-modern-card{animation:cardSlideIn .5s ease-out}.device-modern-card:nth-child(1){animation-delay:.1s}.device-modern-card:nth-child(2){animation-delay:.2s}.device-modern-card:nth-child(3){animation-delay:.3s}.device-modern-card:nth-child(4){animation-delay:.4s}@keyframes cardSlideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.device-modern-card.action-success{animation:actionSuccess .6s ease-out}@keyframes actionSuccess{0%{transform:scale(1)}50%{transform:scale(1.02);box-shadow:0 8px 32px #28a7454d}to{transform:scale(1)}}@media (max-width: 768px){.last-update-info{align-items:center;text-align:center}.sync-controls{flex-direction:column;gap:var(--spacing-3);width:100%}.sync-button{width:100%}}@media (prefers-reduced-motion: reduce){.sync-icon.spinning,.device-skeleton,.skeleton-badge,.skeleton-status,.skeleton-title,.skeleton-select,.skeleton-button,.skeleton-footer,.device-modern-card{animation:none}}.d-none{display:none!important}.d-block{display:block!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-grid{display:grid!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-y-auto{overflow-y:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-y-hidden{overflow-y:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.min-h-0{min-height:0!important}.min-h-100{min-height:100%!important}.min-h-screen{min-height:100vh!important}.max-w-none{max-width:none!important}.max-w-xs{max-width:20rem!important}.max-w-sm{max-width:24rem!important}.max-w-md{max-width:28rem!important}.max-w-lg{max-width:32rem!important}.max-w-xl{max-width:36rem!important}.max-w-2xl{max-width:42rem!important}.max-w-3xl{max-width:48rem!important}.max-w-4xl{max-width:56rem!important}.max-w-5xl{max-width:64rem!important}.max-w-6xl{max-width:72rem!important}.max-w-full{max-width:100%!important}.border{border:1px solid var(--color-gray-300)!important}.border-0{border:0!important}.border-top{border-top:1px solid var(--color-gray-300)!important}.border-end{border-right:1px solid var(--color-gray-300)!important}.border-bottom{border-bottom:1px solid var(--color-gray-300)!important}.border-start{border-left:1px solid var(--color-gray-300)!important}.border-primary{border-color:var(--color-primary)!important}.border-secondary{border-color:var(--color-gray-300)!important}.border-success{border-color:var(--color-success)!important}.border-danger{border-color:var(--color-danger)!important}.border-warning{border-color:var(--color-warning)!important}.border-info{border-color:var(--color-info)!important}.rounded{border-radius:var(--border-radius)!important}.rounded-0{border-radius:0!important}.rounded-sm{border-radius:var(--border-radius-sm)!important}.rounded-lg{border-radius:var(--border-radius-lg)!important}.rounded-xl{border-radius:var(--border-radius-xl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--border-radius-full)!important}.shadow-none{box-shadow:none!important}.shadow-sm{box-shadow:var(--shadow-sm)!important}.shadow{box-shadow:var(--shadow)!important}.shadow-lg{box-shadow:var(--shadow-lg)!important}.shadow-xl{box-shadow:var(--shadow-xl)!important}.user-select-none{-webkit-user-select:none!important;user-select:none!important}.user-select-all{-webkit-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;user-select:auto!important}.pointer-events-none{pointer-events:none!important}.pointer-events-auto{pointer-events:auto!important}.cursor-auto{cursor:auto!important}.cursor-default{cursor:default!important}.cursor-pointer{cursor:pointer!important}.cursor-wait{cursor:wait!important}.cursor-text{cursor:text!important}.cursor-move{cursor:move!important}.cursor-help{cursor:help!important}.cursor-not-allowed{cursor:not-allowed!important}.cursor-grab{cursor:grab!important}.cursor-grabbing{cursor:grabbing!important}.transform{transform:translate(0) translateY(0) rotate(0) skew(0) skewY(0) scaleX(1) scaleY(1)!important}.transform-none{transform:none!important}.scale-0{transform:scale(0)!important}.scale-50{transform:scale(.5)!important}.scale-75{transform:scale(.75)!important}.scale-90{transform:scale(.9)!important}.scale-95{transform:scale(.95)!important}.scale-100{transform:scale(1)!important}.scale-105{transform:scale(1.05)!important}.scale-110{transform:scale(1.1)!important}.scale-125{transform:scale(1.25)!important}.scale-150{transform:scale(1.5)!important}.rotate-0{transform:rotate(0)!important}.rotate-45{transform:rotate(45deg)!important}.rotate-90{transform:rotate(90deg)!important}.rotate-180{transform:rotate(180deg)!important}.transition-none{transition:none!important}.transition-all{transition:all var(--transition-normal)!important}.transition-colors{transition:color var(--transition-normal),background-color var(--transition-normal),border-color var(--transition-normal)!important}.transition-opacity{transition:opacity var(--transition-normal)!important}.transition-shadow{transition:box-shadow var(--transition-normal)!important}.transition-transform{transition:transform var(--transition-normal)!important}.duration-75{transition-duration:75ms!important}.duration-100{transition-duration:.1s!important}.duration-150{transition-duration:.15s!important}.duration-200{transition-duration:.2s!important}.duration-300{transition-duration:.3s!important}.duration-500{transition-duration:.5s!important}.duration-700{transition-duration:.7s!important}.duration-1000{transition-duration:1s!important}.ease-linear{transition-timing-function:linear!important}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)!important}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)!important}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)!important}.animate-none{animation:none!important}.animate-spin{animation:spin 1s linear infinite!important}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite!important}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite!important}.animate-bounce{animation:bounce 1s infinite!important}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.loading{position:relative}.loading:after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;border:2px solid var(--color-gray-300);border-top-color:var(--color-primary);border-radius:50%;animation:spin .8s linear infinite}.skeleton{background:linear-gradient(90deg,var(--color-gray-200) 25%,var(--color-gray-100) 50%,var(--color-gray-200) 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.device-online{border-left:4px solid var(--color-device-state-online)!important}.device-offline{border-left:4px solid var(--color-device-state-offline)!important;opacity:.7}.device-unknown{border-left:4px solid var(--color-device-state-unknown)!important}.draggable{cursor:grab;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.draggable:active{cursor:grabbing}.dragging{opacity:var(--drag-ghost-opacity);transform:scale(1.05);z-index:var(--z-modal);pointer-events:none;box-shadow:var(--shadow-xl)}.drop-target{border:2px dashed var(--color-primary);background-color:var(--color-primary-50);transition:all var(--transition-normal)}.drop-target.drag-over{border-color:var(--color-primary-700);background-color:var(--color-primary-100);transform:scale(1.02)}.drop-target.invalid{border-color:var(--color-danger);background-color:var(--color-danger-light)}.sr-only{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.sr-only-focusable:focus{position:static!important;width:auto!important;height:auto!important;padding:inherit!important;margin:inherit!important;overflow:visible!important;clip:auto!important;white-space:inherit!important}.focus-ring:focus{outline:2px solid var(--color-primary);outline-offset:2px}@media (max-width: 575.98px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-grid{display:grid!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}.w-sm-25{width:25%!important}.w-sm-50{width:50%!important}.w-sm-75{width:75%!important}.w-sm-100{width:100%!important}.w-sm-auto{width:auto!important}}@media (min-width: 768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-grid{display:grid!important}}@media (min-width: 992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-grid{display:grid!important}}@media (min-width: 1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-grid{display:grid!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-grid{display:grid!important}}.theme-light{color-scheme:light}.theme-dark{color-scheme:dark}.theme-auto{color-scheme:light dark}.debug-red{border:2px solid red!important}.debug-blue{border:2px solid blue!important}.debug-green{border:2px solid green!important}.temp-bg{background-color:#ff00001a!important}.is-active{background-color:var(--color-primary)!important;color:var(--color-white)!important}.is-disabled{opacity:.6!important;pointer-events:none!important;cursor:not-allowed!important}.is-loading{position:relative!important;pointer-events:none!important}.is-loading:after{content:"";position:absolute;top:50%;left:50%;width:16px;height:16px;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin .8s linear infinite}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.hover\:scale-105:hover{transform:scale(1.05)!important}.hover\:shadow-lg:hover{box-shadow:var(--shadow-lg)!important}.focus\:ring:focus{outline:none!important;box-shadow:0 0 0 3px #007bff40!important}.btn,.btn *{color:inherit!important;text-shadow:none!important}.btn-primary,.btn-primary *,.btn-danger,.btn-danger *{color:var(--color-white)!important}.btn-secondary,.btn-secondary *{color:var(--color-text-primary)!important}@media (max-width: 768px){.app-header{flex-direction:column;align-items:stretch;text-align:center;gap:var(--spacing-3)}.user-controls{justify-content:center}.page-header{flex-direction:column;align-items:stretch;gap:var(--spacing-3)}.view-tabs{justify-content:center}}.debug-mode *{outline:1px solid rgba(255,0,0,.2)}.debug-mode .device-card{outline:2px solid rgba(0,255,0,.5)}.debug-mode .room-selector{outline:2px solid rgba(0,0,255,.5)}.room-3d-enhanced{perspective:var(--room-3d-perspective)}.mobile-optimized{touch-action:manipulation}.gpu-accelerated{transform:translateZ(0);will-change:transform}.contain-layout{contain:layout style paint}@media print{.room-selector,.view-controls,.sync-controls,.user-controls,.device-main-control{display:none!important}.device-card{break-inside:avoid;border:1px solid #000;background:#fff!important;color:#000!important}.devices-grid{grid-template-columns:repeat(2,1fr);gap:1rem}}@media (prefers-contrast: high){:root{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000;--border-width: 2px;--border-width-thick: 3px}.device-card,.btn{border-width:var(--border-width-thick)}}@media (prefers-reduced-motion: reduce){.device-card,.btn,.room-tab,.view-tab{transition:none}*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}:root{transition:background-color var(--transition-normal),color var(--transition-normal)}[data-theme-transition] *{transition:background-color var(--transition-normal),color var(--transition-normal),border-color var(--transition-normal)}.error-boundary{padding:var(--spacing-8);text-align:center;background:var(--color-danger-light);border:2px solid var(--color-danger);border-radius:var(--border-radius-lg);color:var(--color-danger-dark)}.error-boundary h2{color:var(--color-danger-dark);margin-bottom:var(--spacing-4)}.app-loading{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--color-background);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal)}.app-loading:after{content:"";width:40px;height:40px;border:4px solid var(--color-gray-300);border-top-color:var(--color-primary);border-radius:50%;animation:spin 1s linear infinite}[data-dev=true]:before{content:"DEV MODE";position:fixed;top:10px;right:10px;background:red;color:#fff;padding:5px 10px;font-size:12px;z-index:9999;border-radius:3px}.login-container{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.login-card{background-color:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;width:100%;max-width:450px;padding:50px 40px;text-align:center}.login-header{margin-bottom:40px}.login-title{font-size:32px;font-weight:700;color:#2d3748;margin:0 0 10px}.login-subtitle{font-size:16px;color:#718096;margin:0}.login-toggle{display:flex;background-color:#f7fafc;border-radius:12px;padding:4px;margin-bottom:30px}.toggle-btn{flex:1;padding:12px;background-color:transparent;color:#718096;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.toggle-btn.active{background-color:#fff;color:#2d3748;box-shadow:0 2px 4px #0000001a}.error-message{background-color:#fed7d7;color:#c53030;padding:15px;border-radius:12px;margin-bottom:25px;font-size:14px;font-weight:500}.login-form{text-align:left}.form-group{margin-bottom:25px}.form-label{display:block;margin-bottom:8px;font-weight:600;color:#2d3748;font-size:14px}.form-input{width:100%;padding:16px;border:2px solid #e2e8f0;border-radius:12px;font-size:16px;box-sizing:border-box;transition:border-color .2s ease;outline:none}.form-input:focus{border-color:#667eea}.submit-btn{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;margin-bottom:20px;transition:all .2s ease}.submit-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #0003}.submit-btn:disabled{background:#a0aec0;cursor:not-allowed}.google-btn{width:100%;padding:16px;background-color:#fff;border:2px solid #e2e8f0;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:12px;color:#2d3748;transition:all .2s ease}.google-btn:hover:not(:disabled){border-color:#667eea;transform:translateY(-1px)}.google-btn:disabled{cursor:not-allowed;opacity:.7}.separator{display:flex;align-items:center;margin:25px 0;color:#718096;font-size:14px}.separator-line{flex:1;height:1px;background-color:#e2e8f0}.separator-text{padding:0 15px}.weather-mini-widget{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:24px;padding:20px;color:#fff;cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 8px 32px #667eea4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);min-height:280px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.weather-mini-widget:active{transform:translateY(-2px)}.weather-mini-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.widget-title-section{display:flex;flex-direction:column;gap:4px}.widget-title{font-size:1.2rem;font-weight:700;margin:0;display:flex;align-items:center;gap:8px}.location-name{font-size:.85rem;opacity:.9;font-weight:500}.widget-controls{display:flex;align-items:center;gap:8px}.refresh-btn{background:#fff3;border:none;border-radius:12px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.refresh-btn:hover{background:#ffffff4d;transform:scale(1.1)}.refresh-icon{font-size:24px;transition:transform .6s ease}.refresh-icon.spinning{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.close-widget-btn{position:relative;width:28px;height:28px;background:#ffffff40;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.close-widget-btn:hover{background:#ffffff59;transform:scale(1.15)}.mickey-ear{position:absolute;width:12px;height:12px;background:#ffffff4d;border-radius:50%;transition:all .3s ease}.mickey-ear-left{top:-4px;left:2px}.mickey-ear-right{top:-4px;right:2px}.close-widget-btn:hover .mickey-ear{background:#ffffff80;transform:scale(1.2)}.expand-icon{font-size:14px;z-index:1}.current-weather-section{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex:1}.current-temp-container{display:flex;flex-direction:column;gap:4px}.current-temp{font-size:3.5rem;font-weight:800;line-height:1;text-shadow:2px 2px 8px rgba(0,0,0,.3)}.current-details{display:flex;flex-direction:column;gap:2px}.condition-text{font-size:1rem;font-weight:600;opacity:.95}.feels-like{font-size:.85rem;opacity:.8}.weather-icon-container{display:flex;align-items:center;justify-content:center;position:relative}.weather-icon{width:80px;height:80px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.forecast-comparison{display:flex;align-items:center;gap:16px;margin-bottom:16px;padding:12px 0;border-top:1px solid rgba(255,255,255,.2);border-bottom:1px solid rgba(255,255,255,.2)}.forecast-day{flex:1;display:flex;flex-direction:column;gap:6px;text-align:center}.day-label{font-size:.9rem;font-weight:600;opacity:.9}.day-temps{display:flex;justify-content:center;gap:8px;align-items:center}.temp-high{font-size:1.2rem;font-weight:700}.temp-low{font-size:1rem;font-weight:500;opacity:.8}.rain-chance{font-size:.8rem;opacity:.9;display:flex;align-items:center;justify-content:center;gap:4px}.forecast-separator{width:1px;height:40px;background:#ffffff4d;align-self:center}.playful-comment{background:#ffffff26;border-radius:16px;padding:12px 16px;margin-bottom:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.comment-text{font-size:.9rem;font-weight:500;text-align:center;display:block;line-height:1.4}.quick-stats{display:flex;justify-content:space-around;margin-bottom:12px}.stat-item{display:flex;flex-direction:column;align-items:center;gap:4px}.stat-icon{font-size:1.1rem}.stat-value{font-size:.8rem;font-weight:600;opacity:.9}.last-updated{font-size:.75rem;opacity:.7;text-align:center;margin-bottom:8px}.click-hint{text-align:center;margin-top:auto}.click-hint span{font-size:.8rem;opacity:.8;padding:6px 12px;background:#ffffff1a;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:.8;transform:scale(1)}50%{opacity:1;transform:scale(1.05)}}.weather-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:linear-gradient(135deg,#e3f2fd,#bbdefb);color:#1976d2}.loading-content{display:flex;flex-direction:column;align-items:center;gap:16px}.weather-spinner{width:40px;height:40px;border:3px solid rgba(25,118,210,.3);border-top-color:#1976d2;border-radius:50%;animation:spin 1s linear infinite}.weather-error{background:linear-gradient(135deg,#ffebee,#ffcdd2);color:#d32f2f}.error-content{display:flex;flex-direction:column;align-items:center;gap:12px;text-align:center}.error-message{font-size:.9rem;opacity:.9}.retry-btn{background:#d32f2f;color:#fff;border:none;padding:8px 16px;border-radius:12px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .3s ease}.retry-btn:hover{background:#b71c1c;transform:translateY(-2px)}.weather-animations{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;border-radius:24px}.rain-animation{position:absolute;top:0;left:0;right:0;bottom:0}.rain-drop{position:absolute;width:2px;height:20px;background:linear-gradient(to bottom,#fff9,#fff3);border-radius:1px;animation:rainFall linear infinite}@keyframes rainFall{0%{transform:translateY(-20px);opacity:1}to{transform:translateY(300px);opacity:0}}.snow-animation{position:absolute;top:0;left:0;right:0;bottom:0}.snowflake{position:absolute;color:#fffc;font-size:14px;animation:snowFall linear infinite}@keyframes snowFall{0%{transform:translateY(-20px) rotate(0);opacity:1}to{transform:translateY(300px) rotate(360deg);opacity:0}}.sun-animation{position:absolute;top:20px;right:20px;width:60px;height:60px;pointer-events:none}.sun-rays{width:60px;height:60px;background:radial-gradient(circle,rgba(255,215,0,.3) 0%,transparent 70%);border-radius:50%;animation:sunRotate 10s linear infinite}@keyframes sunRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.weather-mini-widget{padding:16px;min-height:260px}.current-temp{font-size:3rem}.weather-icon{width:60px;height:60px}.forecast-comparison{gap:12px}.day-temps{gap:6px}}@media (max-width: 480px){.weather-mini-widget{padding:14px;min-height:240px}.current-temp{font-size:2.5rem}.widget-title{font-size:1.1rem}.weather-icon{width:50px;height:50px}.playful-comment{padding:10px 12px}.comment-text{font-size:.85rem}}@media (prefers-color-scheme: dark){.weather-loading{background:linear-gradient(135deg,#1a237e,#283593);color:#e3f2fd}.weather-error{background:linear-gradient(135deg,#b71c1c,#d32f2f);color:#ffebee}}@media (prefers-contrast: high){.weather-mini-widget{border:3px solid white;background:navy!important}.weather-mini-widget:hover{border-color:#ff0}.refresh-btn,.close-widget-btn{border:2px solid white}}@media (prefers-reduced-motion: reduce){.weather-mini-widget,.refresh-btn,.close-widget-btn,.mickey-ear,.weather-icon{transition:none;animation:none}.click-hint span{animation:none}.weather-animations{display:none}}.weather-mini-widget:focus{outline:3px solid #ffff00;outline-offset:2px}.refresh-btn:focus,.close-widget-btn:focus,.retry-btn:focus{outline:2px solid #ffff00;outline-offset:2px}.rain-chance{font-size:.8rem;opacity:1!important;display:flex;align-items:center;justify-content:center;gap:4px;background:#0000004d;padding:4px 8px;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.rain-icon{font-size:.9rem;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.5))}.rain-percentage{font-weight:700;color:#fff;text-shadow:1px 1px 3px rgba(0,0,0,.8)}.close-widget-btn{position:relative;width:32px;height:32px;background:#ffffff40;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.3)}.close-widget-btn:hover{background:#fff6;transform:scale(1.1);border-color:#fff9}.mickey-ear{position:absolute;width:14px;height:14px;background:#fff6;border-radius:50%;transition:all .3s ease;border:1px solid rgba(255,255,255,.3)}.mickey-ear-left{top:-5px;left:1px}.mickey-ear-right{top:-5px;right:1px}.close-widget-btn:hover .mickey-ear{background:#ffffffb3;transform:scale(1.2);border-color:#fff9}.expand-icon{font-size:16px;z-index:1;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.weather-mini-widget{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative}.weather-mini-widget:hover{transform:translateY(-4px);box-shadow:0 12px 48px #667eea66}.click-hint{text-align:center;margin-top:auto;padding-top:8px}.click-hint span{font-size:.8rem;opacity:.9;padding:8px 16px;background:#fff3;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);animation:gentle-pulse 3s infinite;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.3)}@keyframes gentle-pulse{0%,to{opacity:.9;transform:scale(1);background:#fff3}50%{opacity:1;transform:scale(1.02);background:#ffffff4d}}.forecast-comparison{display:flex;align-items:center;gap:16px;margin-bottom:16px;padding:12px 0;border-top:1px solid rgba(255,255,255,.3);border-bottom:1px solid rgba(255,255,255,.3);background:#ffffff1a;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.forecast-day{flex:1;display:flex;flex-direction:column;gap:8px;text-align:center}.day-label{font-size:.95rem;font-weight:700;opacity:1;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.temp-high,.temp-low{text-shadow:1px 1px 3px rgba(0,0,0,.5)}@media (max-width: 480px){.close-widget-btn{width:28px;height:28px}.mickey-ear{width:12px;height:12px}.expand-icon{font-size:14px}.rain-chance{font-size:.75rem;padding:3px 6px}}.weather-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:99999;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:fadeIn .3s ease;padding:20px}.weather-modal{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:24px;width:95vw;height:90vh;max-width:1200px;max-height:800px;position:relative;overflow:visible;box-shadow:0 20px 60px #00000080;animation:slideIn .4s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;color:#fff}@keyframes slideIn{0%{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.weather-modal-close{position:absolute;top:-15px;right:-15px;width:40px;height:40px;background:#ffffffe6;border:3px solid rgba(255,255,255,1);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10001;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.weather-modal-close:hover{background:#ff6464e6;border-color:#ff6464;transform:scale(1.1);box-shadow:0 6px 20px #0006}.close-icon{font-size:18px;font-weight:700;color:#333;transition:color .3s ease}.weather-modal-close:hover .close-icon{color:#fff}.weather-modal-header{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:6px 24px;border-bottom:1px solid rgba(255,255,255,.2);background:#ffffff1a;overflow:visible!important;position:relative;z-index:10}.header-left{display:flex;align-items:center;gap:12px;flex-shrink:0}.modal-title{font-size:2.5rem;font-weight:800;margin:0;text-shadow:2px 2px 8px rgba(0,0,0,.3)}.location-info{display:flex;align-items:center;gap:12px}.primary-location{font-size:1.95rem;font-weight:600;opacity:.95}.gps-indicator{font-size:.9rem;background:#ffffff0d;padding:4px;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-controls{display:flex;align-items:center;gap:20px}.refresh-btn-modal{border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.refresh-btn-modal:hover{background:#ffffff4d;transform:scale(1.1)}.refresh-btn-modal:disabled{opacity:.5;cursor:not-allowed}.view-switcher{display:flex;background:#ffffff1a;border-radius:16px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.view-btn{background:transparent;border:none;color:#fff;padding:12px 20px;border-radius:12px;cursor:pointer;transition:all .3s ease;font-weight:600;font-size:.9rem}.view-btn:hover{background:#fff3}.view-btn.active{background:#ffffff4d;box-shadow:0 2px 8px #0003}.weather-modal-content{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px}.weather-details-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin:20px 0}.detail-card{background:#ffffff1a;border-radius:16px;padding:12px 16px;display:flex;align-items:center;gap:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.detail-card:hover{background:#fff3;transform:translateY(-2px)}.detail-icon{font-size:2rem;min-width:40px}.detail-content{display:flex;flex-direction:column;gap:4px}.detail-label{font-size:.9rem;opacity:.8;font-weight:500}.detail-value{font-size:1.3rem;font-weight:700}.view-title{font-size:1.4rem;font-weight:700;margin:0 0 20px;text-align:center}.hourly-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;max-height:400px;overflow-y:auto}.hourly-card{background:#ffffff1a;border-radius:16px;padding:16px;text-align:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.hourly-time{display:run-in;font-size:1.5rem;font-weight:600;margin-bottom:8px}.hourly-icon{display:inline-block;width:50px;height:50px}.hourly-temp{display:run-in;font-size:1.5rem;font-weight:700;margin-bottom:5px}.hourly-details{display:run-in;flex-direction:column;gap:4px;font-size:.8rem;opacity:.9}.weekly-list{display:flex;flex-direction:column;gap:12px;max-height:400px;overflow-y:auto}.daily-card{display:grid;grid-template-columns:1.5fr 80px 2fr 120px 100px;gap:16px;align-items:center;background:#ffffff1a;border-radius:16px;padding:16px 20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.daily-card:hover{background:#fff3}.daily-date{display:flex;flex-direction:column}.daily-day{font-size:1rem;font-weight:600}.daily-icon img{width:60px;height:60px}.daily-condition{font-size:.95rem;opacity:.9}.daily-temps{display:flex;gap:12px;align-items:center}.daily-high{font-size:1.2rem;font-weight:700}.daily-low{font-size:1rem;font-weight:500;opacity:.8}.daily-rain{font-size:.9rem;opacity:.9}.weekly-view-fullwidth{width:100%}.weekly-view-fullwidth .weekly-list{max-height:550px;overflow-y:auto}@media (max-width: 1024px){.weather-modal{width:98vw;height:95vh}.weather-modal-header{padding:16px 20px;gap:12px}.modal-title{font-size:1.6rem}.temp-huge{font-size:3.5rem}.weather-icon-huge{width:90px;height:90px}.weather-details-grid{grid-template-columns:repeat(2,1fr);gap:10px}.hourly-compact-item{grid-template-columns:50px 40px 50px 70px;gap:8px;padding:8px 12px}.hour-time-compact{font-size:.8rem}.hour-icon-compact{width:32px;height:32px}.hour-temp-compact{font-size:1rem}.hour-rain-compact{font-size:.75rem}}@media (max-width: 768px){.weather-modal{border-radius:16px;margin:10px;height:93vh}.weather-modal-header{display:inline;padding:12px 16px;gap:8px}.modal-title{font-size:1.4rem}.primary-location-name{font-size:1.2rem}.playful-comment-text{font-size:.85rem!important}.city-search-input{width:140px!important;font-size:.8rem!important;padding:6px 10px!important}.weather-modal-content{padding:12px;gap:12px}.weather-main-compact{grid-template-columns:1fr;gap:16px}.temp-huge{font-size:2.8rem}.weather-icon-huge{width:70px;height:70px}.condition-text{font-size:1rem}.feels-like-text{font-size:.85rem}.weather-details-grid{grid-template-columns:repeat(2,1fr);gap:8px}.detail-card{padding:8px 10px;gap:8px}.detail-icon{font-size:1.3rem;min-width:30px}.detail-label{font-size:.75rem}.detail-value{font-size:1rem}.forecast-title{font-size:1.1rem;margin-bottom:12px}.hourly-compact-list{max-height:350px}.hourly-compact-item{grid-template-columns:45px 35px 50px 65px;gap:6px;padding:8px 10px}.hour-time-compact{font-size:.75rem}.hour-icon-compact{width:28px;height:28px}.hour-temp-compact{font-size:.9rem}.hour-rain-compact{font-size:.7rem}.view-title{font-size:1.2rem}.hourly-grid{grid-template-columns:repeat(2,1fr);gap:12px;max-height:350px}.hourly-card{padding:12px}.daily-card{grid-template-columns:1fr;gap:12px;text-align:center}.weather-modal-footer{padding:10px 16px}}@media (max-width: 480px){.weather-modal-overlay{padding:5px}.weather-modal{height:95vh}.weather-modal-close{top:-10px;right:-10px;width:32px;height:32px}.close-icon{font-size:14px}.weather-modal-header{display:inline;align-items:center}.modal-title{font-size:1.2rem}.primary-location-name{font-size:1rem}.gps-indicator{font-size:1.2rem}.playful-comment-text{font-size:.75rem!important;margin-top:2px!important}.refresh-btn-modal{width:36px;height:36px}.view-switcher{padding:3px}.view-btn{padding:8px 12px;font-size:.75rem}.city-search-input{width:120px!important;font-size:.75rem!important;padding:5px 8px!important}.weather-modal-content{padding:10px;gap:10px}.temp-huge{font-size:2.5rem}.condition-text{font-size:.9rem}.feels-like-text{font-size:.75rem}.weather-icon-huge{width:60px;height:60px}.weather-details-grid{gap:6px;margin:8px 0}.detail-card{padding:6px 8px;gap:6px}.detail-icon{font-size:1.1rem;min-width:25px}.detail-label{font-size:.7rem}.detail-value{font-size:.9rem}.forecast-title{font-size:1rem;margin-bottom:10px}.hourly-compact-list{max-height:280px;gap:6px}.hourly-compact-item{grid-template-columns:40px 30px 45px 55px;gap:4px;padding:6px 8px}.hour-time-compact{font-size:.7rem}.hour-icon-compact{width:24px;height:24px}.hour-temp-compact{font-size:.85rem}.hour-rain-compact{font-size:.65rem}.view-title{font-size:1.1rem;margin-bottom:12px}.weather-view-content{padding:12px}.hourly-grid{grid-template-columns:1fr;gap:5px;max-height:400px}.hourly-card{padding:1px}.playful-comment-compact{padding:8px 10px}.comment-text-compact{font-size:.85rem}.weather-modal-footer{padding:8px 14px}.last-updated-modal{font-size:.75rem}.secondary-location-widget{padding:6px 8px!important;font-size:.8rem!important}.secondary-weather-icon{width:20px!important;height:20px!important}.secondary-weather-temp{font-size:.9rem!important}.remove-secondary-btn{width:24px!important;height:24px!important;font-size:11px!important}}.weather-modal:focus{outline:3px solid #ffff00;outline-offset:2px}.weather-modal-close:focus,.refresh-btn-modal:focus,.view-btn:focus,.search-input:focus,.search-result:focus{outline:2px solid #ffff00;outline-offset:2px}@media (prefers-color-scheme: dark){.search-results{background:#282828f2}.search-result{color:#fff;border-bottom-color:#ffffff1a}.search-result:hover{background:#667eea4d}}@media (prefers-reduced-motion: reduce){.weather-modal,.weather-modal-close,.refresh-btn-modal,.view-btn,.detail-card,.daily-card{animation:none;transition:none}.weather-icon-large,.search-spinner{animation:none}}@media (prefers-contrast: high){.weather-modal{border:3px solid white;background:navy!important}.weather-modal-close{border:3px solid #ffff00;background:#ff0!important}.close-icon{color:navy!important}.view-btn.active{background:#ff0!important;color:navy!important}.detail-card,.hour-item,.hourly-card,.daily-card{border:2px solid white}}.weather-modal{overflow:visible}.weather-modal-overlay{overflow:hidden}.modal-title-section{display:flex;flex-direction:column;gap:12px}.location-row{display:flex;justify-content:space-between;align-items:center;gap:20px}.primary-location-info{display:flex;align-items:center;gap:4px}.secondary-location-toggle{display:flex;align-items:center}.secondary-city-btn:hover,.add-city-btn:hover{background:#ffffff4d;transform:translateY(-2px)}.switch-icon,.add-icon{font-size:1.1rem}.search-container{position:relative!important;display:flex;align-items:center;z-index:10000!important;gap:8px}.search-results.debug{border:3px solid red!important;background:#ff0!important}.search-result.debug{color:#000!important;background:#fff!important}.city-search-input{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:10px 14px;color:#fff;font-size:.9rem;width:200px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.city-search-input::placeholder{color:#ffffffb3}.search-spinner{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:1.2rem;animation:spin 1s linear infinite}@keyframes spin{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.search-results{position:absolute;top:105%;left:0;right:0;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;margin-top:4px;overflow:hidden;box-shadow:0 8px 24px #0000004d;z-index:100000;border:2px solid rgba(255,255,255,.3)}.search-result{display:flex;justify-content:space-between;align-items:center;width:100%;padding:12px 16px;background:transparent;border:none;text-align:left;cursor:pointer;color:#333;font-size:.9rem;font-weight:600;transition:background .2s ease;border-bottom:1px solid rgba(0,0,0,.1)}.search-result:last-child{border-bottom:none}.search-result:hover{background:#667eea33;color:#000}.search-result .add-icon{font-size:1.2rem;font-weight:700;color:#a1e9a1}.city-search-input:focus{outline:none;border-color:#ffffff80;background:#ffffff4d}.search-spinner-header{font-size:1.2rem;animation:spin 1s linear infinite}.search-result-header:last-child{border-bottom:none}.search-result-header:hover{background:#667eea33}.weather-main-compact{display:grid;grid-template-columns:1fr 1fr;gap:30px;margin-bottom:30px}.current-weather-left{display:flex;flex-direction:column;gap:20px}.temp-and-icon{display:flex;align-items:center;gap:20px}.temperature-section{display:flex;flex-direction:column;gap:8px}.temp-huge{font-size:5rem;font-weight:900;line-height:1;text-shadow:4px 4px 12px rgba(0,0,0,.3)}.condition-section{display:flex;flex-direction:column;gap:4px}.condition-text{font-size:1.3rem;font-weight:600;opacity:.95}.feels-like-text{font-size:1rem;opacity:.8}.weather-icon-section{display:flex;align-items:center;justify-content:center}.weather-icon-huge{width:120px;height:120px;filter:drop-shadow(0 8px 16px rgba(0,0,0,.3));animation:float 4s ease-in-out infinite}.playful-comment-header{border-radius:12px;font-size:1.5rem;min-width:20px;font-weight:500;line-height:1.1}.weather-details-compact{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:16px}.detail-compact{display:flex;align-items:center;gap:8px;background:#ffffff1a;border-radius:10px;padding:8px 12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.detail-icon-compact{font-size:1rem}.detail-text-compact{font-size:.9rem;font-weight:600}.comment-icon{font-size:1.2rem;min-width:20px}.comment-text-compact{font-size:1rem;font-weight:600;line-height:1.4}.weather-right-view-content{border-radius:20px;padding:2%;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.2)}.hourly-forecast-right{display:flex;flex-direction:column;gap:16px}.forecast-title{font-size:1.3rem;font-weight:700;margin:0;text-align:center;opacity:.95}.hourly-compact-list{display:flex;flex-direction:column;gap:5px;max-height:500px;overflow-y:auto}.hourly-compact-list::-webkit-scrollbar{width:6px}.hourly-compact-list::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.hourly-compact-list::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.hourly-compact-item{display:grid;grid-template-columns:60px 50px 60px 80px 80px;gap:12px;align-items:center;background:#ffffff1a;border-radius:12px;padding:12px 16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.hourly-compact-item:hover{background:#fff3}.hour-time-compact{font-size:.9rem;font-weight:600;opacity:.9}.hour-icon-compact{width:40px;height:40px;justify-self:center}.hour-temp-compact{font-size:1.1rem;font-weight:700;justify-self:center}.hour-rain-compact,.hour-wind-compact{font-size:.85rem;opacity:.9;justify-self:center}@media (max-width: 1024px){.weather-main-compact{grid-template-columns:1fr;gap:24px}.temp-and-icon{justify-content:center;text-align:center}.hourly-forecast-right{order:2}.current-weather-left{order:1}}@media (max-width: 768px){.location-row{flex-direction:column;gap:12px;align-items:flex-start}.secondary-location-toggle{width:100%;justify-content:center}.search-container,.city-search-input{width:100%}.temp-huge{font-size:3.5rem}.weather-icon-huge{width:80px;height:80px}.temp-and-icon{flex-direction:column;gap:16px}.hourly-compact-item{grid-template-columns:50px 40px 50px 70px 70px;gap:8px;padding:10px 12px}.hour-time-compact,.hour-rain-compact,.hour-wind-compact{font-size:.8rem}}@media (max-width: 480px){.weather-main-compact{gap:20px}.temp-huge{font-size:3rem}.condition-text{font-size:1.1rem}.feels-like-text{font-size:.9rem}.weather-icon-huge{width:70px;height:70px}.playful-comment-compact{padding:10px 12px}.comment-text-compact{font-size:.9rem}.hourly-compact-item{grid-template-columns:1fr;text-align:center;gap:8px}.hour-icon-compact{width:35px;height:35px}}.weather-main-compact{display:grid;grid-template-columns:2fr 1fr;gap:40px;margin-bottom:30px}.hourly-compact-item{display:inline-flex;grid-template-columns:60px 50px 60px 80px;gap:42px;align-items:center;background:#ffffff1a;border-radius:12px;padding:2px 30px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.weather-details-grid{gap:12px;margin:auto}.detail-card{gap:22px}.detail-icon{font-size:1.8rem;min-width:50px}.detail-value{font-size:1.9rem}.add-search-container{position:relative;display:flex;align-items:center;gap:8px}.add-city-input{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:16px;padding:8px 12px;color:#fff;font-size:.9rem;width:160px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-weight:600}.add-city-input::placeholder{color:#ffffffb3}.add-city-input:focus{outline:none;border-color:#ffffff80;background:#ffffff4d}.search-spinner-small{font-size:1rem;animation:spin 1s linear infinite}.search-results-small{position:absolute;top:100%;left:0;right:0;background:#fffffff2;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-radius:12px;margin-top:8px;overflow:hidden;box-shadow:0 8px 24px #0000004d;z-index:10}.search-result-small{width:100%;padding:8px 12px;background:transparent;border:none;text-align:left;cursor:pointer;color:#333;font-size:.85rem;transition:background .2s ease;border-bottom:1px solid rgba(0,0,0,.1)}.search-result-small:last-child{border-bottom:none}.search-result-small:hover{background:#667eea33}.header-top-row{display:inline;justify-content:space-between;align-items:center}.modal-title{font-size:2rem;margin:0}.header-controls{display:flex;align-items:center;gap:16px}.header-location-row{align-items:center;min-height:50px}.primary-location-container{display:flex;align-items:center;gap:12px;justify-self:start}.gps-indicator{font-size:1.5rem;opacity:.8;cursor:help}.primary-location-name{font-size:1.85rem;font-weight:600}.secondary-location-container{position:relative;justify-self:end;width:100%;max-width:250px}.secondary-location-widget{display:flex;align-items:center;justify-content:space-between;width:100%;padding:8px 12px;background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;cursor:pointer;transition:all .2s ease-in-out}.secondary-location-widget:hover{background:#ffffff4d;transform:scale(1.03)}.secondary-location-name{font-size:1.1rem;font-weight:600}.secondary-weather-info{display:flex;align-items:center;gap:8px}.secondary-weather-icon{width:32px;height:32px}.secondary-weather-temp{font-size:1.1rem;font-weight:700}.weather-modal-footer{display:flex;justify-content:space-between;align-items:center;padding:5px 20px;border-top:1px solid rgba(255,255,255,.2);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);gap:20px}.last-updated-modal{font-size:.9rem;opacity:.8}.secondary-location-full{display:flex;align-items:center;gap:8px;width:100%}.secondary-location-widget{flex:1}.remove-secondary-btn{width:32px;height:32px;background:#ff6464cc;border:none;border-radius:50%;color:#fff;font-size:14px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.remove-secondary-btn:hover{background:#ff6464;transform:scale(1.1)}.weather-modal-mobile-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:99999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:fadeIn .3s ease;padding:10px}.weather-modal-mobile{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;width:100%;max-width:400px;max-height:90vh;position:relative;overflow-y:auto;box-shadow:0 20px 60px #00000080;animation:slideUp .4s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;color:#fff;padding:20px;gap:20px}@keyframes slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.weather-modal-mobile-close{position:absolute;top:-10px;right:-10px;width:36px;height:36px;background:#ffffffe6;border:2px solid rgba(255,255,255,1);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:100;transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.weather-modal-mobile-close:hover{background:#ff6464e6;transform:scale(1.1)}.close-icon-mobile{font-size:16px;font-weight:700;color:#333}.weather-modal-mobile-close:hover .close-icon-mobile{color:#fff}.weather-mobile-header{text-align:center;display:flex;flex-direction:column;gap:8px;align-items:center}.mobile-title{font-size:1.8rem;font-weight:800;margin:0;text-shadow:2px 2px 8px rgba(0,0,0,.3)}.gps-mobile{font-size:.8rem;background:#fff3;padding:4px 8px;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.mobile-main-weather{display:flex;justify-content:space-between;align-items:center;background:#ffffff1a;border-radius:16px;padding:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.mobile-temp-section{display:flex;flex-direction:column;gap:6px}.mobile-temp{font-size:3rem;font-weight:800;line-height:1;text-shadow:2px 2px 8px rgba(0,0,0,.3)}.mobile-condition{display:flex;flex-direction:column;gap:3px}.mobile-condition-text{font-size:1rem;font-weight:600;opacity:.95}.mobile-feels-like{font-size:.85rem;opacity:.8}.mobile-icon{display:flex;align-items:center;justify-content:center}.mobile-weather-icon{width:70px;height:70px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));animation:float 3s ease-in-out infinite}.mobile-forecast-comparison{display:flex;align-items:center;background:#ffffff1a;border-radius:16px;padding:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.mobile-day{flex:1;display:flex;flex-direction:column;gap:8px;text-align:center}.mobile-day-label{font-size:.9rem;font-weight:600;opacity:.9}.mobile-day-temps{display:flex;justify-content:center;gap:8px;align-items:center}.mobile-temp-high{font-size:1.1rem;font-weight:700}.mobile-temp-low{font-size:1rem;font-weight:500;opacity:.8}.mobile-rain{font-size:.8rem;opacity:.9;background:#0003;padding:4px 8px;border-radius:10px;display:inline-block}.mobile-separator{width:1px;height:40px;background:#ffffff4d;margin:0 16px}.mobile-playful-comment{background:#ffffff26;border-radius:16px;padding:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);text-align:center}.mobile-comment-text{font-size:1rem;font-weight:600;line-height:1.4}.mobile-stats{display:grid;grid-template-columns:1fr 1fr;gap:12px}.mobile-stat{background:#ffffff1a;border-radius:12px;padding:16px 12px;display:flex;flex-direction:column;align-items:center;gap:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);text-align:center}.mobile-stat-icon{font-size:1.5rem}.mobile-stat-label{font-size:.8rem;opacity:.8;font-weight:500}.mobile-stat-value{font-size:1rem;font-weight:700}.mobile-footer{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid rgba(255,255,255,.2);gap:16px}.mobile-refresh-btn{display:flex;align-items:center;gap:8px;background:#fff3;border-radius:12px;padding:12px 16px;color:#fff;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.mobile-refresh-btn:hover{background:#ffffff4d;transform:translateY(-2px)}.mobile-refresh-btn:disabled{opacity:.5;cursor:not-allowed}.mobile-refresh-icon{font-size:1rem;transition:transform .6s ease}.mobile-refresh-icon.spinning{animation:spin 1s linear infinite}.mobile-last-updated{font-size:.8rem;opacity:.7;text-align:right;flex:1}@media (max-width: 380px){.weather-modal-mobile{padding:16px;gap:16px}.mobile-title{font-size:1.6rem}.mobile-temp{font-size:2.5rem}.mobile-weather-icon{width:60px;height:60px}.mobile-main-weather{padding:16px}.mobile-forecast-comparison{padding:12px}.mobile-separator{margin:0 12px}.mobile-stats{gap:10px}.mobile-stat{padding:12px 10px}.mobile-footer{flex-direction:column;gap:12px;text-align:center}.mobile-last-updated{text-align:center}}@media (max-height: 600px) and (orientation: landscape){.weather-modal-mobile{max-height:95vh;padding:12px;gap:12px}.mobile-main-weather{padding:12px}.mobile-temp{font-size:2.2rem}.mobile-weather-icon{width:50px;height:50px}.mobile-forecast-comparison,.mobile-playful-comment{padding:12px}.mobile-stats{grid-template-columns:repeat(4,1fr)}.mobile-stat{padding:10px 8px}}.weather-modal-mobile:focus{outline:3px solid #ffff00;outline-offset:2px}.weather-modal-mobile-close:focus,.mobile-refresh-btn:focus{outline:2px solid #ffff00;outline-offset:2px}@media (prefers-reduced-motion: reduce){.weather-modal-mobile,.weather-modal-mobile-close,.mobile-refresh-btn,.mobile-weather-icon{animation:none;transition:none}.mobile-refresh-icon.spinning{animation:none}}.sticky-notes-widget{padding:24px;height:100%;display:flex;flex-direction:column}.sticky-notes-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.sticky-notes-title{display:flex;align-items:center;gap:10px;font-size:1.3rem;font-weight:700;color:#333}.sticky-notes-icon{font-size:1.8rem;animation:wiggle 3s infinite}@keyframes wiggle{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.add-note-icon-btn{width:40px;height:40px;border-radius:50%;background:#ffffff80;border:2px solid rgba(0,0,0,.1);font-size:1.3rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.add-note-icon-btn:hover{background:#fffc;transform:scale(1.1) rotate(90deg)}.add-note-form{background:#fff9;border-radius:16px;padding:15px;margin-bottom:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px dashed rgba(0,0,0,.1);animation:slideDown .3s ease}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.note-textarea{width:100%;min-height:80px;padding:12px;border:none;border-radius:12px;font-family:inherit;font-size:.95rem;resize:vertical;background:#fff;box-shadow:inset 0 2px 4px #0000000d;margin-bottom:10px}.note-textarea:focus{outline:2px solid #fdcb6e;outline-offset:2px}.note-form-actions{display:flex;gap:10px;justify-content:flex-end}.note-save-btn,.note-cancel-btn{padding:8px 20px;border:none;border-radius:20px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s ease}.note-save-btn{background:#333;color:#fff}.note-save-btn:hover{background:#000;transform:scale(1.05)}.note-cancel-btn{background:#0000001a;color:#333}.note-cancel-btn:hover{background:#0003}.sticky-notes-container{display:flex;flex-direction:column;gap:12px;overflow-y:auto;max-height:calc(100% - 150px);min-height:300px;padding-right:8px}.sticky-notes-container::-webkit-scrollbar{width:6px}.sticky-notes-container::-webkit-scrollbar-track{background:#ffffff4d;border-radius:10px}.sticky-notes-container::-webkit-scrollbar-thumb{background:#0003;border-radius:10px}.sticky-notes-container::-webkit-scrollbar-thumb:hover{background:#0000004d}.sticky-note{padding:15px;border-radius:12px;box-shadow:0 4px 12px #00000026;transition:all .3s ease;position:relative;animation:noteAppear .4s ease}@keyframes noteAppear{0%{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.sticky-note-0{transform:rotate(-1deg)}.sticky-note-1{transform:rotate(1deg)}.sticky-note-2{transform:rotate(-.5deg)}.sticky-note:hover{transform:rotate(0) scale(1.02) translateY(-4px);box-shadow:0 8px 20px #0003;z-index:10}.note-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.note-author{display:flex;align-items:center;gap:6px}.note-author-emoji{font-size:1.2rem}.note-author-name{font-weight:700;font-size:.85rem;color:#333}.note-delete-btn{width:24px;height:24px;border-radius:50%;background:#0000001a;border:none;cursor:pointer;font-size:.9rem;color:#666;transition:all .2s ease;display:flex;align-items:center;justify-content:center;opacity:0}.sticky-note:hover .note-delete-btn{opacity:1}.note-delete-btn:hover{background:#f003;color:red;transform:scale(1.1)}.note-content{font-size:1.5rem;line-height:1.5;color:#333;margin-bottom:10px;word-wrap:break-word;font-family:var(--calendar-font-display)}.note-footer{display:flex;justify-content:flex-end}.note-timestamp{font-size:.75rem;color:#666;opacity:.8}.no-notes-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.no-notes-icon{font-size:4rem;margin-bottom:15px;opacity:.5;animation:float 3s infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.no-notes-placeholder p{font-size:1.1rem;color:#666;margin:0 0 20px;font-weight:600}.add-first-note-btn{padding:12px 30px;background:#333;color:#fff;border:none;border-radius:25px;font-weight:700;font-size:1rem;cursor:pointer;transition:all .3s ease}.add-first-note-btn:hover{background:#000;transform:scale(1.05);box-shadow:0 4px 15px #0000004d}@media (max-width: 768px){.sticky-notes-widget{padding:20px}.sticky-notes-title{font-size:1.1rem}.sticky-notes-icon{font-size:1.5rem}.sticky-notes-container{max-height:300px}.note-content{font-size:.9rem}}.note-textarea:focus,.note-save-btn:focus,.note-cancel-btn:focus,.add-note-icon-btn:focus,.note-delete-btn:focus{outline:3px solid #ffff00;outline-offset:2px}.school-schedule-widget{padding:14px;height:100%;display:flex;flex-direction:column;background:linear-gradient(35deg,#56ab2f 40%,#a8e063 90%);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;color:#fff;font-family:var(--calendar-font-display);box-shadow:0 8px 32px #0000004d}.schedule-header{margin-bottom:20px}.schedule-title{display:flex;align-items:center;gap:10px;font-size:2.5rem;font-weight:700;margin-bottom:5px}.schedule-icon{font-size:2rem;animation:bounce 2s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.schedule-kids-tabs{display:inline-flex;gap:8px}.kid-tab{padding:8px 38px;background:#fff3;border:2px solid transparent;border-radius:20px;color:#fff;font-weight:700;font-size:1.2rem;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.kid-tab:hover{background:#ffffff4d}.kid-tab.active{background:#fff;color:#56ab2f;border-color:#fff;box-shadow:0 4px 12px #fff6}.schedule-days-nav{display:flex;gap:6px;margin-bottom:20px;overflow-x:auto;padding-bottom:5px}.schedule-days-nav::-webkit-scrollbar{height:4px}.schedule-days-nav::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.day-nav-btn{padding:6px 12px;background:#ffffff26;border:none;border-radius:12px;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s ease;white-space:nowrap}.day-nav-btn:hover{background:#ffffff40}.day-nav-btn.active{background:#fff6;box-shadow:0 2px 8px #00000026}.schedule-content{flex:1;overflow-y:auto}.schedule-day-title{font-size:1.2rem;font-weight:700;margin:0 0 15px;text-align:center}.lessons-list{display:flex;flex-direction:column;gap:10px}.lesson-item{background:#ffffff1a;padding:12px 16px;border-radius:12px;border-left:2px solid white;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;gap:15px;transition:all .3s ease;animation:lessonAppear .4s ease both}.lesson-item:nth-child(1){animation-delay:.1s}.lesson-item:nth-child(2){animation-delay:.15s}.lesson-item:nth-child(3){animation-delay:.2s}.lesson-item:nth-child(4){animation-delay:.25s}.lesson-item:nth-child(5){animation-delay:.3s}@keyframes lessonAppear{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.lesson-item:hover{background:#ffffff40;transform:translate(5px)}.lesson-time{font-weight:700;font-size:1.5rem;min-width:50px;opacity:1}.lesson-details{display:flex;align-items:center;gap:8px;flex:1}.lesson-emoji{font-size:1.5rem}.lesson-subject{font-weight:700;font-size:1.55rem}@media (max-width: 768px){.school-schedule-widget{padding:20px}.schedule-title{font-size:1.1rem}.schedule-icon{font-size:1.5rem}.schedule-kids-tabs{flex-direction:column;gap:6px}.kid-tab{width:100%;text-align:center}.lesson-time{font-size:.8rem;min-width:40px}.lesson-subject{font-size:.85rem}}.kid-tab:focus,.day-nav-btn:focus{outline:3px solid #ffff00;outline-offset:2px}.schedule-loading,.schedule-error{display:flex;align-items:center;justify-content:center;height:100%;font-size:1.1rem;font-weight:600;opacity:.8}.setup-button{margin-top:15px;padding:12px 24px;background:#ffffffe6;color:#2c5f2d;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease}.setup-button:hover{background:#fff;transform:scale(1.05)}.edit-schedule-btn{margin:10px 0;padding:10px 20px;background:#ffffff40;border:2px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s ease}.edit-schedule-btn:hover{background:#ffffff59;transform:translateY(-2px)}.schedule-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:#000000bf;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);display:flex;justify-content:center;align-items:center;z-index:999999}.schedule-modal-content{background:#2c5f2d;border-radius:24px;padding:40px;width:85vw;max-width:1200px;max-height:80vh;overflow-y:auto;box-shadow:0 25px 80px #0009;animation:modalAppear .3s ease-out}@keyframes modalAppear{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.schedule-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid rgba(255,255,255,.2)}.schedule-modal-header h2{margin:0;font-size:1.8rem;color:#fff;font-weight:700}.modal-close-btn{background:#ffffff26;border:none;color:#fff;font-size:1.8rem;width:45px;height:45px;border-radius:50%;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.modal-close-btn:hover{background:#ffffff40;transform:rotate(90deg)}.schedule-modal-grid{display:grid;grid-template-columns:55px repeat(5,1fr);gap:6px;margin-bottom:30px}.grid-corner{background:transparent}.grid-day-header{background:#ffffff40;padding:10px 6px;border-radius:10px;font-weight:700;font-size:.85rem;color:#fff;text-align:center}.grid-time{background:#ffffff26;padding:10px 6px;border-radius:10px;font-weight:600;font-size:.75rem;color:#fff;text-align:center;display:flex;align-items:center;justify-content:center}.grid-input{background:#fff;border:2px solid transparent;border-radius:10px;padding:8px;font-size:.85rem;font-weight:600;text-align:center;transition:all .2s ease;color:#1a3a1b}.grid-input:focus{outline:none;border-color:#4ecdc4;box-shadow:0 0 0 3px #4ecdc440}.grid-input::placeholder{color:#aaa;font-weight:400}.schedule-modal-footer{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:2px solid rgba(255,255,255,.2)}.modal-cancel-btn,.modal-save-btn{padding:12px 30px;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s ease}.modal-cancel-btn{background:#fff3;color:#fff}.modal-cancel-btn:hover{background:#ffffff4d}.modal-save-btn{background:#fff;color:#2c5f2d}.modal-save-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ffffff4d}@media (max-width: 1200px){.schedule-modal-grid{gap:5px}.grid-input{font-size:.8rem;padding:6px}}.bus-schedule-widget{background-color:#2c2c2e;color:#f5f5f7;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;border-radius:16px;padding:16px;max-width:350px;box-shadow:0 4px 12px #0003;display:flex;flex-direction:column;gap:16px}.bus-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid #444}.bus-title{display:flex;align-items:center;gap:8px;font-size:1.1rem;font-weight:600}.bus-icon{font-size:1.5rem}.bus-kids-tabs{display:flex;background-color:#3a3a3c;border-radius:8px;padding:2px}.bus-kid-tab{border:none;background-color:transparent;color:#c7c7cc;padding:6px 12px;border-radius:7px;cursor:pointer;font-weight:500;transition:background-color .2s,color .2s}.bus-kid-tab.active{background-color:#5856d6;color:#fff}.bus-content{display:flex;flex-direction:column;gap:16px}.bus-loading,.bus-error{text-align:center;padding:24px;font-size:1rem;color:#9a9a9e}.bus-error{color:#ff453a;font-weight:500}.next-bus-card{background-color:#3a3a3c;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:12px}.next-bus-badge{align-self:flex-start;background-color:#5856d6;color:#fff;font-size:.7rem;font-weight:700;padding:3px 8px;border-radius:6px}.bus-time-section{display:flex;justify-content:space-between;align-items:baseline}.bus-departure-time{font-size:2rem;font-weight:700}.bus-countdown{font-size:1rem;color:#a9a9b0;font-weight:500}.bus-route{display:flex;align-items:center;justify-content:space-between;background-color:#1c1c1e;padding:8px;border-radius:8px}.bus-stop{display:flex;align-items:center;gap:8px}.stop-name{font-size:.9rem}.bus-arrow{color:#777}.bus-info{display:flex;justify-content:flex-end;font-size:.8rem;color:#9a9a9e}.idos-link-section{margin-top:auto;text-align:center}.idos-link-btn{display:inline-block;background-color:#007aff;color:#fff;text-decoration:none;padding:10px 16px;border-radius:8px;font-weight:500;transition:background-color .2s}.idos-link-btn:hover{background-color:#005ecb}:root{--calendar-primary: #667eea;--calendar-secondary: #764ba2;--calendar-text: #212529;--calendar-text-secondary: #6c757d;--calendar-text-light: #333;--calendar-bg-blur: rgba(255, 255, 255, .55);--calendar-header-blur: rgba(255, 255, 255, .85);--calendar-button-blur: rgba(0, 0, 0, .4);--calendar-hover-overlay: rgba(0, 0, 0, .04);--calendar-today-bg: rgba(227, 242, 253, .85);--calendar-day-info-width: 160px;--calendar-padding: 15px;--calendar-padding-sm: 8px;--calendar-cell-min-height: 90px;--calendar-header-padding: 12px 10px;--calendar-border: 1px solid #eee;--calendar-border-dark: 1px solid #ddd;--calendar-border-subtle: 1px solid rgba(0, 0, 0, .1);--calendar-shadow-light: 0 2px 5px rgba(0, 0, 0, .05);--calendar-shadow-medium: 0 10px 30px rgba(0, 0, 0, .2);--calendar-radius: 12px;--calendar-radius-full: 50%;--calendar-radius-lg: 16px;--calendar-font-display: "Caveat", cursive;--calendar-font-base: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--calendar-transition: all .2s ease;--calendar-z-header: 10;--calendar-z-modal: 9999;--calendar-z-backdrop: 2}.calendar-widget{height:100%;display:flex;flex-direction:column;background-size:cover;background-position:center center;font-family:var(--calendar-font-base)}.calendar-header{background-image:linear-gradient(to bottom,#0000004d,#0000001a);color:#fff;padding:15px 20px;display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:20px;z-index:var(--calendar-z-backdrop);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.calendar-title-section{display:flex;align-items:center;gap:15px}.calendar-title{font-size:1.6rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.3);font-family:var(--calendar-font-display)}.calendar-navigation{display:flex;align-items:center;gap:8px}.nav-button{background:#ffffff40;border:none;color:#fff;padding:8px 14px;border-radius:8px;cursor:pointer;transition:var(--calendar-transition);font-size:16px;font-weight:600;min-width:40px;display:flex;align-items:center;justify-content:center}.nav-button:hover{background:#ffffff59}.today-button{padding:8px 16px;font-weight:700!important;background:#ffffff4d!important}.calendar-controls{display:flex;align-items:center;gap:12px}.view-selector{display:flex;background:#ffffff26;border-radius:10px;overflow:hidden;padding:2px}.view-button{background:transparent;border:none;color:#fff;padding:6px 14px;cursor:pointer;transition:var(--calendar-transition);font-size:13px;font-weight:600;border-radius:8px}.view-button.active{background:#ffffff59}.view-button:hover:not(.active){background:#fff3}.add-event-button{background:#ffffff40;border:1px solid rgba(255,255,255,.4);color:#fff;padding:8px 18px;border-radius:20px;cursor:pointer;font-weight:600;font-size:13px;transition:var(--calendar-transition);display:flex;align-items:center;gap:6px;white-space:nowrap}.add-event-button:hover{background:#ffffff59}@media (max-width: 1024px){.calendar-header{grid-template-columns:1fr;gap:12px}.calendar-title-section,.calendar-controls{justify-content:space-between}}@media (max-width: 768px){.calendar-header{padding:12px 15px}.calendar-title{font-size:1.3rem}.nav-button,.view-button{padding:6px 10px;font-size:12px}.add-event-button{padding:6px 12px;font-size:12px}}.calendar-content{flex:1;overflow-y:auto;padding:0 var(--calendar-padding) var(--calendar-padding) var(--calendar-padding);background-color:var(--calendar-bg-blur);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.new-family-header{display:grid;grid-template-columns:var(--calendar-day-info-width) repeat(4,1fr);position:sticky;top:0;z-index:var(--calendar-z-header);background-color:var(--calendar-header-blur);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-shadow:var(--calendar-shadow-light)}.day-info-header-cell,.member-header-cell{padding:var(--calendar-header-padding);font-weight:700;text-align:center;font-family:var(--calendar-font-display);font-size:1.5rem;color:var(--calendar-text);border-right:var(--calendar-border)}.day-info-header-cell{font-weight:700}.member-header-cell{font-weight:600}.member-header-cell:last-child{border-right:none}.new-family-body{border:var(--calendar-border-dark);border-top:none;border-radius:0 0 var(--calendar-radius) var(--calendar-radius);overflow:hidden}.day-row{display:grid;grid-template-columns:var(--calendar-day-info-width) repeat(4,1fr);border-bottom:var(--calendar-border)}.day-row:last-child{border-bottom:none}.day-row.today .day-info-cell,.day-row.today .member-day-cell{background-color:var(--calendar-today-bg)}.day-info-cell{padding:var(--calendar-padding-sm) var(--calendar-padding);background-color:transparent;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:4px;border-right:var(--calendar-border-subtle)}.day-date{display:flex;align-items:baseline;gap:10px}.day-number{font-size:1.1rem;font-weight:600;color:var(--calendar-text)}.day-name{font-size:.85rem;color:var(--calendar-text-secondary)}.day-special-events{font-size:.75rem;color:var(--calendar-text-light)}.special-event.holiday{font-weight:600}.special-event.birthday{color:#e76f51}.member-day-cell{min-height:var(--calendar-cell-min-height);padding:5px;background-color:transparent;position:relative;border-right:var(--calendar-border-subtle)}.member-day-cell:last-child{border-right:none}.add-event-button-inline{width:100%;padding:4px 6px;margin-top:4px;border:1px dashed rgba(0,0,0,.2);border-radius:4px;background:#ffffff80;color:#666;font-size:.65rem;font-weight:600;cursor:pointer;transition:all .2s ease;opacity:0}.member-day-cell:hover .add-event-button-inline{opacity:1}.add-event-button-inline:hover{background:#ffffffe6;border-color:#0006;color:#333;transform:scale(1.02)}.add-event-button-cell{position:absolute;bottom:5px;left:50%;transform:translate(-50%);width:24px;height:24px;border-radius:var(--calendar-radius-full);border:none;background-color:var(--calendar-button-blur);color:#fff;cursor:pointer;opacity:0;transition:var(--calendar-transition);pointer-events:none}.add-event-button-cell:before,.add-event-button-cell:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff}.add-event-button-cell:before{width:12px;height:2px}.add-event-button-cell:after{width:2px;height:12px}.member-day-cell:hover .add-event-button-cell{opacity:1;pointer-events:auto}.add-event-button-cell:hover{transform:translate(-50%) scale(1.1);background-color:#0009}.day-row:not(.today) .day-info-cell:hover,.day-row:not(.today) .member-day-cell:hover{background-color:var(--calendar-hover-overlay);cursor:pointer}.event-form-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:var(--calendar-z-modal)}.event-form{background:#fff;border-radius:var(--calendar-radius-lg);padding:30px;max-width:500px;width:90%;box-shadow:var(--calendar-shadow-medium);font-family:var(--calendar-font-base)}.calendar-header{background-image:linear-gradient(to bottom,rgba(0,0,0,.2),transparent);color:#fff;padding:20px;display:run-in;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px;z-index:var(--calendar-z-backdrop)}.calendar-title-section{display:run-in;align-items:center;gap:20px;flex-wrap:wrap}.calendar-title{font-size:2.8rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.2);font-family:var(--calendar-font-display)}.calendar-navigation{display:flex;align-items:center;gap:10px}.nav-button{background:#fff3;border:none;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;transition:var(--calendar-transition);font-size:16px;font-weight:600}.nav-button:hover{background:#ffffff4d;transform:scale(1.05)}.today-button{font-weight:700!important;background:#ffffff4d!important}.today-button:hover{background:#fff6!important}.calendar-controls{display:flex;align-items:center;gap:15px}.view-selector{display:flex;background:#ffffff1a;border-radius:10px;overflow:hidden}.view-button{background:transparent;border:none;color:#fff;padding:8px 16px;cursor:pointer;transition:var(--calendar-transition);font-size:14px;font-weight:500}.view-button.active{background:#ffffff4d}.view-button:hover:not(.active){background:#ffffff26}.add-event-button{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:10px 20px;border-radius:25px;cursor:pointer;font-weight:600;transition:var(--calendar-transition);display:flex;align-items:center;gap:8px}.add-event-button:hover{background:#ffffff4d;transform:scale(1.05)}@media (max-width: 768px){.calendar-header{padding:15px;flex-direction:column;align-items:stretch;gap:10px}.calendar-title{font-size:1.5rem;text-align:center}.calendar-navigation{justify-content:center}.calendar-controls{flex-direction:column;gap:10px}.view-selector{width:100%}.view-button{flex:1}}.week-view{display:flex;flex-direction:column;height:100%}.week-header{display:grid;grid-template-columns:60px repeat(7,1fr);gap:1px;margin-bottom:10px;position:sticky;top:0;z-index:10}.time-column{background:#f8f9fa;padding:10px 5px;text-align:center;font-size:.8rem;color:#6c757d}.week-day-header{background:#f8f9fa;padding:15px 8px;text-align:center;font-weight:600;color:#495057;border-radius:8px;display:flex;flex-direction:column;gap:4px}.week-day-header.today{background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important}.week-day-name{font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.week-day-number{font-size:1.2rem;font-weight:700}.week-grid{display:grid;grid-template-columns:60px repeat(7,1fr);gap:1px;flex:1;background:#e9ecef;border-radius:12px;padding:2px}.hour-slot{background:#fff;min-height:40px;padding:4px;border-radius:6px;position:relative}.hour-label{background:#f8f9fa;padding:4px;text-align:center;font-size:.75rem;color:#6c757d;border-radius:6px}.week-event{padding:4px 8px;border-radius:4px;margin-bottom:2px;font-size:.75rem;cursor:pointer;transition:all .2s ease}.week-event:hover{transform:scale(1.02);box-shadow:0 2px 8px #0003}.week-event .event-time{font-weight:600;margin-bottom:2px;opacity:.9}.week-event .event-title{font-weight:500}.day-view{display:flex;flex-direction:column;height:100%}.day-view-header{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:20px;border-radius:12px;margin-bottom:20px;text-align:center}.day-view-title{font-size:1.5rem;font-weight:700;color:#495057;margin-bottom:8px}.day-view-date{font-size:1rem;color:#6c757d}.day-special-events{font-size:.75rem;color:var(--calendar-text-light);display:flex;flex-wrap:wrap;gap:4px;max-height:40px;overflow:hidden}.special-event{display:inline-block;font-size:.7rem;padding:2px 6px;border-radius:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.special-event.holiday{font-weight:600;background:#dc354526;color:#dc3545;padding:2px 6px}.special-event.birthday{color:#e76f51;background:#e76f5126;padding:2px 6px}.special-event.nameday{background:#28a74526;color:#28a745;padding:2px 6px;cursor:pointer;position:relative;transition:all .2s ease}.special-event.nameday:hover{background:#28a74540;transform:scale(1.05)}.special-event.nameday.marked{position:relative;display:inline-block;padding:2px 6px}.special-event.nameday.marked:before,.special-event.nameday.marked:after{content:"";position:absolute;top:-5px;left:-8px;right:-8px;bottom:-5px;border-style:solid;z-index:-1;box-shadow:inset 0 0 5px #0000001a;pointer-events:none}@keyframes drawEllipse1{0%{opacity:0;transform:rotate(-20deg) scale(.3)}to{opacity:1;transform:rotate(-7deg) scale(.9)}}@keyframes drawEllipse2{0%{opacity:0;transform:rotate(30deg) scale(.2)}to{opacity:1;transform:rotate(4deg) scale(1)}}.all-day-events{background:#f8f9fa;border-radius:12px;padding:15px;margin-bottom:20px}.section-title{font-size:1.1rem;font-weight:600;color:#495057;margin-bottom:10px;border-bottom:2px solid #e9ecef;padding-bottom:5px}.all-day-events-list{display:flex;flex-direction:column;gap:8px}.day-schedule{flex:1;display:grid;grid-template-columns:80px 1fr;gap:10px;background:#fff;border-radius:12px;padding:15px;box-shadow:0 2px 10px #0000000d}.day-times{display:flex;flex-direction:column;gap:40px;padding-top:10px}.time-slot{font-size:.9rem;color:#6c757d;font-weight:500;text-align:right;padding-right:10px}.day-events-column{position:relative;border-left:2px solid #e9ecef;padding-left:15px}.time-slot-events{min-height:30px;padding:2px 0;border-bottom:1px solid #f1f3f4}.empty-slot{height:30px}.day-event{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 16px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 8px #667eea4d;cursor:pointer;transition:all .2s ease;position:relative}.day-event:hover{transform:translate(5px);box-shadow:0 4px 12px #667eea66}.day-event.all-day{background:linear-gradient(135deg,#667eea,#764ba2);border-left:4px solid #495057}.event-time{font-size:.8rem;opacity:.9;margin-bottom:4px}.event-title{font-weight:600;margin-bottom:2px}.event-description{font-size:.85rem;opacity:.8}.event-member,.event-attachments{font-size:.75rem;opacity:.8;margin-top:4px;display:flex;align-items:center;gap:4px}.day-summary{background:#f8f9fa;border-radius:12px;padding:15px;margin-top:20px}.day-stats{display:flex;justify-content:space-around;gap:20px}.stat-item{text-align:center;flex:1}.stat-number{display:block;font-size:1.5rem;font-weight:700;color:#667eea;margin-bottom:4px}.stat-label{font-size:.85rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.special-event.nameday.marked{overflow:visible}.day-row{position:relative}.day-info-cell{position:relative;z-index:2}.member-day-cell{position:relative;z-index:1}.day-special-events.has-marked-nameday{overflow:visible;max-height:none}.special-event.nameday.marked:before{border-width:2px;border-color:#576574;border-radius:45% 55% 60% 40%/65% 50% 50% 35%;transform:rotate(-5deg);animation:drawEllipse1 .4s cubic-bezier(.68,-.55,.27,1.55) forwards}.special-event.nameday.marked:after{border-width:2px;border-color:#576574a0;border-radius:60% 40% 45% 55%/50% 65% 35% 50%;transform:rotate(2deg);animation:drawEllipse2 .5s cubic-bezier(.68,-.55,.27,1.55) .1s forwards}.events-in-cell{display:flex;flex-direction:column;gap:2px;max-height:60px;overflow-y:auto;overflow-x:hidden}.event-wrapper{position:relative;margin-bottom:2px}.family-event-item{font-size:.7rem;padding:2px 4px;border-radius:4px;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;transition:all .2s ease}.family-event-item:hover{transform:scale(1.02);box-shadow:0 2px 4px #0003}.quick-delete-btn{position:absolute;right:2px;top:50%;transform:translateY(-50%);width:14px;height:14px;border-radius:50%;border:none;background:#0009;color:#fff;font-size:11px;line-height:1;cursor:pointer;opacity:0;transition:all .2s ease;display:flex;align-items:center;justify-content:center;padding:0;z-index:5}.event-wrapper:hover .quick-delete-btn{opacity:1}.quick-delete-btn:hover{background:#dc3545e6;transform:translateY(-50%) scale(1.15)}.calendar-mobile{width:100%;height:100vh;display:flex;flex-direction:column;background:#f5f5f5;overflow:hidden}.calendar-mobile-header{padding:1rem;box-shadow:0 2px 8px #0000001a}.mobile-header-controls{display:flex;align-items:center;justify-content:space-between;gap:1rem}.mobile-nav-btn{background:#fff3;border:none;border-radius:8px;padding:.5rem 1rem;color:#fff;font-size:1.2rem;cursor:pointer;transition:background .2s}.mobile-nav-btn:active{background:#ffffff4d}.mobile-month-title{font-size:1.25rem;font-weight:600;margin:0;flex:1;text-align:center}.calendar-mobile-grid{background:#fff;padding:.5rem}.mobile-weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:.5rem}.mobile-weekday{text-align:center;font-size:.75rem;font-weight:600;color:#666;padding:.5rem 0}.mobile-days{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.mobile-day{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;cursor:pointer;transition:background .2s;position:relative}.mobile-day.empty{cursor:default}.mobile-day-number{font-size:.9rem;font-weight:500;color:#333}.mobile-day.today{background:#667eea}.mobile-day.today .mobile-day-number{color:#fff;font-weight:700}.mobile-day.selected{background:#e3e8ff;box-shadow:0 0 0 2px #667eea}.mobile-day.holiday .mobile-day-number{color:#ff6b6b;font-weight:600}.mobile-event-dot{width:4px;height:4px;background:#667eea;border-radius:50%;position:absolute;bottom:4px}.mobile-day.today .mobile-event-dot{background:#fff}.mobile-day-detail{flex:1;overflow-y:auto;background:#fff;margin-top:.5rem;padding:1rem;border-radius:16px 16px 0 0}.mobile-detail-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #eee}.mobile-detail-header h3{margin:0;font-size:1rem;font-weight:600;color:#333}.mobile-add-btn{background:#667eea;color:#fff;border:none;border-radius:8px;padding:.5rem 1rem;font-size:.9rem;font-weight:600;cursor:pointer}.mobile-special-event{padding:.75rem;border-radius:8px;margin-bottom:.5rem;font-size:.9rem}.mobile-special-event.holiday{background:#fff5f5;color:#ff6b6b}.mobile-special-event.nameday{background:#f0f9ff;color:#3b82f6}.mobile-events-list{margin-top:1rem}.mobile-event-item{background:#fff;border-left:4px solid #667eea;border-radius:8px;padding:1rem;margin-bottom:.5rem;box-shadow:0 2px 4px #0000000d;cursor:pointer;transition:transform .2s,box-shadow .2s}.mobile-event-item:active{transform:scale(.98);box-shadow:0 1px 2px #0000001a}.mobile-event-time{display:block;font-size:.75rem;color:#666;margin-bottom:.25rem}.mobile-event-title{display:block;font-weight:600;color:#333;margin-bottom:.25rem}.mobile-event-member{display:block;font-size:.75rem;color:#666}.mobile-no-events{text-align:center;color:#999;padding:2rem 0;font-size:.9rem}:root{--calendar-primary: #667eea;--calendar-secondary: #764ba2;--calendar-text: #212529;--calendar-text-secondary: #6c757d;--calendar-text-light: #333;--calendar-bg-blur: rgba(255, 255, 255, .55);--calendar-header-blur: rgba(255, 255, 255, .85);--calendar-button-blur: rgba(0, 0, 0, .4);--calendar-hover-overlay: rgba(0, 0, 0, .04);--calendar-today-bg: rgba(227, 242, 253, .85);--calendar-day-info-width: 160px;--calendar-padding: 15px;--calendar-padding-sm: 8px;--calendar-cell-min-height: 90px;--calendar-header-padding: 12px 10px;--calendar-border: 1px solid #eee;--calendar-border-dark: 1px solid #ddd;--calendar-border-subtle: 1px solid rgba(0, 0, 0, .1);--calendar-shadow-light: 0 2px 5px rgba(0, 0, 0, .05);--calendar-shadow-medium: 0 10px 30px rgba(0, 0, 0, .2);--calendar-radius: 12px;--calendar-radius-full: 50%;--calendar-radius-lg: 16px;--calendar-font-display: "Caveat", cursive;--calendar-font-base: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--calendar-transition: all .2s ease;--calendar-z-header: 10;--calendar-z-modal: 99999;--calendar-z-backdrop: 2}.calendar-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:var(--calendar-z-modal);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.calendar-modal-content{background:#fff;border-radius:20px;width:95vw;height:90vh;max-width:1200px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 20px 60px #00000080;animation:slideIn .3s ease}.calendar-modal-content.mobile{max-width:100%;max-height:100vh;border-radius:0}.event-form-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:calc(var(--calendar-z-modal) + 1)}.event-form{background:#fff;border-radius:var(--calendar-radius-lg);padding:30px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:var(--calendar-shadow-medium);font-family:var(--calendar-font-base)}.event-form-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #f1f3f4}.event-form-title{font-size:1.5rem;font-weight:700;color:var(--calendar-text);margin:0}.close-button{background:none;border:none;font-size:1.5rem;color:var(--calendar-text-secondary);cursor:pointer;padding:5px;border-radius:50%;transition:var(--calendar-transition)}.close-button:hover{background:#f8f9fa;color:var(--calendar-text)}.form-group{margin-bottom:20px}.form-label{display:block;font-weight:600;color:var(--calendar-text);margin-bottom:8px;font-size:.9rem}.form-input,.form-textarea,.form-select{width:100%;padding:12px 16px;border:2px solid #e9ecef;border-radius:8px;font-size:1rem;transition:var(--calendar-transition);background:#fff;font-family:var(--calendar-font-base)}.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:var(--calendar-primary);box-shadow:0 0 0 3px #667eea1a}.form-textarea{min-height:80px;resize:vertical}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:15px}.color-picker{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.color-option{width:30px;height:30px;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:var(--calendar-transition)}.color-option:hover{transform:scale(1.1)}.color-option.selected{border-color:var(--calendar-text);box-shadow:0 0 0 2px #fff,0 0 0 4px var(--calendar-text)}.family-member-selector{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.family-member-option{padding:8px 16px;border:2px solid #e9ecef;border-radius:20px;background:#fff;cursor:pointer;transition:var(--calendar-transition);font-size:.9rem;font-weight:500}.family-member-option:hover{border-color:var(--calendar-primary);background:#667eea1a}.family-member-option.selected{color:#fff;border-color:var(--calendar-primary)}.reminder-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:8px}.reminder-option{padding:10px 12px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:var(--calendar-transition);font-size:.85rem;text-align:center;font-weight:500}.reminder-option:hover{border-color:var(--calendar-primary);background:#667eea1a}.reminder-option.selected{background:var(--calendar-primary);color:#fff;border-color:var(--calendar-primary)}.form-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:2px solid #f1f3f4}.btn{padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:.9rem;transition:var(--calendar-transition);display:flex;align-items:center;gap:8px}.btn-primary{background:linear-gradient(135deg,var(--calendar-primary),var(--calendar-secondary));color:#fff}.btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.btn-danger{background:#dc3545;color:#fff}.btn-danger:hover{background:#c82333;transform:translateY(-1px)}.btn-outline{background:transparent;border:2px solid var(--calendar-text-secondary);color:var(--calendar-text-secondary)}.btn-outline:hover{background:var(--calendar-text-secondary);color:#fff}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.upcoming-events-widget{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:24px;padding:20px;color:#fff;height:100%;display:flex;flex-direction:column;box-shadow:0 10px 30px #0003;overflow:hidden}.upcoming-events-widget .widget-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid rgba(255,255,255,.2)}.upcoming-events-widget .widget-title{font-size:1.5rem;font-weight:800;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.upcoming-events-widget .event-count{background:#ffffff4d;padding:6px 12px;border-radius:20px;font-size:.9rem;font-weight:600}.events-container{flex:1;overflow-y:auto;overflow-x:hidden}.events-container::-webkit-scrollbar{width:6px}.events-container::-webkit-scrollbar-track{background:#ffffff1a;border-radius:10px}.events-container::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.no-events-message{text-align:center;padding:40px 20px;animation:fadeInScale .6s ease}@keyframes fadeInScale{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.celebration-icon{font-size:5rem;margin-bottom:15px;animation:bounce 1s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.no-events-title{font-size:2rem;font-weight:800;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.no-events-text{font-size:1.2rem;margin:0 0 20px;opacity:.9}.happy-emoji{font-size:3rem;animation:rotate 2s ease-in-out infinite}@keyframes rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.today-section,.upcoming-section{margin-bottom:20px}.section-title{font-size:1.1rem;font-weight:700;margin:0 0 12px 5px;opacity:.9;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.event-card{display:flex;align-items:center;gap:15px;padding:15px;border-radius:16px;margin-bottom:12px;box-shadow:0 4px 15px #0003;transition:all .3s ease;animation:slideInRight .5s ease both;cursor:pointer;position:relative;overflow:hidden}@keyframes slideInRight{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.event-card:hover{transform:translate(5px) scale(1.02);box-shadow:0 6px 20px #0000004d}.event-card:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.3) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.event-card:hover:before{opacity:1}.event-icon{font-size:2.5rem;min-width:50px;height:50px;display:flex;align-items:center;justify-content:center;background:#ffffff4d;border-radius:12px;box-shadow:0 2px 10px #0000001a}.event-details{flex:1;display:flex;flex-direction:column;gap:4px}.event-title{font-size:1.1rem;font-weight:700;margin:0;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.event-date{font-size:.9rem;opacity:.9;display:flex;align-items:center;gap:5px}.event-time{font-size:.85rem;opacity:.85;background:#fff3;padding:3px 8px;border-radius:8px;display:inline-block;width:fit-content}.event-badge{position:absolute;top:10px;right:10px;background:#ffffffe6;color:#667eea;padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:800;text-transform:uppercase;box-shadow:0 2px 8px #0003;animation:pulse 2s infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.today-event{border:3px solid rgba(255,255,255,.5)}.click-hint-events{text-align:center;padding:10px 0 0;opacity:.8;font-size:.9rem;font-weight:600;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.upcoming-events-widget{cursor:pointer;transition:transform .2s ease}.upcoming-events-widget:hover{transform:scale(1.02)}@media (max-width: 768px){.upcoming-events-widget{padding:15px}.upcoming-events-widget .widget-title{font-size:1.3rem}.event-card{padding:12px;gap:12px}.event-icon{font-size:2rem;min-width:40px;height:40px}.event-title{font-size:1rem}.celebration-icon{font-size:4rem}.no-events-title{font-size:1.5rem}}.family-dashboard{position:relative;animation:fadeInUp .5s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.widgets-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px;margin-bottom:30px}.widget-container{animation:widgetAppear .6s ease both}.widget-container:nth-child(1){animation-delay:.1s}.widget-container:nth-child(2){animation-delay:.2s}.widget-container:nth-child(3){animation-delay:.3s}.widget-container:nth-child(4){animation-delay:.4s}.widget-container:nth-child(5){animation-delay:.5s}@keyframes widgetAppear{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.widget-container{background:transparent;border-radius:24px;padding:0;box-shadow:0 10px 30px #0003;overflow:visible;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.widget-container:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 20px 40px #0000004d}.widget-container:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(102,126,234,.1) 0%,transparent 70%);opacity:0;transition:opacity .3s ease;pointer-events:none}.widget-container:hover:before{opacity:1}.upcoming-events-container{grid-column:span 1;min-height:320px}.upcoming-events-widget{width:100%;height:100%;border-radius:24px}.weather-container{grid-column:span 1;min-height:280px}.family-weather-widget{width:100%;height:100%;border-radius:24px}.calendar-container{grid-column:span 1;min-height:280px}.family-calendar-widget{width:100%;height:100%;border-radius:24px}.stickynotes-container{grid-column:span 1;min-height:300px;background:linear-gradient(135deg,#ffeaa7,#fdcb6e)}.schedule-container{grid-column:span 1;min-height:280px;background:linear-gradient(135deg,#a8e6cf,#56ab2f)}.add-widget-container{min-height:200px;display:flex;align-items:center;justify-content:center;background:#fffffff2;border:3px dashed rgba(102,126,234,.3);cursor:pointer}.add-widget-container:hover{border-color:#667eea99;background:#fff}.add-widget-placeholder{text-align:center;padding:30px}.add-widget-icon{font-size:3rem;margin-bottom:10px;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:.6;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}.add-widget-text{font-size:1.2rem;font-weight:700;color:#667eea;margin-bottom:5px}.add-widget-hint{font-size:.9rem;color:#999;margin:0}.member-info-panel{position:fixed;bottom:30px;left:50%;transform:translate(-50%);background:#fff;padding:15px 25px;border-radius:50px;box-shadow:0 8px 25px #0003;display:flex;align-items:center;gap:15px;z-index:100;animation:slideUp .4s ease}@keyframes slideUp{0%{opacity:0;transform:translate(-50%,20px)}to{opacity:1;transform:translate(-50%)}}.member-info-text{margin:0;font-size:.95rem;color:#333}.member-info-text strong{color:#667eea;font-weight:700}.clear-filter-btn{padding:8px 15px;background:#667eea;color:#fff;border:none;border-radius:20px;font-weight:600;font-size:.85rem;cursor:pointer;transition:all .2s ease}.clear-filter-btn:hover{background:#5568d3;transform:scale(1.05)}@media (max-width: 1200px){.widgets-grid{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}@media (max-width: 768px){.widgets-grid{grid-template-columns:1fr;gap:15px}.widget-container{min-height:auto!important}.weather-container,.calendar-container,.stickynotes-container,.schedule-container{min-height:250px}.member-info-panel{bottom:20px;left:10px;right:10px;transform:none;flex-direction:column;padding:12px 20px;gap:10px}.clear-filter-btn{width:100%}}@media (max-width: 480px){.widgets-grid{gap:12px}.widget-container{border-radius:18px}.add-widget-icon{font-size:2.5rem}.add-widget-text{font-size:1rem}}.widgets-grid:has(.widget-container:nth-child(4):last-child){grid-template-columns:repeat(2,1fr)}.widgets-grid:has(.widget-container:nth-child(3):last-child){grid-template-columns:repeat(2,1fr)}.widgets-grid:has(.widget-container:nth-child(3):last-child) .widget-container:nth-child(3){grid-column:span 2}.widget-container:focus-within{outline:3px solid #ffff00;outline-offset:2px}.add-widget-container:focus{outline:3px solid #ffff00;outline-offset:2px}.message-history-widget{background:#fff;border-radius:20px;padding:20px;box-shadow:0 10px 30px #0000001a;height:100%;display:flex;flex-direction:column}.widget-header-msg{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:2px solid #f0f0f0}.widget-header-msg h3{margin:0;font-size:1.3rem;color:#333}.unread-count-badge{background:#ff6b6b;color:#fff;padding:4px 12px;border-radius:12px;font-size:.85rem;font-weight:700}.messages-list{flex:1;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;gap:12px;padding:0 4px}.no-messages{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#999}.no-messages-icon{font-size:3rem;margin-bottom:12px}.message-item{background:#f8f9fa;border-radius:12px;padding:14px;cursor:pointer;transition:all .2s ease;position:relative;border:2px solid transparent}.message-item:hover{background:#e9ecef;transform:scale(1.01);box-shadow:0 2px 8px #0000001a}.message-item.unread{background:linear-gradient(135deg,#e3f2fd,#f3e5f5);border-color:#667eea}.message-item.urgent{background:linear-gradient(135deg,#fff3cd,#ffe5e5);border-color:#ff6b6b}.urgent-indicator{position:absolute;top:8px;right:8px;font-size:1.2rem;animation:pulse 1.5s infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.message-header-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.sender-name{font-weight:700;color:#667eea;font-size:.95rem}.message-time{font-size:.75rem;color:#999}.message-text{color:#333;line-height:1.5;font-size:.95rem}.unread-dot{position:absolute;top:12px;right:12px;width:10px;height:10px;background:#667eea;border-radius:50%;border:2px solid white}.messages-list::-webkit-scrollbar{width:6px}.messages-list::-webkit-scrollbar-track{background:transparent}.messages-list::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}.messages-list::-webkit-scrollbar-thumb:hover{background:#ccc}.widget-header-msg{display:flex;justify-content:space-between;align-items:center}.header-left{display:flex;align-items:center;gap:12px}.delete-all-btn{background:#fee;border:2px solid #fcc;color:#c33;padding:6px 12px;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .2s ease}.delete-all-btn:hover{background:#fcc;transform:scale(1.05)}.delete-message-btn{position:absolute;top:8px;right:8px;background:#ffffffe6;border:1px solid #ddd;color:#999;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center;opacity:0;transition:all .2s ease}.message-item:hover .delete-message-btn{opacity:1}.delete-message-btn:hover{background:#fee;border-color:#fcc;color:#c33;transform:scale(1.1)}.delete-message-btn:disabled{cursor:not-allowed;opacity:.5}.tech-dashboard{animation:fadeIn .5s ease}.tech-dashboard-header{text-align:center;margin-bottom:30px;color:#fff}.tech-title{font-size:2rem;font-weight:800;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.tech-subtitle{font-size:1rem;opacity:.9;margin:0}.tech-widgets-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:40px}.tech-widget{background:linear-gradient(135deg,#2c3e50,#34495e);border-radius:20px;padding:24px;color:#fff;box-shadow:0 10px 30px #0000004d;transition:all .3s ease;animation:slideUp .5s ease both}.tech-widget:nth-child(1){animation-delay:.1s}.tech-widget:nth-child(2){animation-delay:.2s}.tech-widget:nth-child(3){animation-delay:.3s}.tech-widget:nth-child(4){animation-delay:.4s}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.tech-widget:hover{transform:translateY(-5px);box-shadow:0 15px 40px #0006}.tech-widget-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid rgba(255,255,255,.2)}.tech-widget-title{display:flex;align-items:center;gap:10px;font-size:1.1rem;font-weight:700}.tech-widget-icon{font-size:1.5rem}.tech-widget-count{background:#fff3;padding:4px 12px;border-radius:12px;font-size:.9rem;font-weight:700}.tech-widget-content{min-height:100px;display:flex;align-items:center;justify-content:center}.tech-placeholder-text{text-align:center;opacity:.7;font-size:.95rem;line-height:1.6;margin:0}.tech-coming-soon{background:#fffffff2;border-radius:24px;padding:60px 40px;text-align:center;box-shadow:0 10px 30px #0003;animation:fadeIn .8s ease .5s both}.coming-soon-icon{font-size:4rem;margin-bottom:20px;animation:swing 2s infinite}@keyframes swing{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.tech-coming-soon h3{font-size:1.8rem;font-weight:800;color:#2c3e50;margin:0 0 15px}.tech-coming-soon p{font-size:1.1rem;color:#7f8c8d;margin:0;line-height:1.6}.tuya-widget{background:linear-gradient(135deg,#e74c3c,#c0392b)}.cameras-widget{background:linear-gradient(135deg,#3498db,#2980b9)}.energy-widget{background:linear-gradient(135deg,#f39c12,#e67e22)}.system-widget{background:linear-gradient(135deg,#1abc9c,#16a085)}@media (max-width: 768px){.tech-widgets-grid{grid-template-columns:1fr;gap:15px}.tech-title{font-size:1.6rem}.tech-subtitle{font-size:.9rem}.tech-coming-soon{padding:40px 20px}.coming-soon-icon{font-size:3rem}.tech-coming-soon h3{font-size:1.4rem}.tech-coming-soon p{font-size:1rem}}.tech-widget:focus-within{outline:3px solid #ffff00;outline-offset:2px}.header-info{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:20px 30px;margin:0;box-shadow:0 8px 25px #00000026;animation:slideInDown .6s ease}@keyframes slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.welcome-section{text-align:center;margin-bottom:15px}.welcome-title{font-size:2rem;font-weight:800;color:#fff;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.date-info{font-size:1.2rem;color:#fff;margin:5px 0;opacity:.95}.date-info strong{font-weight:800;text-transform:capitalize}.day-comment{font-size:1.1rem;color:#fff;margin:5px 0 0;opacity:.9;font-weight:600}.nameday-row{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;margin-bottom:10px}.nameday-text{font-size:1.05rem;color:#fff;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.2);padding:8px 14px;background:#ffffff40;border-radius:12px}.nameday-text.animated{animation:fadeInSlide .8s ease}@keyframes fadeInSlide{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.nameday-alert{background:#ffc1074d;border:2px solid #ffc107;padding:8px 14px;border-radius:10px;font-size:.9rem;font-weight:700;color:#856404;white-space:nowrap;box-shadow:0 2px 10px #ffc1074d}.birthday-section{background:linear-gradient(135deg,#f093fb,#f5576c);padding:15px 25px;border-radius:15px;box-shadow:0 4px 15px #0003;animation:bounceIn .8s ease;margin-top:10px}@keyframes bounceIn{0%{opacity:0;transform:scale(.8)}50%{transform:scale(1.05)}to{opacity:1;transform:scale(1)}}.birthday-alert{text-align:center;font-size:1.2rem;color:#fff;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.birthday-alert strong{font-weight:900;font-size:1.3rem;text-transform:uppercase}.upcoming-tip{margin-top:12px;padding:10px 16px;background:#667eea26;border-radius:10px;font-size:.85rem;color:#fff;text-align:center;font-weight:500}@media (max-width: 1024px){.header-info{padding:15px 20px}.welcome-title{font-size:1.7rem}.date-info{font-size:1.05rem}.day-comment{font-size:1rem}}@media (max-width: 768px){.header-info{padding:12px 15px;margin:15px 10px}.welcome-title{font-size:1.5rem}.date-info{font-size:1rem}.day-comment{font-size:.95rem}.nameday-text{font-size:.95rem;padding:6px 12px}.nameday-alert{font-size:.85rem;padding:6px 12px}.birthday-alert{font-size:1rem}.birthday-alert strong{font-size:1.1rem}}@media (max-width: 480px){.header-info{padding:12px 15px}.welcome-title{font-size:1.3rem}.date-info{font-size:.9rem}}.dashboard-layout{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow-x:hidden}.dashboard-layout-header{padding:30px 20px;text-align:center;animation:slideDown .6s ease;position:relative;z-index:10}@keyframes slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.header-content{max-width:1400px;margin:0 auto;position:relative}.dashboard-main-title{font-size:2.5rem;font-weight:800;color:#fff;margin:0 0 20px;text-shadow:2px 2px 4px rgba(0,0,0,.2);text-align:center}.family-avatars{display:flex;justify-content:center;gap:20px;margin:0 0 20px;flex-wrap:wrap}.avatar{width:80px;height:80px;border-radius:50%;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 15px #0003;position:relative;padding:12px}.avatar:hover{transform:scale(1.15) rotate(5deg);box-shadow:0 8px 25px #0000004d}.avatar.selected{background:linear-gradient(135deg,#ffeaa7,#fdcb6e);transform:scale(1.2);box-shadow:0 8px 30px #fdcb6e80}.avatar-emoji{font-size:2.2rem;margin-bottom:4px}.avatar-name{font-size:.7rem;font-weight:700;color:#333;text-align:center}.avatar.selected .avatar-name{color:#d63031}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.avatar:hover{animation:bounce .6s ease}.header-controls{position:absolute;left:20px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:15px}.settings-icon-only{width:50px;height:50px;border-radius:50%;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.3);color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;flex-shrink:0}.settings-icon-only:hover{background:#ffffff4d;transform:rotate(90deg) scale(1.1);box-shadow:0 4px 15px #0003}.message-icon-btn{width:45px;height:45px;border-radius:50%;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.3);color:#fff;font-size:1.3rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;opacity:.6;margin-right:10px}.message-icon-btn:hover{opacity:1;background:#ffffff40;transform:scale(1.1);box-shadow:0 4px 15px #0003}.unread-badge-desktop{position:absolute;top:-5px;right:-5px;background:#ff6b6b;color:#fff;font-size:.7rem;font-weight:700;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid white}.fab-message-btn{position:relative}.unread-badge{position:absolute;top:8px;right:8px;background:#ff6b6b;color:#fff;font-size:.65rem;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 5px;border:2px solid white}.mode-switcher{display:flex;flex-direction:column;gap:12px}.mode-btn{padding:14px 28px;min-width:160px;border:none;border-radius:50px;font-weight:700;font-size:1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:8px;background:#fff3;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid transparent}.mode-btn:hover{transform:translateY(-2px);background:#ffffff4d}.mode-btn.active{background:#fff;color:#667eea;box-shadow:0 6px 20px #fff6;transform:scale(1.05)}.mode-icon{font-size:1.3rem}.mode-label{font-weight:700}.dashboard-content{max-width:1400px;margin:0 auto;padding:0 20px 40px;animation:fadeIn .5s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.dashboard-main-title{font-size:1.8rem}.header-controls{position:static;transform:none;justify-content:center;margin:0 0 20px}.mode-switcher{flex-direction:row;flex-wrap:wrap}.mode-btn{min-width:auto;flex:1;min-width:120px}.header-calendar{position:static;margin:0 auto 20px}.header-calendar .calendar-mini-widget{width:100%;max-width:500px}.family-avatars{gap:10px}.avatar{width:60px;height:60px}.avatar-emoji{font-size:1.5rem}.avatar-name{font-size:.65rem}.mode-switcher{flex-direction:column;align-items:center;gap:8px}.mode-btn{width:100%;max-width:250px;justify-content:center}.settings-icon-btn{width:40px;height:40px;font-size:1.1rem}.dashboard-content{padding:0 15px 30px}}@media (max-width: 480px){.dashboard-layout-header{padding:20px 15px}.dashboard-main-title{font-size:1.5rem}.family-avatars{gap:8px}.avatar{width:55px;height:55px}}.mode-btn:focus,.avatar:focus,.settings-icon-btn:focus{outline:3px solid #ffff00;outline-offset:2px}.header-content{display:flex;gap:30px;align-items:start;justify-content:center;max-width:1400px;margin:0 auto}.family-grid-wrapper{display:flex;gap:30px;align-items:center;justify-content:center;flex:1}.family-grid-left,.family-grid-right{display:flex;flex-direction:column;gap:15px}.mobile-info-box{display:none}.family-member-circle{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:90px;height:90px;border-radius:50%;background:#ffffff14;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);overflow:hidden;transition:all .3s ease;cursor:pointer;border:2px solid transparent}.family-member-circle:hover{transform:scale(1.08);box-shadow:0 8px 25px #0000004d;background:#ffffff26}.family-member-circle.selected{border-color:#ffc107;box-shadow:0 0 0 4px #ffc10766;background:#fff3}.member-icon-bg{position:absolute;font-size:5.5rem;opacity:.1;z-index:1;filter:blur(1.5px);top:50%;left:50%;transform:translate(-50%,-50%)}.member-emoji{font-size:2.5rem;z-index:2;position:relative;margin-bottom:2px}.member-name{font-size:.7rem;font-weight:700;color:#fff;z-index:2;text-shadow:0 2px 4px rgba(0,0,0,.5);text-align:center}@media (max-width: 1024px){.header-content{flex-direction:column;gap:15px}.family-grid-wrapper{width:100%;justify-content:space-between;padding:0 20px;gap:15px}.family-grid-left{order:1;gap:12px}.header-info{order:2;flex:1;max-width:450px}.family-grid-right{order:3;gap:12px}.family-member-circle{width:75px;height:75px}.member-icon-bg{font-size:4.5rem}.member-emoji{font-size:2rem}}@media (max-width: 768px){.family-grid-wrapper{padding:0 10px}.family-grid-left,.family-grid-right{gap:10px}.family-member-circle{width:70px;height:70px}.member-icon-bg{font-size:4rem}.member-emoji{font-size:1.8rem}.member-name{font-size:.65rem}.header-info{max-width:320px}}@media (max-width: 480px){.family-member-circle{width:60px;height:60px}.member-icon-bg{font-size:3.5rem}.member-emoji{font-size:1.5rem}.header-info{max-width:260px}}@media (max-width: 768px){.family-grid-wrapper{padding:0 10px}.family-grid{grid-template-rows:repeat(2,70px);gap:10px}.family-member-circle{width:70px;height:70px}.member-icon-bg{font-size:4rem}.member-emoji{font-size:1.8rem}.member-name{font-size:.65rem}.mobile-info-box{min-width:70px;padding:8px 12px}.mobile-info-icon{font-size:1.5rem}.mobile-info-text{font-size:.65rem}.fab-container{display:none}@media (min-width: 769px){.fab-container{display:none!important}.header-controls{display:flex!important}}.header-controls{display:none!important}.fab-container{display:block;position:fixed;bottom:30px;right:20px;z-index:1000}.fab-menu{position:absolute;bottom:80px;right:0;display:flex;flex-direction:column;gap:15px;opacity:0;transform:scale(.8) translateY(20px);pointer-events:none;transition:all .3s cubic-bezier(.68,-.55,.265,1.55)}.fab-container.open .fab-menu{opacity:1;transform:scale(1) translateY(0);pointer-events:all}.fab-menu-item{display:flex;align-items:center;gap:12px;padding:14px 20px;background:#fff;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap;min-width:160px}.fab-menu-item:hover{transform:translate(-5px);box-shadow:0 6px 20px #0000004d}.fab-menu-item.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.fab-menu-icon{font-size:1.5rem}.fab-menu-label{font-weight:700;font-size:.95rem;color:#333}.fab-menu-item.active .fab-menu-label{color:#fff}.fab-button{width:65px;height:65px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);border:none;box-shadow:0 6px 20px #667eea66;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;position:relative}.fab-button:hover{transform:scale(1.1);box-shadow:0 8px 25px #667eea99}.fab-button:active{transform:scale(.95)}.fab-icon{font-size:1.8rem;color:#fff;transition:transform .3s ease}.fab-icon.open{transform:rotate(90deg)}.fab-container.open:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:#0000004d;z-index:-1;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 480px){.fab-container{bottom:20px;right:15px}.fab-button{width:60px;height:60px}.fab-menu-item{min-width:140px;padding:12px 18px}.fab-menu-icon{font-size:1.3rem}.fab-menu-label{font-size:.9rem}}}.fab-container{display:none}@media (max-width: 768px){.header-controls{display:none!important}.fab-container{display:block;position:fixed;bottom:30px;right:20px;z-index:1000}.fab-menu{position:absolute;bottom:80px;right:0;display:flex;flex-direction:column;gap:15px;opacity:0;transform:scale(.8) translateY(20px);pointer-events:none;transition:all .3s cubic-bezier(.68,-.55,.265,1.55)}.fab-container.open .fab-menu{opacity:1;transform:scale(1) translateY(0);pointer-events:all}.fab-menu-item{display:flex;align-items:center;gap:12px;padding:14px 20px;background:#fff;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap;min-width:160px}.fab-menu-item:hover{transform:translate(-5px);box-shadow:0 6px 20px #0000004d}.fab-menu-item.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.fab-menu-icon{font-size:1.5rem}.fab-menu-label{font-weight:700;font-size:.95rem;color:#333}.fab-menu-item.active .fab-menu-label{color:#fff}.fab-button{width:65px;height:65px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);border:none;box-shadow:0 6px 20px #667eea66;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.fab-button:hover{transform:scale(1.1);box-shadow:0}}.send-message-panel{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:24px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:600px;max-height:90vh;overflow:hidden;z-index:10000;animation:panelSlideIn .3s ease}@keyframes panelSlideIn{0%{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}.panel-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.panel-header h3{margin:0;font-size:1.5rem;font-weight:700}.close-btn{background:#fff3;border:none;color:#fff;width:36px;height:36px;border-radius:50%;font-size:1.5rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-btn:hover{background:#ffffff4d;transform:rotate(90deg)}.panel-content{padding:24px;overflow-y:auto;max-height:calc(90vh - 80px)}.form-section{margin-bottom:24px}.form-section label{display:block;font-weight:600;margin-bottom:10px;color:#333;font-size:.95rem}.recipient-selector{background:#f8f9fa;border-radius:16px;padding:16px}.recipient-section{margin-bottom:16px}.recipient-section:last-child{margin-bottom:0}.section-label{font-size:.85rem;font-weight:600;color:#6c757d;margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.recipient-chips{display:flex;flex-wrap:wrap;gap:8px}.recipient-chip{display:flex;align-items:center;gap:6px;padding:8px 16px;background:#fff;border:2px solid #dee2e6;border-radius:20px;cursor:pointer;transition:all .2s ease;font-size:.9rem;font-weight:500}.recipient-chip:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #667eea33}.recipient-chip.selected{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;color:#fff}.recipient-chip.group.selected{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);border-color:#ff6b6b}.chip-icon{font-size:1.2rem}.chip-name{font-weight:600}.template-buttons{display:flex;flex-wrap:wrap;gap:10px}.template-btn{padding:10px 16px;background:#fff;border:2px solid #dee2e6;border-radius:12px;cursor:pointer;transition:all .2s ease;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:6px}.template-btn:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #667eea33}.template-btn.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;color:#fff}.message-input{width:100%;padding:12px 16px;border:2px solid #dee2e6;border-radius:12px;font-size:1rem;font-family:inherit;resize:vertical;transition:all .2s ease}.message-input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.checkbox-label{display:flex;align-items:center;gap:10px;cursor:pointer;padding:12px;background:#fff3cd;border-radius:12px;border:2px solid #ffc107}.checkbox-label input[type=checkbox]{width:20px;height:20px;cursor:pointer}.checkbox-text{font-weight:600;color:#856404}.panel-actions{display:flex;gap:12px;margin-top:24px;padding-top:24px;border-top:2px solid #f8f9fa}.btn-cancel,.btn-send{flex:1;padding:14px 24px;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s ease}.btn-cancel{background:#f8f9fa;color:#6c757d}.btn-cancel:hover{background:#e9ecef}.btn-send{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-send:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea66}.btn-send:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.send-message-panel{width:95%;max-height:95vh}.panel-header h3{font-size:1.2rem}.panel-content{padding:16px}.template-buttons{flex-direction:column}.template-btn{width:100%;justify-content:center}.panel-actions{flex-direction:column}.btn-cancel,.btn-send{width:100%}}.notification-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;z-index:9999;animation:overlayFadeIn .3s ease}@keyframes overlayFadeIn{0%{opacity:0}to{opacity:1}}.family-member-selector-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:10001}.family-member-selector-modal{background:#fff;border-radius:24px;padding:40px;max-width:500px;text-align:center}.family-member-selector-modal h2{margin:0 0 10px;color:#333}.family-member-selector-modal p{color:#666;margin:0 0 30px}.member-options{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.member-option{display:flex;flex-direction:column;align-items:center;gap:12px;padding:24px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border:3px solid transparent;border-radius:16px;cursor:pointer;transition:all .3s ease}.member-option:hover{transform:translateY(-4px);border-color:#667eea;box-shadow:0 8px 20px #667eea4d}.member-emoji{font-size:3rem}.member-name{font-size:1.1rem;font-weight:700;color:#333}
