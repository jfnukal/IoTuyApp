*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;scroll-behavior:smooth}body{min-height:100vh;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{text-wrap:balance;line-height:1.2}p,li,figcaption{text-wrap:pretty;max-width:65ch}img,picture,video,canvas,svg{display:block;max-width:100%;height:auto}input,button,textarea,select{font:inherit;color:inherit}button{border:none;background:none;cursor:pointer}textarea{resize:vertical}table{border-collapse:collapse;border-spacing:0}ul,ol{list-style:none}a{text-decoration:none;color:inherit}:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px}:root{--color-primary: #007bff;--color-primary-50: #e7f3ff;--color-primary-100: #cfe7ff;--color-primary-200: #9fd3ff;--color-primary-300: #6fbfff;--color-primary-400: #3fabff;--color-primary-500: #007bff;--color-primary-600: #0062cc;--color-primary-700: #004999;--color-primary-800: #003066;--color-primary-900: #001833;--color-success: #28a745;--color-success-light: #d4edda;--color-success-dark: #155724;--color-warning: #ffc107;--color-warning-light: #fff3cd;--color-warning-dark: #856404;--color-danger: #dc3545;--color-danger-light: #f8d7da;--color-danger-dark: #721c24;--color-info: #17a2b8;--color-info-light: #d1ecf1;--color-info-dark: #0c5460;--color-white: #ffffff;--color-black: #000000;--color-gray-50: #f8f9fa;--color-gray-100: #f1f3f4;--color-gray-200: #e9ecef;--color-gray-300: #dee2e6;--color-gray-400: #ced4da;--color-gray-500: #adb5bd;--color-gray-600: #6c757d;--color-gray-700: #495057;--color-gray-800: #343a40;--color-gray-900: #212529;--color-background: #f8f9fa;--color-card-background: #ffffff;--color-overlay: rgba(0, 0, 0, .5);--color-text-primary: #212529;--color-text-secondary: #6c757d;--color-text-muted: #adb5bd;--color-text-inverse: #ffffff;--color-category-switch: #007bff;--color-category-light: #ffc107;--color-category-sensor: #28a745;--color-category-climate: #17a2b8;--color-category-security: #dc3545;--color-category-cover: #6f42c1;--color-category-garden: #20c997;--color-category-other: #6c757d;--font-family-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;--font-family-mono: "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--font-size-4xl: 2.25rem;--font-size-5xl: 3rem;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--line-height-tight: 1.25;--line-height-normal: 1.5;--line-height-relaxed: 1.625;--spacing-0: 0;--spacing-1: .25rem;--spacing-2: .5rem;--spacing-3: .5rem;--spacing-4: .75rem;--spacing-5: 1rem;--spacing-6: 1.25rem;--spacing-8: 1rem;--spacing-10: 2.5rem;--spacing-12: 3rem;--spacing-16: 4rem;--spacing-20: 5rem;--container-xs: 480px;--container-sm: 640px;--container-md: 768px;--container-lg: 1024px;--container-xl: 1280px;--container-2xl: 1536px;--container-max: 1400px;--grid-gap: var(--spacing-6);--grid-gap-sm: var(--spacing-4);--grid-gap-lg: var(--spacing-8);--device-card-min-width: 300px;--device-card-min-height: 280px;--device-card-padding: var(--spacing-4);--room-grid-size: 20px;--room-min-width: 400px;--room-min-height: 300px;--border-width: 1px;--border-width-thick: 2px;--border-radius-none: 0;--border-radius-sm: .125rem;--border-radius: .375rem;--border-radius-md: .5rem;--border-radius-lg: .75rem;--border-radius-xl: 1rem;--border-radius-full: 9999px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, .06);--transition-fast: .15s ease;--transition-normal: .2s ease;--transition-slow: .3s ease;--transition-bounce: cubic-bezier(.68, -.55, .265, 1.55);--transition-smooth: cubic-bezier(.4, 0, .2, 1);--duration-fast: .15s;--duration-normal: .3s;--duration-slow: .5s;--z-dropdown: 1000;--z-sticky: 1020;--z-fixed: 1030;--z-modal-backdrop: 1040;--z-modal: 1050;--z-popover: 1060;--z-tooltip: 1070;--z-toast: 1080;--input-height: 2.5rem;--input-padding: var(--spacing-3) var(--spacing-4);--input-border: var(--border-width) solid var(--color-gray-300);--input-border-radius: var(--border-radius-md);--button-height: 2.5rem;--button-padding: var(--spacing-3) var(--spacing-4);--button-border-radius: var(--border-radius-md);--device-state-online: var(--color-success);--device-state-offline: var(--color-danger);--device-state-unknown: var(--color-gray-400);--breakpoint-sm: 640px;--breakpoint-md: 768px;--breakpoint-lg: 1024px;--breakpoint-xl: 1280px;--breakpoint-2xl: 1536px;--drag-ghost-opacity: .5;--drop-zone-border: 2px dashed var(--color-primary);--drop-zone-background: var(--color-primary-50);--room-3d-perspective: 1000px;--room-3d-rotation-speed: .5s;--touch-target-min: 44px;--mobile-padding: var(--spacing-4);--mobile-font-scale: 1.1}[data-theme=dark] html[data-theme=dark],:root[data-theme=dark]{--color-background: #1a1a1a;--color-card-background: #2d2d2d;--color-text-primary: #ffffff;--color-text-secondary: #b3b3b3;--color-text-muted: #888888;--color-gray-50: #2d2d2d;--color-gray-100: #3d3d3d;--color-gray-200: #4d4d4d;--color-gray-300: #5d5d5d;--color-gray-400: #6d6d6d;--color-gray-500: #7d7d7d;--color-gray-600: #8d8d8d;--color-gray-700: #9d9d9d;--color-gray-800: #adadad;--color-gray-900: #bdbdbd}[data-theme=high-contrast]{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000;--color-text-primary: #000000;--color-background: #ffffff;--color-card-background: #ffffff}*{transition:background-color var(--transition-normal),color var(--transition-normal),border-color var(--transition-normal)}*:focus,*:hover,*:active{transition:all var(--transition-fast)}html{font-size:16px;height:100%}body{font-family:var(--font-family-primary);font-size:var(--font-size-base);font-weight:var(--font-weight-normal);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-background);height:100%;overflow-x:hidden}#root{min-height:100vh;width:100%}h1,h2,h3,h4,h5,h6{font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin-bottom:var(--spacing-4);line-height:var(--line-height-tight)}h1{font-size:var(--font-size-4xl)}h2{font-size:var(--font-size-3xl)}h3{font-size:var(--font-size-2xl)}h4{font-size:var(--font-size-xl)}h5{font-size:var(--font-size-lg)}h6{font-size:var(--font-size-base)}p{margin-bottom:var(--spacing-4);color:var(--color-text-primary);line-height:var(--line-height-normal)}small{font-size:var(--font-size-sm);color:var(--color-text-secondary)}strong,b{font-weight:var(--font-weight-semibold)}em,i{font-style:italic}code{font-family:var(--font-family-mono);font-size:.9em;background-color:var(--color-gray-100);padding:.125rem .25rem;border-radius:var(--border-radius-sm);color:var(--color-text-primary)}pre{font-family:var(--font-family-mono);font-size:var(--font-size-sm);background-color:var(--color-gray-50);padding:var(--spacing-4);border-radius:var(--border-radius-md);overflow-x:auto;margin-bottom:var(--spacing-4);border:1px solid var(--color-gray-200)}a{color:var(--color-primary);text-decoration:none;transition:color var(--transition-fast)}a:hover{color:var(--color-primary-700);text-decoration:underline}a:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px;border-radius:var(--border-radius-sm)}ul,ol{margin-bottom:var(--spacing-4);padding-left:var(--spacing-6)}ul{list-style-type:disc}ol{list-style-type:decimal}li{margin-bottom:var(--spacing-2);color:var(--color-text-primary)}input,textarea,select{font-family:var(--font-family-primary);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-white);border:var(--input-border);border-radius:var(--input-border-radius);padding:var(--input-padding);transition:border-color var(--transition-fast),box-shadow var(--transition-fast);width:100%}input:focus,textarea:focus,select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #007bff1a}input:disabled,textarea:disabled,select:disabled{background-color:var(--color-gray-100);color:var(--color-text-muted);cursor:not-allowed;opacity:.6}input::placeholder,textarea::placeholder{color:var(--color-text-muted)}table{width:100%;border-collapse:collapse;margin-bottom:var(--spacing-6);background-color:var(--color-white);border-radius:var(--border-radius-md);overflow:hidden;box-shadow:var(--shadow-sm)}th,td{padding:var(--spacing-3) var(--spacing-4);text-align:left;border-bottom:1px solid var(--color-gray-200)}th{background-color:var(--color-gray-50);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);text-transform:uppercase;font-size:var(--font-size-sm);letter-spacing:.05em}tr:hover{background-color:var(--color-gray-50)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-normal{font-weight:var(--font-weight-normal)}.font-medium{font-weight:var(--font-weight-medium)}.font-semibold{font-weight:var(--font-weight-semibold)}.font-bold{font-weight:var(--font-weight-bold)}.text-xs{font-size:var(--font-size-xs)}.text-sm{font-size:var(--font-size-sm)}.text-base{font-size:var(--font-size-base)}.text-lg{font-size:var(--font-size-lg)}.text-xl{font-size:var(--font-size-xl)}.text-2xl{font-size:var(--font-size-2xl)}.text-primary{color:var(--color-text-primary)}.text-secondary{color:var(--color-text-secondary)}.text-muted{color:var(--color-text-muted)}.text-success{color:var(--color-success)}.text-warning{color:var(--color-warning)}.text-danger{color:var(--color-danger)}.bg-white{background-color:var(--color-white)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-primary{background-color:var(--color-primary)}.bg-success{background-color:var(--color-success)}.bg-warning{background-color:var(--color-warning)}.bg-danger{background-color:var(--color-danger)}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media (prefers-contrast: high){:root{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000}}@media print{*,*:before,*:after{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}.container{width:100%;max-width:var(--container-max);margin:0 auto;padding:0 var(--spacing-4)}.container-fluid{width:100%;padding:0 var(--spacing-4)}.main-container{max-width:var(--container-max);margin:0 auto;padding:var(--spacing-4) var(--spacing-8);min-height:100vh;background-color:var(--color-background);color:var(--color-text-primary)}.d-flex{display:flex}.d-inline-flex{display:inline-flex}.d-grid{display:grid}.d-block{display:block}.d-inline-block{display:inline-block}.d-none{display:none}.flex-row{flex-direction:row}.flex-column{flex-direction:column}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.items-start{align-items:flex-start}.items-center{align-items:center}.items-end{align-items:flex-end}.items-stretch{align-items:stretch}.items-baseline{align-items:baseline}.flex-1{flex:1}.flex-auto{flex:auto}.flex-none{flex:none}.grid{display:grid;gap:var(--grid-gap)}.grid-cols-1{grid-template-columns:repeat(1,1fr)}.grid-cols-2{grid-template-columns:repeat(2,1fr)}.grid-cols-3{grid-template-columns:repeat(3,1fr)}.grid-cols-4{grid-template-columns:repeat(4,1fr)}.grid-cols-5{grid-template-columns:repeat(5,1fr)}.grid-cols-6{grid-template-columns:repeat(6,1fr)}.grid-cols-12{grid-template-columns:repeat(12,1fr)}.grid-cols-auto{grid-template-columns:repeat(auto-fit,minmax(0,1fr))}.grid-cols-auto-fit{grid-template-columns:repeat(auto-fit,minmax(var(--device-card-min-width),1fr))}.grid-cols-auto-fill{grid-template-columns:repeat(auto-fill,minmax(var(--device-card-min-width),1fr))}.col-span-1{grid-column:span 1}.col-span-2{grid-column:span 2}.col-span-3{grid-column:span 3}.col-span-4{grid-column:span 4}.col-span-6{grid-column:span 6}.col-span-12{grid-column:span 12}.col-span-full{grid-column:1 / -1}.gap-0{gap:0}.gap-1{gap:var(--spacing-1)}.gap-2{gap:var(--spacing-2)}.gap-3{gap:var(--spacing-3)}.gap-4{gap:var(--spacing-4)}.gap-6{gap:var(--spacing-6)}.gap-8{gap:var(--spacing-8)}.devices-container{width:100%;max-width:var(--container-max);margin:0 auto}.devices-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--grid-gap);margin-top:var(--spacing-6);max-width:1200px;margin-left:auto;margin-right:auto}.devices-grid--compact{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--grid-gap-sm)}.devices-grid--spacious{grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--grid-gap-lg)}.room-2d-container{position:relative;background:var(--color-white);border:2px solid var(--color-gray-200);border-radius:var(--border-radius-lg);min-height:var(--room-min-height);min-width:var(--room-min-width);overflow:hidden}.room-2d-grid{display:grid;grid-template-columns:repeat(auto-fit,var(--room-grid-size));grid-template-rows:repeat(auto-fit,var(--room-grid-size));position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;pointer-events:none}.room-3d-container{perspective:var(--room-3d-perspective);perspective-origin:center center}.drag-container{position:relative}.drag-item{cursor:grab;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.drag-item:active{cursor:grabbing}.drag-item--dragging{opacity:var(--drag-ghost-opacity);transform:scale(1.05);z-index:var(--z-modal);pointer-events:none}.drop-zone{position:relative;min-height:200px;border:var(--drop-zone-border);border-radius:var(--border-radius-lg);background:var(--drop-zone-background);transition:all var(--transition-normal)}.drop-zone--active{border-color:var(--color-primary);background:var(--color-primary-50);transform:scale(1.02)}.drop-zone--invalid{border-color:var(--color-danger);background:var(--color-danger-light)}.m-0{margin:0}.m-1{margin:var(--spacing-1)}.m-2{margin:var(--spacing-2)}.m-3{margin:var(--spacing-3)}.m-4{margin:var(--spacing-4)}.m-5{margin:var(--spacing-5)}.m-6{margin:var(--spacing-6)}.m-8{margin:var(--spacing-8)}.m-auto{margin:auto}.mx-0{margin-left:0;margin-right:0}.mx-1{margin-left:var(--spacing-1);margin-right:var(--spacing-1)}.mx-2{margin-left:var(--spacing-2);margin-right:var(--spacing-2)}.mx-3{margin-left:var(--spacing-3);margin-right:var(--spacing-3)}.mx-4{margin-left:var(--spacing-4);margin-right:var(--spacing-4)}.mx-auto{margin-left:auto;margin-right:auto}.my-0{margin-top:0;margin-bottom:0}.my-1{margin-top:var(--spacing-1);margin-bottom:var(--spacing-1)}.my-2{margin-top:var(--spacing-2);margin-bottom:var(--spacing-2)}.my-3{margin-top:var(--spacing-3);margin-bottom:var(--spacing-3)}.my-4{margin-top:var(--spacing-4);margin-bottom:var(--spacing-4)}.my-6{margin-top:var(--spacing-6);margin-bottom:var(--spacing-6)}.mt-0{margin-top:0}.mt-1{margin-top:var(--spacing-1)}.mt-2{margin-top:var(--spacing-2)}.mt-3{margin-top:var(--spacing-3)}.mt-4{margin-top:var(--spacing-4)}.mt-6{margin-top:var(--spacing-6)}.mt-8{margin-top:var(--spacing-8)}.mb-0{margin-bottom:0}.mb-1{margin-bottom:var(--spacing-1)}.mb-2{margin-bottom:var(--spacing-2)}.mb-3{margin-bottom:var(--spacing-3)}.mb-4{margin-bottom:var(--spacing-4)}.mb-6{margin-bottom:var(--spacing-6)}.mb-8{margin-bottom:var(--spacing-8)}.p-0{padding:0}.p-1{padding:var(--spacing-1)}.p-2{padding:var(--spacing-2)}.p-3{padding:var(--spacing-3)}.p-4{padding:var(--spacing-4)}.p-5{padding:var(--spacing-5)}.p-6{padding:var(--spacing-6)}.p-8{padding:var(--spacing-8)}.px-0{padding-left:0;padding-right:0}.px-1{padding-left:var(--spacing-1);padding-right:var(--spacing-1)}.px-2{padding-left:var(--spacing-2);padding-right:var(--spacing-2)}.px-3{padding-left:var(--spacing-3);padding-right:var(--spacing-3)}.px-4{padding-left:var(--spacing-4);padding-right:var(--spacing-4)}.px-6{padding-left:var(--spacing-6);padding-right:var(--spacing-6)}.py-0{padding-top:0;padding-bottom:0}.py-1{padding-top:var(--spacing-1);padding-bottom:var(--spacing-1)}.py-2{padding-top:var(--spacing-2);padding-bottom:var(--spacing-2)}.py-3{padding-top:var(--spacing-3);padding-bottom:var(--spacing-3)}.py-4{padding-top:var(--spacing-4);padding-bottom:var(--spacing-4)}.py-6{padding-top:var(--spacing-6);padding-bottom:var(--spacing-6)}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.sticky{position:sticky}.static{position:static}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}@media (max-width: 640px){.main-container{padding:var(--mobile-padding)}.devices-grid{grid-template-columns:1fr;gap:var(--grid-gap-sm)}.container{padding:0 var(--mobile-padding)}.sm\:flex-col{flex-direction:column}.sm\:flex-row{flex-direction:row}.sm\:justify-center{justify-content:center}.sm\:items-center{align-items:center}.sm\:grid-cols-1{grid-template-columns:repeat(1,1fr)}.sm\:col-span-full{grid-column:1 / -1}}@media (min-width: 641px) and (max-width: 768px){.devices-grid,.md\:grid-cols-2{grid-template-columns:repeat(2,1fr)}.md\:flex-row{flex-direction:row}}@media (min-width: 769px){.devices-grid{grid-template-columns:repeat(4,1fr)}.lg\:grid-cols-3{grid-template-columns:repeat(3,1fr)}.lg\:grid-cols-4{grid-template-columns:repeat(4,1fr)}}.app-header{background:var(--color-white);padding:var(--spacing-4) var(--spacing-6);border-bottom:1px solid var(--color-gray-200);border-radius:var(--border-radius-md);box-shadow:var(--shadow-sm);margin-bottom:var(--spacing-6);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-4)}.page-title{color:var(--color-text-primary);font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);margin:0;text-shadow:none}.user-controls{display:flex;align-items:center;gap:var(--spacing-4);flex-wrap:wrap}.user-email{color:var(--color-text-secondary);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);background:var(--color-gray-100);padding:var(--spacing-2) var(--spacing-3);border-radius:var(--border-radius)}.view-controls{max-width:var(--container-max);margin:0 auto var(--spacing-4) auto;padding:0 var(--spacing-4)}.view-tabs{display:flex;gap:var(--spacing-2);flex-wrap:wrap;align-items:center}.view-tab{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);border:2px solid var(--color-gray-300);border-radius:var(--border-radius-md);background:var(--color-white);cursor:pointer;transition:all var(--transition-fast);color:var(--color-text-primary);font-weight:var(--font-weight-medium);text-decoration:none;font-size:var(--font-size-sm)}.view-tab:hover:not(:disabled){border-color:var(--color-primary);background:var(--color-primary-50);transform:translateY(-1px)}.view-tab.active{border-color:var(--color-primary);background:var(--color-primary);color:var(--color-white)}.view-tab:disabled{opacity:.6;cursor:not-allowed}.device-count{background:#fff3;color:inherit;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);min-width:20px;text-align:center}.view-tab.active .device-count{background:#ffffff4d}.page-header{max-width:var(--container-max);margin:0 auto var(--spacing-4) auto;padding:0 var(--spacing-4);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-4)}.page-subtitle{color:var(--color-text-secondary);font-size:var(--font-size-sm);margin:0}.sync-controls{display:flex;align-items:center;gap:var(--spacing-2)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);border:1px solid transparent;border-radius:var(--border-radius-md);font-family:var(--font-family-primary);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);line-height:1.2;text-decoration:none;cursor:pointer;transition:all var(--transition-fast);outline:none;min-height:var(--button-height);white-space:nowrap;-webkit-user-select:none;user-select:none;color:inherit;text-shadow:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.btn:focus-visible{box-shadow:0 0 0 3px #007bff40}.btn:disabled{opacity:.6;cursor:not-allowed;pointer-events:none}.btn-primary{background-color:var(--color-primary);color:var(--color-white);border-color:var(--color-primary)}.btn-primary:hover:not(:disabled){background-color:var(--color-primary-700);border-color:var(--color-primary-700);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-secondary{background-color:var(--color-gray-200);color:var(--color-text-primary);border-color:var(--color-gray-300)}.btn-secondary:hover:not(:disabled){background-color:var(--color-gray-300);border-color:var(--color-gray-400)}.btn-success{background-color:var(--color-success);color:var(--color-white);border-color:var(--color-success)}.btn-success:hover:not(:disabled){background-color:var(--color-success-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-danger{background-color:var(--color-danger);color:var(--color-white)!important;border-color:var(--color-danger);text-shadow:none}.btn-danger:hover:not(:disabled){background-color:var(--color-danger-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-warning{background-color:var(--color-warning);color:var(--color-white);border-color:var(--color-warning)}.btn-warning:hover:not(:disabled){background-color:var(--color-warning-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-outline-primary{background-color:transparent;color:var(--color-primary);border-color:var(--color-primary)}.btn-outline-primary:hover:not(:disabled){background-color:var(--color-primary);color:var(--color-white)}.btn-outline-secondary{background-color:transparent;color:var(--color-gray-600);border-color:var(--color-gray-400)}.btn-outline-secondary:hover:not(:disabled){background-color:var(--color-gray-100);border-color:var(--color-gray-500)}.btn-outline-secondary{background:#ffffff1a;color:#fffc;border:2px solid rgba(255,255,255,.3)}.btn-outline-secondary:hover{background:#fff3;color:#fff;border-color:#ffffff80}.btn-sm{padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-xs);min-height:2rem}.btn-lg{padding:var(--spacing-4) var(--spacing-6);font-size:var(--font-size-base);min-height:3rem}.btn-xl{padding:var(--spacing-5) var(--spacing-8);font-size:var(--font-size-lg);min-height:3.5rem}.btn-block{width:100%}.btn-loading{position:relative;pointer-events:none}.btn-loading:after{content:"";position:absolute;width:1rem;height:1rem;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin .8s linear infinite}.btn-device-control{width:100%;min-height:3rem;padding:var(--spacing-3) var(--spacing-4);border-radius:var(--border-radius-md);font-weight:var(--font-weight-semibold);font-size:var(--font-size-sm);transition:all var(--transition-normal);position:relative;overflow:hidden}.btn-device-control--on{background-color:var(--color-success);color:var(--color-white);border-color:var(--color-success);box-shadow:var(--shadow-sm)}.btn-device-control--off{background-color:var(--color-gray-100);color:var(--color-text-primary);border:2px solid var(--color-gray-300)}.btn-device-control:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-device-control--on:hover:not(:disabled){background-color:var(--color-success-dark)}.btn-device-control--off:hover:not(:disabled){background-color:var(--color-gray-200);border-color:var(--color-gray-400)}.card{background-color:var(--color-card-background);border:1px solid var(--color-gray-200);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);overflow:hidden;transition:all var(--transition-normal)}.card:hover{box-shadow:var(--shadow-md);transform:translateY(-2px)}.card-header{padding:var(--spacing-4) var(--spacing-5);border-bottom:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}.card-body{padding:var(--spacing-5)}.card-footer{padding:var(--spacing-4) var(--spacing-5);border-top:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}.card-title{margin:0 0 var(--spacing-2) 0;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.card-subtitle{margin:0 0 var(--spacing-3) 0;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.card-text{margin:0 0 var(--spacing-4) 0;color:var(--color-text-primary)}.card-elevated{box-shadow:var(--shadow-lg)}.card-bordered{border:2px solid var(--color-gray-300)}.card-success{border-color:var(--color-success);background-color:var(--color-success-light)}.card-warning{border-color:var(--color-warning);background-color:var(--color-warning-light)}.card-danger{border-color:var(--color-danger);background-color:var(--color-danger-light)}.form-group{margin-bottom:var(--spacing-4)}.form-label{display:block;margin-bottom:var(--spacing-2);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-primary)}.form-control{width:100%;padding:var(--input-padding);border:var(--input-border);border-radius:var(--input-border-radius);font-size:var(--font-size-base);line-height:var(--line-height-normal);color:var(--color-text-primary);background-color:var(--color-white);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.form-control:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #007bff1a}.form-control:disabled{background-color:var(--color-gray-100);color:var(--color-text-muted);cursor:not-allowed;opacity:.6}.form-control.is-invalid{border-color:var(--color-danger)}.form-control.is-invalid:focus{border-color:var(--color-danger);box-shadow:0 0 0 3px #dc35451a}.form-text{margin-top:var(--spacing-1);font-size:var(--font-size-xs);color:var(--color-text-muted)}.invalid-feedback{display:block;margin-top:var(--spacing-1);font-size:var(--font-size-xs);color:var(--color-danger)}.badge{display:inline-flex;align-items:center;padding:var(--spacing-1) var(--spacing-3);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.05em;border-radius:var(--border-radius-full);white-space:nowrap}.badge-primary{background-color:var(--color-primary);color:var(--color-white)}.badge-secondary{background-color:var(--color-gray-200);color:var(--color-text-primary)}.badge-success{background-color:var(--color-success);color:var(--color-white)}.badge-warning{background-color:var(--color-warning);color:var(--color-white)}.badge-danger{background-color:var(--color-danger);color:var(--color-white)}.badge-info{background-color:var(--color-info);color:var(--color-white)}.badge-outline-primary{background-color:transparent;color:var(--color-primary);border:1px solid var(--color-primary)}.badge-outline-secondary{background-color:transparent;color:var(--color-gray-600);border:1px solid var(--color-gray-400)}.badge-lg{padding:var(--spacing-2) var(--spacing-4);font-size:var(--font-size-sm)}.status-indicator{display:inline-flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.status-indicator:before{content:"";width:8px;height:8px;border-radius:50%;flex-shrink:0}.status-indicator--online:before{background-color:var(--color-success);box-shadow:0 0 0 2px var(--color-success-light)}.status-indicator--offline:before{background-color:var(--color-danger);box-shadow:0 0 0 2px var(--color-danger-light)}.status-indicator--unknown:before{background-color:var(--color-gray-400);box-shadow:0 0 0 2px var(--color-gray-200)}.modal-overlay{position:fixed;inset:0;background-color:var(--color-overlay);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal-backdrop);padding:var(--spacing-4);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{background-color:var(--color-card-background);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);max-width:90vw;max-height:90vh;overflow-y:auto;position:relative;z-index:var(--z-modal);animation:modalSlideIn var(--duration-normal) var(--transition-smooth)}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-6);border-bottom:1px solid var(--color-gray-200)}.modal-title{margin:0;font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.modal-close{background:none;border:none;font-size:var(--font-size-xl);color:var(--color-text-muted);cursor:pointer;padding:var(--spacing-2);border-radius:var(--border-radius);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:2rem;height:2rem}.modal-close:hover{background-color:var(--color-gray-100);color:var(--color-text-primary)}.modal-body{padding:var(--spacing-6)}.modal-footer{display:flex;align-items:center;justify-content:flex-end;gap:var(--spacing-3);padding:var(--spacing-6);border-top:1px solid var(--color-gray-200);background-color:var(--color-gray-50)}@keyframes modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:fadeIn var(--duration-normal) var(--transition-smooth)}.animate-slide-in-up{animation:slideInUp var(--duration-normal) var(--transition-smooth)}.animate-slide-in-down{animation:slideInDown var(--duration-normal) var(--transition-smooth)}.app-layout{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);background-attachment:fixed}.app-layout:before{content:"";position:fixed;inset:0;background:radial-gradient(circle at 25% 25%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 75% 75%,rgba(255,255,255,.05) 0%,transparent 50%);pointer-events:none;z-index:1}.modern-header{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:none;border-bottom:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a;position:sticky;top:0;z-index:100;border-radius:0}.header-brand{display:flex;flex-direction:column;gap:var(--spacing-1)}.brand-logo{display:flex;align-items:center;gap:var(--spacing-3)}.logo-icon{font-size:2.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.brand-title{font-size:var(--font-size-3xl);font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0}.brand-subtitle{font-size:var(--font-size-sm);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);margin:0}.header-actions{display:flex;align-items:center;gap:var(--spacing-6)}.user-info{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-2) var(--spacing-4);background:#ffffff80;border-radius:var(--border-radius-full);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-avatar{width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:var(--font-size-lg)}.user-details{display:flex;flex-direction:column;gap:var(--spacing-1)}.user-name{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.user-email{font-size:var(--font-size-xs);color:var(--color-text-secondary)}.btn-modern{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-5);background:#ffffffe6;border:1px solid rgba(255,255,255,.3);border-radius:var(--border-radius-full);color:var(--color-text-primary);font-weight:var(--font-weight-medium);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all var(--transition-normal)}.btn-modern:hover{background:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn-logout:hover{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border-color:transparent}@media (max-width: 1024px){.modern-header{padding:var(--spacing-4, 16px) var(--spacing-5, 20px)}.header-brand{gap:var(--spacing-3, 12px)}.brand-title{font-size:var(--font-size-lg, 18px)}.brand-subtitle{font-size:var(--font-size-xs, 12px)}.header-actions{gap:var(--spacing-3, 12px)}.user-details{display:none}}@media (max-width: 768px){.modern-header{max-height:100px;min-height:60px;flex-direction:column;align-items:flex-start;gap:var(--spacing-3, 12px);padding:var(--spacing-3, 12px) var(--spacing-4, 16px)}.header-brand{gap:var(--spacing-2, 8px)}.header-actions{gap:var(--spacing-3, 12px)}.user-info{gap:var(--spacing-2, 8px)}.user-name{font-size:var(--font-size-sm, 14px)}}@media (max-width: 480px){.modern-header{padding:var(--spacing-2, 8px) var(--spacing-3, 12px)}.brand-logo{gap:var(--spacing-2, 8px)}.logo-icon{font-size:var(--font-size-lg, 18px)}.brand-title{font-size:var(--font-size-lg, 18px);line-height:1.2}.brand-subtitle{font-size:var(--font-size-xs, 12px);line-height:1.2}.header-actions{gap:var(--spacing-2, 8px)}.btn-modern{padding:var(--spacing-2, 8px);font-size:var(--font-size-xs, 12px)}}.app-navigation{display:none}.old-app-navigation{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-lg);margin:var(--spacing-2) var(--spacing-6) 0 var(--spacing-6);padding:var(--spacing-2);box-shadow:0 2px 8px #0000000f;position:sticky;top:var(--header-height);z-index:9;max-width:600px;margin-left:auto;margin-right:auto}.nav-container{max-width:var(--container-max);margin:0 auto}.nav-tabs{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-3)}.nav-tab{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);padding:var(--spacing-4) var(--spacing-5);background:transparent;border:2px solid transparent;border-radius:var(--border-radius-lg);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);transition:all var(--transition-normal);position:relative;cursor:pointer}.nav-tab:not(:disabled):hover{background:#667eea1a;border-color:#667eea33;color:var(--color-text-primary);transform:translateY(-2px)}.nav-tab.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;color:#fff;box-shadow:0 4px 12px #667eea4d}.nav-tab:disabled{opacity:.5;cursor:not-allowed}.nav-icon{font-size:var(--font-size-2xl);line-height:1}.nav-label{font-size:var(--font-size-sm);text-align:center;white-space:nowrap}.nav-badge{position:absolute;top:var(--spacing-2);right:var(--spacing-2);background:#dc3545;color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center}.nav-tab.active .nav-badge{background:#ffffffe6;color:var(--color-text-primary)}@media (max-width: 768px){.modern-header{padding:var(--spacing-4)}.header-controls{display:flex;align-items:center;gap:var(--spacing-3);margin-left:auto}.header-control-group{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-2) var(--spacing-3);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:var(--border-radius-md);border:1px solid rgba(255,255,255,.2)}.view-toggle-btn{display:flex;align-items:center;gap:var(--spacing-1);padding:var(--spacing-2);background:transparent;border:1px solid rgba(255,255,255,.3);border-radius:var(--border-radius);color:#ffffffe6;cursor:pointer;transition:all var(--transition-fast)}.view-toggle-btn:hover{background:#ffffff1a;border-color:#ffffff80}.view-toggle-btn.active{background:#fff3;border-color:#fff9}.header-actions{flex-direction:row;gap:var(--spacing-2);align-items:flex-end}.user-info{order:2}.nav-tabs{grid-template-columns:repeat(2,1fr);gap:var(--spacing-2)}.nav-tab{padding:var(--spacing-3)}.nav-icon{font-size:var(--font-size-xl)}.nav-label{font-size:var(--font-size-xs)}}@media (max-width: 480px){.brand-title{font-size:var(--font-size-2xl)}.logo-icon{font-size:2rem}.user-details{display:none}.nav-tabs{grid-template-columns:1fr;gap:var(--spacing-2)}.nav-tab{flex-direction:row;justify-content:flex-start;text-align:left}.nav-icon{font-size:var(--font-size-lg)}}.content-area{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-6) var(--spacing-6);padding:var(--spacing-6);box-shadow:0 8px 32px #0000001a;position:relative;z-index:10;min-height:60vh}.content-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-6);padding-bottom:var(--spacing-4);border-bottom:2px solid rgba(0,0,0,.05)}.content-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0;display:flex;align-items:center;gap:var(--spacing-3)}.content-stats{display:flex;gap:var(--spacing-6)}.stats-item{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1)}.stats-value{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}.stats-label{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);text-transform:uppercase;letter-spacing:.05em}.devices-modern-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:var(--spacing-6);margin-top:var(--spacing-6)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--spacing-12) var(--spacing-6);min-height:400px}.empty-state-icon{font-size:4rem;margin-bottom:var(--spacing-6);opacity:.5;filter:grayscale(.5)}.empty-state-title{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0 0 var(--spacing-3) 0}.empty-state-description{font-size:var(--font-size-base);color:var(--color-text-secondary);max-width:500px;line-height:var(--line-height-relaxed);margin:0 0 var(--spacing-6) 0}.empty-state-actions{display:flex;gap:var(--spacing-4);flex-wrap:wrap;justify-content:center}@media (max-width: 768px){.content-area{margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.content-header{flex-direction:column;align-items:flex-start;gap:var(--spacing-4)}.content-stats{align-self:stretch;justify-content:space-around}.devices-modern-grid{grid-template-columns:1fr;gap:var(--spacing-4)}.empty-state{padding:var(--spacing-8) var(--spacing-4)}.empty-state-icon{font-size:3rem}.empty-state-actions{flex-direction:column;width:100%}.empty-state-actions .btn{width:100%}}@media (max-width: 480px){.content-title,.stats-value{font-size:var(--font-size-xl)}.devices-modern-grid{grid-template-columns:1fr}}.device-modern-card{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:var(--border-radius-xl);padding:var(--spacing-5);box-shadow:0 4px 20px #00000014;transition:all var(--transition-normal);position:relative;overflow:hidden;display:flex;flex-direction:column;gap:var(--spacing-4)}.device-modern-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent,var(--color-primary),transparent);opacity:0;transition:opacity var(--transition-normal)}.device-modern-card:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f;border-color:#667eea4d}.device-modern-card:hover:before{opacity:1}.device-modern-card.active{border-color:#28a74566}.device-modern-card.active:before{background:linear-gradient(90deg,transparent,var(--color-success),transparent);opacity:1}.device-modern-card.offline{opacity:.7;border-color:#dc35454d}.device-modern-card.offline:before{background:linear-gradient(90deg,transparent,var(--color-danger),transparent);opacity:.6}.device-modern-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-2)}.device-category-badge{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-2) var(--spacing-3);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold)}.category-icon{font-size:var(--font-size-sm);line-height:1}.category-label{text-transform:uppercase;letter-spacing:.05em}.device-status-indicator{display:flex;align-items:center;gap:var(--spacing-2)}.status-dot{width:8px;height:8px;border-radius:50%;transition:all var(--transition-fast)}.status-dot.online{background:var(--color-success);box-shadow:0 0 0 2px #28a74533}.status-dot.offline{background:var(--color-danger);box-shadow:0 0 0 2px #dc354533}.status-text{font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--color-text-secondary)}.device-title-section{margin-bottom:var(--spacing-3)}.device-title{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0 0 var(--spacing-1) 0;line-height:var(--line-height-tight);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.device-original-name{font-size:var(--font-size-xs);color:var(--color-text-muted);margin:0;font-style:italic;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.device-room-assignment{display:flex;flex-direction:column;gap:var(--spacing-2);margin-bottom:var(--spacing-3)}.room-label{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.modern-select{background:#fffc;border:1px solid rgba(0,0,0,.1);border-radius:var(--border-radius-md);padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-sm);color:var(--color-text-primary);transition:all var(--transition-fast)}.modern-select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #667eea1a;background:#fff}.device-main-control{margin-bottom:var(--spacing-4)}.main-control-button{width:100%;padding:var(--spacing-4);border:none;border-radius:var(--border-radius-lg);font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);color:#fff;cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden}.main-control-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.main-control-button:hover:before{left:100%}.main-control-button:disabled{opacity:.6;cursor:not-allowed}.main-control-button:disabled:before{display:none}.control-content,.control-loading{display:flex;align-items:center;justify-content:center;gap:var(--spacing-3)}.control-icon{font-size:var(--font-size-lg);line-height:1}.control-text{font-weight:var(--font-weight-bold);letter-spacing:.05em}.loading-spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.device-sensor-data{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:var(--spacing-3);padding:var(--spacing-3);background:#00000005;border-radius:var(--border-radius-md);margin-bottom:var(--spacing-3)}.sensor-item{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);text-align:center}.sensor-icon{font-size:var(--font-size-lg);line-height:1}.sensor-info{display:flex;flex-direction:column;gap:var(--spacing-1)}.sensor-value{font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);color:var(--color-text-primary);line-height:1}.sensor-label{font-size:var(--font-size-xs);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.device-additional-states{border:none;background:none;margin-bottom:var(--spacing-3)}.states-toggle{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-3);background:#00000005;border-radius:var(--border-radius-md);cursor:pointer;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-secondary);transition:all var(--transition-fast)}.states-toggle:hover{background:#0000000a;color:var(--color-text-primary)}.states-count{background:var(--color-primary);color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center}.states-list{margin-top:var(--spacing-2);display:flex;flex-direction:column;gap:var(--spacing-2)}.state-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-2) var(--spacing-3);background:#ffffff80;border-radius:var(--border-radius-sm);font-size:var(--font-size-xs)}.state-code{color:var(--color-text-secondary);font-family:var(--font-family-mono)}.state-value{font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.device-footer{margin-top:auto;padding-top:var(--spacing-3);border-top:1px solid rgba(0,0,0,.05)}.device-meta{display:flex;justify-content:space-between;align-items:center;font-size:var(--font-size-xs);color:var(--color-text-muted);margin-bottom:var(--spacing-2)}.device-id{font-family:var(--font-family-mono);background:#0000000d;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-sm)}.last-updated{font-style:italic}.device-notes{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-style:italic;padding:var(--spacing-2);background:#ffc1071a;border-radius:var(--border-radius-sm);border-left:3px solid var(--color-warning)}@media (max-width: 480px){.device-modern-card{padding:var(--spacing-4)}.device-category-badge{flex-wrap:wrap;gap:var(--spacing-1)}.device-sensor-data{grid-template-columns:1fr 1fr}.sensor-item{flex-direction:row;text-align:left}.device-meta{flex-direction:column;align-items:flex-start;gap:var(--spacing-1)}}.modern-notification{position:fixed;bottom:var(--spacing-6);right:var(--spacing-6);background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(40,167,69,.2);border-radius:var(--border-radius-lg);box-shadow:0 8px 32px #0000001a;z-index:1050;max-width:350px;transform:translateY(100px);opacity:0;transition:all var(--transition-normal);overflow:hidden}.modern-notification.show{transform:translateY(0);opacity:1}.notification-content{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-4) var(--spacing-5)}.notification-icon{width:24px;height:24px;background:linear-gradient(135deg,var(--color-success),#20c997);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold)}.notification-text{font-size:var(--font-size-sm);color:var(--color-text-primary);font-weight:var(--font-weight-medium)}.notification-progress{height:3px;background:linear-gradient(90deg,var(--color-success),#20c997);border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg);animation:progress 3s linear}@keyframes progress{0%{width:100%}to{width:0%}}@media (max-width: 480px){.modern-notification{bottom:var(--spacing-4);right:var(--spacing-4);left:var(--spacing-4);max-width:none}}.room-selector-modern{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-4) var(--spacing-6);padding:var(--spacing-4) var(--spacing-5);box-shadow:0 8px 32px #0000001a;position:relative;z-index:10}.selector-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-4);padding-bottom:var(--spacing-3);border-bottom:2px solid rgba(0,0,0,.05)}.selector-title{display:flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-base);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.title-icon{font-size:var(--font-size-lg)}.selector-stats{display:flex;align-items:center;gap:var(--spacing-2);font-size:var(--font-size-sm)}.stats-count{font-weight:var(--font-weight-bold);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.stats-label{color:var(--color-text-secondary);font-size:var(--font-size-xs)}.room-tabs-modern{display:flex;gap:var(--spacing-3);overflow-x:auto;padding-bottom:var(--spacing-2);scrollbar-width:thin;scrollbar-color:rgba(102,126,234,.3) transparent}.room-tabs-modern::-webkit-scrollbar{height:4px}.room-tabs-modern::-webkit-scrollbar-track{background:transparent}.room-tabs-modern::-webkit-scrollbar-thumb{background:#667eea4d;border-radius:2px}.room-tab-modern{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-3) var(--spacing-4);background:#ffffffb3;border:2px solid transparent;border-radius:var(--border-radius-lg);cursor:pointer;transition:all var(--transition-normal);white-space:nowrap;flex-shrink:0;min-width:140px}.room-tab-modern:hover{background:#ffffffe6;border-color:#667eea33;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.room-tab-modern.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;color:#fff;transform:translateY(-2px);box-shadow:0 6px 20px #667eea4d}.room-info{display:flex;align-items:center;gap:var(--spacing-2);flex:1;min-width:0}.room-icon-modern{width:32px;height:32px;border-radius:var(--border-radius-md);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-base);flex-shrink:0}.room-details{display:flex;flex-direction:column;gap:var(--spacing-1);min-width:0}.room-name-modern{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:inherit;line-height:1.2;overflow:hidden;text-overflow:ellipsis}.room-description{font-size:var(--font-size-xs);opacity:.7;line-height:1.2;overflow:hidden;text-overflow:ellipsis}.device-count-modern{background:var(--color-primary);color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);min-width:20px;text-align:center;flex-shrink:0}.room-tab-modern.active .device-count-modern{background:#fff3;color:#fff}.delete-room-modern{border-color:#dc354533}.delete-room-modern:hover{background:#dc35450d;border-color:#dc35454d}.delete-room-modern .room-icon-modern{background:#dc35451a;color:var(--color-danger)}.create-room-modern{border-color:#28a74533;border-style:dashed}.create-room-modern:hover{background:#28a7450d;border-color:#28a7454d;border-style:solid}.create-room-modern .room-icon-modern{background:#28a7451a;color:var(--color-success)}.create-room-form-modern{background:#28a7450d;border:2px solid rgba(40,167,69,.2);border-radius:var(--border-radius-lg);padding:var(--spacing-4);display:flex;align-items:center;gap:var(--spacing-3);min-width:300px;flex-shrink:0}.form-header{display:flex;align-items:center;gap:var(--spacing-2);flex-shrink:0}.form-icon{font-size:var(--font-size-base)}.form-title{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);white-space:nowrap}.form-input-group{flex:1;min-width:120px}.room-input-modern{width:100%;padding:var(--spacing-2) var(--spacing-3);border:2px solid rgba(40,167,69,.3);border-radius:var(--border-radius-md);font-size:var(--font-size-sm);background:#ffffffe6;color:var(--color-text-primary)}.form-actions{display:flex;gap:var(--spacing-2);flex-shrink:0}.btn-form-cancel,.btn-form-create{padding:var(--spacing-2) var(--spacing-3);border:none;border-radius:var(--border-radius-md);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);cursor:pointer;white-space:nowrap}.btn-form-cancel{background:#6c757d1a;color:var(--color-text-secondary)}.btn-form-create{background:var(--color-success);color:#fff}.btn-form-create:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #28a7454d}.btn-form-create:disabled{opacity:.6;cursor:not-allowed}.btn-loading-spinner{width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.modal-overlay-modern{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--spacing-4)}.modal-modern{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);box-shadow:0 20px 60px #0003;max-width:500px;width:100%;overflow:hidden;transform:scale(.9);animation:modalAppear .3s ease forwards}@keyframes modalAppear{to{transform:scale(1)}}.modal-header-modern{padding:var(--spacing-6);border-bottom:2px solid rgba(0,0,0,.05)}.modal-title{display:flex;align-items:center;gap:var(--spacing-3);font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.modal-icon{font-size:var(--font-size-xl)}.modal-body-modern{padding:var(--spacing-6)}.modal-warning{background:#ffc1071a;border-left:4px solid var(--color-warning);padding:var(--spacing-3);border-radius:var(--border-radius-sm);font-size:var(--font-size-sm);color:var(--color-text-secondary);margin-top:var(--spacing-3)}.modal-footer-modern{display:flex;gap:var(--spacing-3);padding:var(--spacing-6);border-top:2px solid rgba(0,0,0,.05);justify-content:flex-end}.btn-modal-cancel,.btn-modal-delete{padding:var(--spacing-3) var(--spacing-5);border:none;border-radius:var(--border-radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;gap:var(--spacing-2)}.btn-modal-cancel{background:#6c757d1a;color:var(--color-text-secondary);border:2px solid rgba(108,117,125,.2)}.btn-modal-cancel:hover{background:#6c757d26;color:var(--color-text-primary)}.btn-modal-delete{background:linear-gradient(135deg,var(--color-danger),#c82333);color:#fff;border:2px solid transparent}.btn-modal-delete:hover{transform:translateY(-1px);box-shadow:0 4px 12px #dc35454d}@media (max-width: 768px){.room-selector-modern{margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.room-tab-modern{padding:var(--spacing-3) var(--spacing-4)}.room-icon-modern{width:40px;height:40px;font-size:var(--font-size-base)}.room-details{gap:var(--spacing-1)}.form-actions{flex-direction:column}.btn-form-cancel,.btn-form-create{width:100%;justify-content:center}.modal-modern{margin:var(--spacing-4);max-width:none}.modal-footer-modern{flex-direction:column}.btn-modal-cancel,.btn-modal-delete{width:100%;justify-content:center}}@media (max-width: 480px){.room-tabs-modern{gap:var(--spacing-2)}.room-tab-modern{padding:var(--spacing-3)}.room-info{gap:var(--spacing-3)}.room-icon-modern{width:36px;height:36px}.room-name-modern{font-size:var(--font-size-sm)}.room-description{display:none}}.modern-loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-8);text-align:center;position:relative}.loading-animation{position:relative;margin-bottom:var(--spacing-8)}.loading-spinner-large{width:60px;height:60px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:var(--spacing-4)}.loading-dots{display:flex;gap:var(--spacing-2);justify-content:center}.loading-dots span{width:8px;height:8px;background:#ffffffb3;border-radius:50%;animation:loadingDots 1.4s ease infinite}.loading-dots span:nth-child(1){animation-delay:0s}.loading-dots span:nth-child(2){animation-delay:.2s}.loading-dots span:nth-child(3){animation-delay:.4s}.loading-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:#fff;margin:0 0 var(--spacing-3) 0;text-shadow:0 2px 4px rgba(0,0,0,.3)}.loading-description{font-size:var(--font-size-base);color:#fffc;margin:0;font-weight:var(--font-weight-medium)}.modern-error-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-8);text-align:center;position:relative}.error-animation{position:relative;margin-bottom:var(--spacing-8)}.error-icon{font-size:4rem;margin-bottom:var(--spacing-4);filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));animation:errorBounce 2s ease infinite}.error-pulse{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;border:2px solid rgba(255,255,255,.3);border-radius:50%;animation:errorPulse 2s ease infinite}.error-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:#fff;margin:0 0 var(--spacing-3) 0;text-shadow:0 2px 4px rgba(0,0,0,.3)}.error-description{font-size:var(--font-size-base);color:#fffc;margin:0 0 var(--spacing-6) 0;max-width:500px;line-height:var(--line-height-relaxed)}.error-actions{display:flex;gap:var(--spacing-4);flex-wrap:wrap;justify-content:center}.error-retry-btn{animation:errorRetryPulse 3s ease infinite}@keyframes loadingDots{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes errorBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes errorPulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:1}to{transform:translate(-50%,-50%) scale(1.2);opacity:0}}@keyframes errorRetryPulse{0%,to{box-shadow:0 4px 12px #667eea4d}50%{box-shadow:0 6px 20px #667eea80;transform:translateY(-1px)}}@media (max-width: 768px){.modern-loading-state,.modern-error-state{padding:var(--spacing-6)}.loading-spinner-large{width:48px;height:48px;border-width:3px}.error-icon{font-size:3rem}.loading-title,.error-title{font-size:var(--font-size-xl)}.error-actions{flex-direction:column;width:100%}.error-actions .btn{width:100%}}.page-header{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);margin:0 var(--spacing-6) var(--spacing-6) var(--spacing-6);padding:var(--spacing-5) var(--spacing-6);box-shadow:0 8px 32px #0000001a;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:10;gap:var(--spacing-4)}.page-subtitle{font-size:var(--font-size-base);color:var(--color-text-secondary);margin:0;font-weight:var(--font-weight-medium);flex:1}.sync-controls{display:flex;align-items:center;gap:var(--spacing-4);flex-shrink:0}.last-update{font-size:var(--font-size-xs);color:var(--color-text-muted);font-style:italic;white-space:nowrap}.devices-container{position:relative;z-index:5}@media (max-width: 768px){.page-header{flex-direction:column;align-items:flex-start;gap:var(--spacing-4);margin:0 var(--spacing-4) var(--spacing-4) var(--spacing-4);padding:var(--spacing-4)}.sync-controls{width:100%;justify-content:space-between}.last-update{white-space:normal;text-align:right}}@media (max-width: 480px){.sync-controls{flex-direction:column;align-items:stretch;gap:var(--spacing-3)}.sync-controls .btn{width:100%;text-align:center}.last-update{text-align:center}}.dark-theme{--color-background: #0f0f1a;--color-card-background: #1a1a2e;--color-text-primary: #ffffff;--color-text-secondary: #b3b3b3;--color-text-muted: #888888;--color-gray-50: #1a1a2e;--color-gray-100: #252540;--color-gray-200: #2f2f55;--color-gray-300: #3a3a6a;--color-gray-400: #45457f;--color-gray-500: #505095;--color-gray-600: #5b5baa;--color-gray-700: #6666bf;--color-gray-800: #7171d4;--color-gray-900: #7c7ce9}.dark-theme .app-layout{background:linear-gradient(135deg,#0f0f1a,#1a1a2e)}.dark-theme .app-layout:before{background:radial-gradient(circle at 25% 25%,rgba(102,126,234,.15) 0%,transparent 50%),radial-gradient(circle at 75% 75%,rgba(118,75,162,.1) 0%,transparent 50%)}.dark-theme .modern-header,.dark-theme .room-selector-modern,.dark-theme .app-navigation,.dark-theme .content-area,.dark-theme .room-visualization-modern,.dark-theme .page-header{background:#1a1a2ee6;border-color:#ffffff1a}.dark-theme .device-modern-card{background:#1a1a2ef2;border-color:#ffffff1a}.dark-theme .device-modern-card:hover{border-color:#667eea66}.dark-theme .btn-modern{background:#1a1a2ee6;border-color:#fff3;color:var(--color-text-primary)}.dark-theme .btn-modern:hover{background:#1a1a2e;border-color:#ffffff4d}.dark-theme .modern-select,.dark-theme .room-input-modern{background:#1a1a2ecc;border-color:#fff3;color:var(--color-text-primary)}.dark-theme .modern-select:focus,.dark-theme .room-input-modern:focus{background:#1a1a2e;border-color:var(--color-primary)}.btn-theme-toggle{position:relative;overflow:hidden}.btn-theme-toggle .btn-icon{transition:transform var(--transition-normal)}.dark-theme .btn-theme-toggle .btn-icon{transform:rotate(180deg)}.btn-theme-toggle:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-180deg);opacity:0;transition:all var(--transition-normal)}.dark-theme .btn-theme-toggle:after{opacity:1;transform:translate(-50%,-50%) rotate(0)}.dark-theme .btn-theme-toggle .btn-icon{opacity:0}.quick-actions{display:flex;gap:var(--spacing-2);align-items:center}.quick-action{width:40px;height:40px;border:2px solid rgba(102,126,234,.2);background:#fffc;border-radius:var(--border-radius-md);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-lg);transition:all var(--transition-fast);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.quick-action:hover:not(:disabled){border-color:#667eea80;background:#fff;transform:translateY(-2px)}.quick-action.active{border-color:var(--color-primary);background:var(--color-primary);color:#fff}.quick-action:disabled{opacity:.5;cursor:not-allowed}.quick-action.sync{border-color:#28a7454d}.quick-action.sync:hover{border-color:var(--color-success);background:var(--color-success);color:#fff}@media (max-width: 480px){.quick-actions{display:none}}.sync-button{position:relative;overflow:hidden}.sync-icon{display:inline-block;transition:transform var(--transition-normal)}.sync-icon.spinning{animation:spin 1s linear infinite}.sync-button.loading:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:shimmer 1.5s infinite}.last-update-info{display:flex;flex-direction:column;gap:var(--spacing-1);font-size:var(--font-size-xs)}.update-label{color:var(--color-text-secondary);font-weight:var(--font-weight-medium)}.update-time{color:var(--color-text-muted);font-family:var(--font-family-mono)}.device-skeleton{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:var(--border-radius-xl);padding:var(--spacing-5);display:flex;flex-direction:column;gap:var(--spacing-4);animation:skeletonPulse 1.5s ease-in-out infinite}.skeleton-header{display:flex;justify-content:space-between;align-items:center}.skeleton-badge{width:120px;height:24px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-full);animation:shimmer 1.5s infinite}.skeleton-status{width:60px;height:20px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-sm);animation:shimmer 1.5s infinite}.skeleton-title{width:80%;height:28px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-md);animation:shimmer 1.5s infinite}.skeleton-select{width:100%;height:36px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-md);animation:shimmer 1.5s infinite}.skeleton-button{width:100%;height:48px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-lg);animation:shimmer 1.5s infinite}.skeleton-footer{width:60%;height:16px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:var(--border-radius-sm);animation:shimmer 1.5s infinite}.dark-theme .device-skeleton{background:#1a1a2ef2}.dark-theme .skeleton-badge,.dark-theme .skeleton-status,.dark-theme .skeleton-title,.dark-theme .skeleton-select,.dark-theme .skeleton-button,.dark-theme .skeleton-footer{background:linear-gradient(90deg,#2a2a3e 25%,#3a3a5e,#2a2a3e 75%);background-size:200% 100%}@keyframes skeletonPulse{0%,to{opacity:1}50%{opacity:.7}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.device-modern-card{animation:cardSlideIn .5s ease-out}.device-modern-card:nth-child(1){animation-delay:.1s}.device-modern-card:nth-child(2){animation-delay:.2s}.device-modern-card:nth-child(3){animation-delay:.3s}.device-modern-card:nth-child(4){animation-delay:.4s}@keyframes cardSlideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.device-modern-card.action-success{animation:actionSuccess .6s ease-out}@keyframes actionSuccess{0%{transform:scale(1)}50%{transform:scale(1.02);box-shadow:0 8px 32px #28a7454d}to{transform:scale(1)}}@media (max-width: 768px){.last-update-info{align-items:center;text-align:center}.sync-controls{flex-direction:column;gap:var(--spacing-3);width:100%}.sync-button{width:100%}}@media (prefers-reduced-motion: reduce){.sync-icon.spinning,.device-skeleton,.skeleton-badge,.skeleton-status,.skeleton-title,.skeleton-select,.skeleton-button,.skeleton-footer,.device-modern-card{animation:none}}.room-selector{max-width:1200px;margin:0 auto 2rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.room-tabs{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}.room-tab{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;min-height:48px;position:relative}.room-tab:hover{border-color:#007bff;transform:translateY(-1px);box-shadow:0 2px 8px #007bff33}.room-tab.active{border-color:#007bff;background:#007bff;color:#fff;box-shadow:0 2px 8px #007bff4d}.room-tab.create-room{border-style:dashed;border-color:#28a745;color:#28a745}.room-tab.create-room:hover{border-color:#28a745;background:#28a745;color:#fff}.room-tab.delete-room{border-style:dashed;border-color:#dc3545;color:#dc3545}.room-tab.delete-room:hover{border-color:#dc3545;background:#dc3545;color:#fff}.room-icon{font-size:1.2em;line-height:1}.room-name{font-weight:500;white-space:nowrap;max-width:120px;overflow:hidden;text-overflow:ellipsis}.device-count{background:#fff3;color:inherit;padding:.2rem .5rem;border-radius:12px;font-size:.75rem;font-weight:600;min-width:20px;text-align:center}.room-tab.active .device-count{background:#ffffff4d}.create-room-form{display:flex;align-items:center;gap:.5rem;padding:.5rem;border:2px solid #28a745;border-radius:8px;background:#fff;min-width:200px}.create-room-form input{border:none;outline:none;padding:.5rem;flex:1;font-size:.9rem}.form-buttons{display:flex;gap:.25rem}.form-buttons .btn{padding:.25rem .5rem;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center}.room-selector.loading,.room-selector.error{padding:2rem;text-align:center;color:#6c757d;font-style:italic}.room-selector.error{color:#dc3545;background:#f8d7da;border:1px solid #f5c6cb}.device-card{background:#fff;border-radius:12px;padding:1rem;box-shadow:0 2px 8px #0000001a;transition:all .2s ease;position:relative;overflow:hidden}.device-card:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.device-card.offline{opacity:.7;background:#f8f9fa}.device-card.offline:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:#dc3545}.device-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #e9ecef}.device-category{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:#6c757d}.category-icon{font-size:1.1em}.category-name{font-weight:500;text-transform:uppercase;letter-spacing:.5px}.device-status{display:flex;align-items:center;gap:.5rem}.status-indicator{width:10px;height:10px;border-radius:50%;border:2px solid white;box-shadow:0 0 0 1px #0000001a}.status-indicator.online{background:#28a745}.status-indicator.offline{background:#dc3545}.offline-text{font-size:.75rem;color:#dc3545;font-weight:500}.device-name{margin-bottom:1rem}.device-name h3{margin:0 0 .25rem;font-size:1.1rem;font-weight:600;color:#2c3e50;line-height:1.3}.original-name{color:#6c757d;font-size:.75rem;display:block;margin-top:.25rem}.device-main-control{margin-bottom:1rem}.main-switch{width:100%;padding:.75rem 1rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;min-height:48px}.main-switch:disabled{opacity:.6;cursor:not-allowed}.main-switch.on{box-shadow:0 2px 8px #0003}.main-switch.off{border:2px solid #e9ecef}.switch-icon{font-size:1.1em}.switch-text{font-size:.9rem;letter-spacing:.5px;color:inherit}.main-switch.on .switch-text{color:#fff}.main-switch.off .switch-text{color:#2c3e50}.loading-spinner{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.device-details{margin-bottom:1rem;min-height:60px}.sensor-data{display:flex;gap:1rem;margin-bottom:.75rem;padding:.5rem;background:#f8f9fa;border-radius:6px}.sensor-item{display:flex;align-items:center;gap:.25rem;font-size:.85rem}.sensor-icon{opacity:.7}.sensor-value{font-weight:600;color:#2c3e50}.brightness-control{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff3cd;border-radius:6px;margin-bottom:.75rem;font-size:.85rem}.control-value{font-weight:600;color:#856404}.additional-states{display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:.5rem}.status-item{padding:.25rem .5rem;background:#e9ecef;border-radius:4px;text-align:center}.status-code{display:block;font-size:.7rem;color:#6c757d;margin-bottom:.15rem;text-transform:uppercase;letter-spacing:.3px}.status-value{display:block;font-size:.75rem;font-weight:600;color:#2c3e50}.device-footer{padding-top:.75rem;border-top:1px solid #e9ecef;font-size:.75rem;color:#6c757d}.device-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.device-id{font-family:monospace;background:#f8f9fa;padding:.15rem .3rem;border-radius:3px}.device-notes{margin-top:.5rem;padding:.25rem .5rem;background:#e7f3ff;border-left:3px solid #007bff;border-radius:0 3px 3px 0;font-size:.75rem;color:#495057}.device-room-selector{margin:.5rem 0;padding:0 .75rem}.device-room-selector .form-select{font-size:.8rem;padding:.25rem .5rem;border:1px solid #ddd;border-radius:4px;background:#fff;width:100%}.device-room-selector .form-select:focus{border-color:#007bff;box-shadow:0 0 3px #007bff40;outline:none}.device-room-selector .form-select option{padding:.25rem}@media (max-width: 768px){.room-tabs{justify-content:flex-start;overflow-x:auto;padding-bottom:.5rem}.room-tab{flex-shrink:0;min-width:120px}.room-name{max-width:80px}.device-header{flex-direction:column;align-items:flex-start;gap:.5rem}.sensor-data{flex-direction:column;gap:.5rem}.device-info{flex-direction:column;align-items:flex-start;gap:.25rem}}@media (max-width: 480px){.room-selector{padding:.75rem;margin-bottom:1rem}.device-card{padding:.75rem}.additional-states{grid-template-columns:repeat(2,1fr)}}.dashboard-container{max-width:var(--container-max);margin:0 auto;padding:0 var(--spacing-4)}.dashboard-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-6);flex-wrap:wrap;gap:var(--spacing-4)}.dashboard-title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.dashboard-subtitle{font-size:var(--font-size-sm);color:var(--color-text-secondary);margin:var(--spacing-1) 0 0 0}.dashboard-quick-actions{display:flex;gap:var(--spacing-3);margin-bottom:var(--spacing-6)}.quick-action-btn{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);background:var(--color-white);border:2px solid var(--color-gray-200);border-radius:var(--border-radius-lg);color:var(--color-text-primary);cursor:pointer;transition:all var(--transition-fast);box-shadow:0 2px 4px #0000000d}.quick-action-btn:hover{border-color:var(--color-primary);background:var(--color-primary-50);transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-6);margin-bottom:var(--spacing-8)}.dashboard-card{background:var(--color-white);border-radius:var(--border-radius-xl);padding:var(--spacing-5);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid var(--color-gray-200);transition:all var(--transition-normal)}.dashboard-card:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-4)}.card-title{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin:0}.card-icon{width:24px;height:24px;color:var(--color-primary)}.room-tabs-container{margin-bottom:var(--spacing-6);background:var(--color-white);border-radius:var(--border-radius-xl);padding:var(--spacing-3);box-shadow:0 2px 4px #0000000d;border:1px solid var(--color-gray-200)}.room-tabs{display:flex;gap:var(--spacing-2);overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.room-tabs::-webkit-scrollbar{display:none}.room-tab{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);background:transparent;border:2px solid transparent;border-radius:var(--border-radius-lg);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-fast);white-space:nowrap;min-width:fit-content}.room-tab:hover{background:var(--color-gray-50);color:var(--color-text-primary)}.room-tab.active{background:var(--color-primary);color:var(--color-white);box-shadow:0 2px 4px #667eea4d}.room-tab-icon{font-size:var(--font-size-base)}.room-device-count{background:#fff3;color:inherit;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);min-width:20px;text-align:center}.room-tab.active .room-device-count{background:#ffffff4d}.weather-card{background:linear-gradient(135deg,#667eea,#764ba2);color:var(--color-white);border:none}.weather-info{display:flex;justify-content:space-between;align-items:center}.weather-temp{font-size:var(--font-size-3xl);font-weight:var(--font-weight-bold);margin:0}.weather-desc{font-size:var(--font-size-sm);opacity:.9;margin:var(--spacing-1) 0 0 0}.weather-icon{font-size:3rem;opacity:.8}.family-card{background:linear-gradient(135deg,#f093fb,#f5576c);color:var(--color-white);border:none}.family-event{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-2) 0;border-bottom:1px solid rgba(255,255,255,.2)}.family-event:last-child{border-bottom:none}.event-info h4{margin:0 0 var(--spacing-1) 0;font-size:var(--font-size-base)}.event-info p{margin:0;font-size:var(--font-size-sm);opacity:.9}.cameras-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-3)}.camera-preview{aspect-ratio:16/9;background:var(--color-gray-100);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary);font-size:var(--font-size-sm);overflow:hidden}.camera-preview img{width:100%;height:100%;object-fit:cover}.device-tiles{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--spacing-3)}.device-tile{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-2);padding:var(--spacing-4);background:var(--color-gray-50);border:2px solid transparent;border-radius:var(--border-radius-lg);cursor:pointer;transition:all var(--transition-fast);text-align:center}.device-tile:hover{background:var(--color-primary-50);border-color:var(--color-primary);transform:translateY(-2px)}.device-tile.active{background:var(--color-primary);color:var(--color-white)}.device-tile-icon{font-size:var(--font-size-2xl);color:var(--color-primary)}.device-tile.active .device-tile-icon{color:var(--color-white)}.device-tile-name{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);margin:0}.device-tile-status{font-size:var(--font-size-xs);opacity:.8;margin:0}@media (max-width: 768px){.dashboard-grid{grid-template-columns:1fr;gap:var(--spacing-4)}.room-tabs{gap:var(--spacing-1)}.room-tab{padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-sm)}.device-tiles{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--spacing-2)}.device-tile{padding:var(--spacing-3)}.cameras-grid{grid-template-columns:1fr}.dashboard-quick-actions{flex-wrap:wrap;gap:var(--spacing-2)}}@media (max-width: 480px){.dashboard-header{text-align:center}.device-tiles{grid-template-columns:repeat(3,1fr)}}.compact-navigation{max-width:var(--container-max);margin:0 auto var(--spacing-4) auto;padding:0 var(--spacing-4)}.nav-quick-tabs{display:flex;gap:var(--spacing-2);background:var(--color-white);padding:var(--spacing-2);border-radius:var(--border-radius-lg);box-shadow:0 2px 4px #0000000d;border:1px solid var(--color-gray-200);overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.nav-quick-tabs::-webkit-scrollbar{display:none}.nav-quick-tab{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-2) var(--spacing-3);background:transparent;border:1px solid transparent;border-radius:var(--border-radius);color:var(--color-text-secondary);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-fast);white-space:nowrap;flex-shrink:0}.nav-quick-tab:hover{background:var(--color-gray-50);color:var(--color-text-primary);border-color:var(--color-gray-200)}.nav-quick-tab.active{background:var(--color-primary);color:var(--color-white);border-color:var(--color-primary)}.nav-badge{background:#fff3;color:inherit;padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);min-width:18px;text-align:center}.nav-quick-tab.active .nav-badge{background:#ffffff4d}@media (max-width: 768px){.dashboard-header{flex-direction:column;text-align:center;gap:var(--spacing-3)}.dashboard-quick-actions{flex-wrap:wrap;justify-content:center;gap:var(--spacing-2)}.quick-action-btn{padding:var(--spacing-2) var(--spacing-3);font-size:var(--font-size-sm)}.nav-quick-tabs{justify-content:flex-start;padding:var(--spacing-1)}.nav-quick-tab{padding:var(--spacing-2);font-size:var(--font-size-xs)}}.device-stats{display:flex;justify-content:space-around;align-items:center;padding:var(--spacing-4) 0}.stat-item{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1)}.stat-value{font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);color:var(--color-primary)}.stat-label{font-size:var(--font-size-sm);color:var(--color-text-secondary);font-weight:var(--font-weight-medium)}.device-tile.offline{opacity:.6;background:var(--color-gray-100)}.device-tile.offline .device-tile-icon{color:var(--color-text-secondary)}.view-all-btn{width:100%;padding:var(--spacing-3);background:var(--color-gray-50);border:2px dashed var(--color-gray-300);border-radius:var(--border-radius);color:var(--color-text-secondary);cursor:pointer;transition:all var(--transition-fast);margin-top:var(--spacing-3)}.view-all-btn:hover{background:var(--color-primary-50);border-color:var(--color-primary);color:var(--color-primary)}.energy-card{background:linear-gradient(135deg,#f093fb,#f5576c);color:var(--color-white);border:none}.energy-info{display:flex;justify-content:space-between;margin:var(--spacing-4) 0}.energy-stat{display:flex;flex-direction:column;align-items:center}.energy-value{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);margin-bottom:var(--spacing-1)}.energy-label{font-size:var(--font-size-sm);opacity:.9}.weather-note,.family-note,.camera-note,.energy-note{margin-top:var(--spacing-3);padding-top:var(--spacing-3);border-top:1px solid rgba(255,255,255,.2);font-size:var(--font-size-sm);opacity:.8;text-align:center}.weather-card .weather-note{border-top-color:#fff3}.family-events{margin:var(--spacing-3) 0}.camera-placeholder{width:100%;height:60px;display:flex;align-items:center;justify-content:center;background:var(--color-gray-100);border-radius:var(--border-radius);font-size:var(--font-size-2xl);color:var(--color-text-secondary);margin-bottom:var(--spacing-2)}@media (max-width: 768px){.device-stats{flex-direction:row;gap:var(--spacing-2)}.stat-item{flex:1}.stat-value{font-size:var(--font-size-xl)}.energy-info{flex-direction:column;gap:var(--spacing-3);text-align:center}}.app-sidebar{position:fixed;left:0;top:var(--header-height);bottom:0;width:280px;background:var(--color-white);border-right:1px solid var(--color-gray-200);z-index:8;transform:translate(-100%);transition:transform var(--transition-normal);overflow-y:auto;box-shadow:2px 0 8px #0000001a}.app-sidebar.open{transform:translate(0)}.sidebar-toggle{position:fixed;left:var(--spacing-4);top:calc(var(--header-height) + var(--spacing-4));z-index:9;display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:var(--color-primary);color:var(--color-white);border:none;border-radius:var(--border-radius-full);cursor:pointer;transition:all var(--transition-fast);box-shadow:0 2px 8px #667eea4d}.sidebar-toggle:hover{transform:scale(1.1);box-shadow:0 4px 12px #667eea66}.sidebar-header{padding:var(--spacing-6) var(--spacing-4) var(--spacing-4);border-bottom:1px solid var(--color-gray-200)}.sidebar-title{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin:0 0 var(--spacing-2) 0}.sidebar-subtitle{font-size:var(--font-size-sm);color:var(--color-text-secondary);margin:0}.sidebar-nav{padding:var(--spacing-4)}.nav-section{margin-bottom:var(--spacing-6)}.nav-section-title{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin:0 0 var(--spacing-3) 0;padding:0 var(--spacing-2)}.nav-items{list-style:none;margin:0;padding:0}.nav-item{margin-bottom:var(--spacing-1)}.nav-link{display:flex;align-items:center;gap:var(--spacing-3);padding:var(--spacing-3) var(--spacing-2);color:var(--color-text-primary);text-decoration:none;border-radius:var(--border-radius);transition:all var(--transition-fast);font-weight:var(--font-weight-medium)}.nav-link:hover{background:var(--color-primary-50);color:var(--color-primary)}.nav-link.active{background:var(--color-primary);color:var(--color-white)}.nav-icon{font-size:var(--font-size-lg);width:20px;text-align:center}.nav-badge{margin-left:auto;background:var(--color-primary);color:var(--color-white);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);min-width:18px;text-align:center}.nav-link.active .nav-badge{background:#ffffff4d}.app-layout{transition:margin-left var(--transition-normal)}.app-layout.sidebar-open{margin-left:280px}@media (max-width: 768px){.app-sidebar{width:100%;transform:translate(-100%)}.app-layout.sidebar-open{margin-left:0}.sidebar-overlay{position:fixed;inset:0;background:#00000080;z-index:7;opacity:0;pointer-events:none;transition:opacity var(--transition-normal)}.sidebar-overlay.active{opacity:1;pointer-events:all}}.d-none{display:none!important}.d-block{display:block!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-grid{display:grid!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-y-auto{overflow-y:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-y-hidden{overflow-y:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.min-h-0{min-height:0!important}.min-h-100{min-height:100%!important}.min-h-screen{min-height:100vh!important}.max-w-none{max-width:none!important}.max-w-xs{max-width:20rem!important}.max-w-sm{max-width:24rem!important}.max-w-md{max-width:28rem!important}.max-w-lg{max-width:32rem!important}.max-w-xl{max-width:36rem!important}.max-w-2xl{max-width:42rem!important}.max-w-3xl{max-width:48rem!important}.max-w-4xl{max-width:56rem!important}.max-w-5xl{max-width:64rem!important}.max-w-6xl{max-width:72rem!important}.max-w-full{max-width:100%!important}.border{border:1px solid var(--color-gray-300)!important}.border-0{border:0!important}.border-top{border-top:1px solid var(--color-gray-300)!important}.border-end{border-right:1px solid var(--color-gray-300)!important}.border-bottom{border-bottom:1px solid var(--color-gray-300)!important}.border-start{border-left:1px solid var(--color-gray-300)!important}.border-primary{border-color:var(--color-primary)!important}.border-secondary{border-color:var(--color-gray-300)!important}.border-success{border-color:var(--color-success)!important}.border-danger{border-color:var(--color-danger)!important}.border-warning{border-color:var(--color-warning)!important}.border-info{border-color:var(--color-info)!important}.rounded{border-radius:var(--border-radius)!important}.rounded-0{border-radius:0!important}.rounded-sm{border-radius:var(--border-radius-sm)!important}.rounded-lg{border-radius:var(--border-radius-lg)!important}.rounded-xl{border-radius:var(--border-radius-xl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--border-radius-full)!important}.shadow-none{box-shadow:none!important}.shadow-sm{box-shadow:var(--shadow-sm)!important}.shadow{box-shadow:var(--shadow)!important}.shadow-lg{box-shadow:var(--shadow-lg)!important}.shadow-xl{box-shadow:var(--shadow-xl)!important}.user-select-none{-webkit-user-select:none!important;user-select:none!important}.user-select-all{-webkit-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;user-select:auto!important}.pointer-events-none{pointer-events:none!important}.pointer-events-auto{pointer-events:auto!important}.cursor-auto{cursor:auto!important}.cursor-default{cursor:default!important}.cursor-pointer{cursor:pointer!important}.cursor-wait{cursor:wait!important}.cursor-text{cursor:text!important}.cursor-move{cursor:move!important}.cursor-help{cursor:help!important}.cursor-not-allowed{cursor:not-allowed!important}.cursor-grab{cursor:grab!important}.cursor-grabbing{cursor:grabbing!important}.transform{transform:translate(0) translateY(0) rotate(0) skew(0) skewY(0) scaleX(1) scaleY(1)!important}.transform-none{transform:none!important}.scale-0{transform:scale(0)!important}.scale-50{transform:scale(.5)!important}.scale-75{transform:scale(.75)!important}.scale-90{transform:scale(.9)!important}.scale-95{transform:scale(.95)!important}.scale-100{transform:scale(1)!important}.scale-105{transform:scale(1.05)!important}.scale-110{transform:scale(1.1)!important}.scale-125{transform:scale(1.25)!important}.scale-150{transform:scale(1.5)!important}.rotate-0{transform:rotate(0)!important}.rotate-45{transform:rotate(45deg)!important}.rotate-90{transform:rotate(90deg)!important}.rotate-180{transform:rotate(180deg)!important}.transition-none{transition:none!important}.transition-all{transition:all var(--transition-normal)!important}.transition-colors{transition:color var(--transition-normal),background-color var(--transition-normal),border-color var(--transition-normal)!important}.transition-opacity{transition:opacity var(--transition-normal)!important}.transition-shadow{transition:box-shadow var(--transition-normal)!important}.transition-transform{transition:transform var(--transition-normal)!important}.duration-75{transition-duration:75ms!important}.duration-100{transition-duration:.1s!important}.duration-150{transition-duration:.15s!important}.duration-200{transition-duration:.2s!important}.duration-300{transition-duration:.3s!important}.duration-500{transition-duration:.5s!important}.duration-700{transition-duration:.7s!important}.duration-1000{transition-duration:1s!important}.ease-linear{transition-timing-function:linear!important}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)!important}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)!important}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)!important}.animate-none{animation:none!important}.animate-spin{animation:spin 1s linear infinite!important}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite!important}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite!important}.animate-bounce{animation:bounce 1s infinite!important}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.loading{position:relative}.loading:after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;border:2px solid var(--color-gray-300);border-top-color:var(--color-primary);border-radius:50%;animation:spin .8s linear infinite}.skeleton{background:linear-gradient(90deg,var(--color-gray-200) 25%,var(--color-gray-100) 50%,var(--color-gray-200) 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.device-online{border-left:4px solid var(--color-device-state-online)!important}.device-offline{border-left:4px solid var(--color-device-state-offline)!important;opacity:.7}.device-unknown{border-left:4px solid var(--color-device-state-unknown)!important}.draggable{cursor:grab;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.draggable:active{cursor:grabbing}.dragging{opacity:var(--drag-ghost-opacity);transform:scale(1.05);z-index:var(--z-modal);pointer-events:none;box-shadow:var(--shadow-xl)}.drop-target{border:2px dashed var(--color-primary);background-color:var(--color-primary-50);transition:all var(--transition-normal)}.drop-target.drag-over{border-color:var(--color-primary-700);background-color:var(--color-primary-100);transform:scale(1.02)}.drop-target.invalid{border-color:var(--color-danger);background-color:var(--color-danger-light)}.sr-only{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.sr-only-focusable:focus{position:static!important;width:auto!important;height:auto!important;padding:inherit!important;margin:inherit!important;overflow:visible!important;clip:auto!important;white-space:inherit!important}.focus-ring:focus{outline:2px solid var(--color-primary);outline-offset:2px}@media (max-width: 575.98px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-grid{display:grid!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}.w-sm-25{width:25%!important}.w-sm-50{width:50%!important}.w-sm-75{width:75%!important}.w-sm-100{width:100%!important}.w-sm-auto{width:auto!important}}@media (min-width: 768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-grid{display:grid!important}}@media (min-width: 992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-grid{display:grid!important}}@media (min-width: 1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-grid{display:grid!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-grid{display:grid!important}}.theme-light{color-scheme:light}.theme-dark{color-scheme:dark}.theme-auto{color-scheme:light dark}.debug-red{border:2px solid red!important}.debug-blue{border:2px solid blue!important}.debug-green{border:2px solid green!important}.temp-bg{background-color:#ff00001a!important}.is-active{background-color:var(--color-primary)!important;color:var(--color-white)!important}.is-disabled{opacity:.6!important;pointer-events:none!important;cursor:not-allowed!important}.is-loading{position:relative!important;pointer-events:none!important}.is-loading:after{content:"";position:absolute;top:50%;left:50%;width:16px;height:16px;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin .8s linear infinite}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.hover\:scale-105:hover{transform:scale(1.05)!important}.hover\:shadow-lg:hover{box-shadow:var(--shadow-lg)!important}.focus\:ring:focus{outline:none!important;box-shadow:0 0 0 3px #007bff40!important}.btn,.btn *{color:inherit!important;text-shadow:none!important}.btn-primary,.btn-primary *,.btn-danger,.btn-danger *{color:var(--color-white)!important}.btn-secondary,.btn-secondary *{color:var(--color-text-primary)!important}@media (max-width: 768px){.app-header{flex-direction:column;align-items:stretch;text-align:center;gap:var(--spacing-3)}.user-controls{justify-content:center}.page-header{flex-direction:column;align-items:stretch;gap:var(--spacing-3)}.view-tabs{justify-content:center}}.calendar-widget{height:100%;display:flex;flex-direction:column}.calendar-header{color:#fff;padding:20px;z-index:20}.calendar-content{flex:1;overflow-y:auto;padding:0 15px 15px;background-color:#f0f2f5}.new-family-header{display:grid;grid-template-columns:160px repeat(4,1fr);position:sticky;top:0;z-index:10;background-color:#fff;box-shadow:0 2px 5px #0000000d}.day-info-header-cell{padding:12px 10px;font-weight:700;text-align:center;font-family:sans-serif;font-size:.9rem;color:#333;border-right:1px solid #eee}.member-header-cell{padding:12px 10px;font-weight:600;text-align:center;font-family:Caveat,cursive;font-size:1.5rem;border-right:1px solid #eee}.member-header-cell:last-child{border-right:none}.new-family-body{border:1px solid #ddd;border-top:none;border-radius:0 0 12px 12px;overflow:hidden}.day-row{display:grid;grid-template-columns:160px repeat(4,1fr);border-bottom:1px solid #eee}.day-row:last-child{border-bottom:none}.day-row.today .day-info-cell,.day-row.today .member-day-cell{background-color:#e3f2fd}.day-info-cell{padding:8px 12px;background-color:#fdfdfd;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:4px;border-right:1px solid #eee}.day-date{display:flex;align-items:baseline;gap:10px}.day-number{font-size:1.1rem;font-weight:600;color:#212529}.day-name{font-size:.85rem;color:#6c757d}.member-day-cell{min-height:90px;padding:5px;background:#fff;position:relative;border-right:1px solid #eee}.member-day-cell:last-child{border-right:none}.day-special-events{font-size:.75rem;color:#333}.special-event.holiday{font-weight:600}.special-event.birthday{color:#e76f51}.add-event-button-cell{position:absolute;top:5px;right:5px;width:24px;height:24px;border-radius:50%;border:none;background-color:#0006;color:#fff;cursor:pointer;opacity:0;transform:scale(.8);transition:all .2s ease;pointer-events:none}.add-event-button-cell:before,.add-event-button-cell:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff}.add-event-button-cell:before{width:12px;height:2px}.add-event-button-cell:after{width:2px;height:12px}.member-day-cell:hover .add-event-button-cell{opacity:1;transform:scale(1);pointer-events:auto}.event-form-overlay{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9999}.event-form{background:#fff;border-radius:16px;padding:30px;max-width:500px;width:90%;box-shadow:0 10px 30px #0003}.debug-mode *{outline:1px solid rgba(255,0,0,.2)}.debug-mode .device-card{outline:2px solid rgba(0,255,0,.5)}.debug-mode .room-selector{outline:2px solid rgba(0,0,255,.5)}.room-3d-enhanced{perspective:var(--room-3d-perspective)}.mobile-optimized{touch-action:manipulation}.gpu-accelerated{transform:translateZ(0);will-change:transform}.contain-layout{contain:layout style paint}@media print{.room-selector,.view-controls,.sync-controls,.user-controls,.device-main-control{display:none!important}.device-card{break-inside:avoid;border:1px solid #000;background:#fff!important;color:#000!important}.devices-grid{grid-template-columns:repeat(2,1fr);gap:1rem}}@media (prefers-contrast: high){:root{--color-primary: #0000ff;--color-success: #008000;--color-danger: #ff0000;--color-warning: #ff8000;--border-width: 2px;--border-width-thick: 3px}.device-card,.btn{border-width:var(--border-width-thick)}}@media (prefers-reduced-motion: reduce){.device-card,.btn,.room-tab,.view-tab{transition:none}*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}:root{transition:background-color var(--transition-normal),color var(--transition-normal)}[data-theme-transition] *{transition:background-color var(--transition-normal),color var(--transition-normal),border-color var(--transition-normal)}.error-boundary{padding:var(--spacing-8);text-align:center;background:var(--color-danger-light);border:2px solid var(--color-danger);border-radius:var(--border-radius-lg);color:var(--color-danger-dark)}.error-boundary h2{color:var(--color-danger-dark);margin-bottom:var(--spacing-4)}.app-loading{position:fixed;inset:0;background:var(--color-background);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal)}.app-loading:after{content:"";width:40px;height:40px;border:4px solid var(--color-gray-300);border-top-color:var(--color-primary);border-radius:50%;animation:spin 1s linear infinite}[data-dev=true]:before{content:"DEV MODE";position:fixed;top:10px;right:10px;background:red;color:#fff;padding:5px 10px;font-size:12px;z-index:9999;border-radius:3px}._roomVisualizationModern_1tum5_5{background:#ffffffe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:var(--border-radius-xl, 16px);margin:0 var(--spacing-6, 24px) var(--spacing-6, 24px) var(--spacing-6, 24px);box-shadow:0 8px 32px #0000001a;position:relative;z-index:10;overflow:hidden}._vizHeader_1tum5_31{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--spacing-6, 24px);border-bottom:2px solid rgba(0,0,0,.05);background:#ffffff80}._vizTitleSection_1tum5_49{flex:1}._vizTitle_1tum5_49{display:flex;align-items:center;gap:var(--spacing-3, 12px);font-size:var(--font-size-2xl, 24px);font-weight:var(--font-weight-bold, 700);color:var(--color-text-primary, #212529);margin:0 0 var(--spacing-2, 8px) 0;flex-wrap:wrap}._vizRoomIcon_1tum5_79{font-size:var(--font-size-3xl, 30px);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}._vizRoomName_1tum5_89{background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}._vizModeBadge_1tum5_101{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:var(--font-size-xs, 12px);font-weight:var(--font-weight-semibold, 600);padding:var(--spacing-2, 8px) var(--spacing-3, 12px);border-radius:var(--border-radius-full, 9999px);text-transform:uppercase;letter-spacing:.05em}._vizDescription_1tum5_123{font-size:var(--font-size-sm, 14px);color:var(--color-text-secondary, #6c757d);margin:0;font-style:italic}._vizControls_1tum5_137{display:flex;flex-direction:column;align-items:flex-end;gap:var(--spacing-3, 12px)}._vizStats_1tum5_151{display:flex;gap:var(--spacing-4, 16px)}._statItem_1tum5_161{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1, 4px)}._statValue_1tum5_175{font-size:var(--font-size-xl, 20px);font-weight:var(--font-weight-bold, 700);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}._statLabel_1tum5_193{font-size:var(--font-size-xs, 12px);color:var(--color-text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.05em}._vizHelp_1tum5_207{display:flex;align-items:center;gap:var(--spacing-2, 8px);background:#28a7451a;padding:var(--spacing-2, 8px) var(--spacing-3, 12px);border-radius:var(--border-radius-full, 9999px);font-size:var(--font-size-xs, 12px);color:var(--color-success, #28a745);font-weight:var(--font-weight-medium, 500)}._helpIcon_1tum5_231{font-size:var(--font-size-sm, 14px)}._vizCanvasContainer_1tum5_243{padding:var(--spacing-6, 24px);display:flex;justify-content:center;align-items:center}._vizCanvas_1tum5_243{position:relative;border-radius:var(--border-radius-lg, 12px);border:3px solid rgba(102,126,234,.2);box-shadow:inset 0 2px 10px #0000000d;transition:all var(--transition-normal, .3s ease);overflow:hidden}._vizCanvas_1tum5_243._dragging_1tum5_275{border-color:#667eea80;box-shadow:inset 0 2px 10px #0000001a,0 0 20px #667eea33}._vizGrid_1tum5_289{position:absolute;inset:0;pointer-events:none}._gridPattern_1tum5_307{width:100%;height:100%;opacity:.4}._vizDevice_1tum5_323{position:absolute;cursor:grab;transition:all var(--transition-normal, .3s ease);-webkit-user-select:none;user-select:none;z-index:10}._vizDevice_1tum5_323:active{cursor:grabbing}._vizDevice_1tum5_323._dragging_1tum5_275{z-index:1000;cursor:grabbing!important}._vizDevice_1tum5_323._dragging_1tum5_275 ._deviceContainer_1tum5_361{transform-origin:center;animation:_devicePulse_1tum5_1 1s ease infinite}._vizDevice_1tum5_323._selected_1tum5_371{z-index:100}._deviceContainer_1tum5_361{position:relative;width:60px;height:60px;display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1, 4px)}._deviceIconWrapper_1tum5_399{position:relative;width:48px;height:48px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #0000001a;transition:all var(--transition-normal, .3s ease);border:2px solid transparent}._vizDevice_1tum5_323:hover ._deviceIconWrapper_1tum5_399{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}._vizDevice_1tum5_323._online_1tum5_439 ._deviceIconWrapper_1tum5_399{border-color:#28a7454d}._vizDevice_1tum5_323._offline_1tum5_447 ._deviceIconWrapper_1tum5_399{border-color:#dc35454d;opacity:.7}._deviceIconViz_1tum5_457{font-size:var(--font-size-xl, 20px);line-height:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}._deviceStatusRing_1tum5_469{position:absolute;top:-2px;right:-2px;width:16px;height:16px;border-radius:50%;border:2px solid white;box-shadow:0 2px 6px #0000001a}._deviceStatusRing_1tum5_469._online_1tum5_439{background:var(--color-success, #28a745);animation:_statusPulse_1tum5_1 2s ease infinite}._deviceStatusRing_1tum5_469._offline_1tum5_447{background:var(--color-danger, #dc3545)}._deviceInfoIcon_1tum5_509{position:absolute;top:-2px;right:-2px;width:16px;height:16px;background:#007bff;border:2px solid white;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:help;transition:all .2s ease;box-shadow:0 2px 6px #0000001a}._deviceInfoIcon_1tum5_509:hover{background:#0056b3;transform:scale(1.1)}._infoSymbol_1tum5_553{font-size:10px;font-weight:700;color:#fff;line-height:1;font-family:serif}._vizDevice_1tum5_323._online_1tum5_439 ._deviceInfoIcon_1tum5_509{background:#28a745}._vizDevice_1tum5_323._offline_1tum5_447 ._deviceInfoIcon_1tum5_509{background:#dc3545}._vizDevice_1tum5_323._online_1tum5_439 ._deviceInfoIcon_1tum5_509:hover{background:#1e7e34}._vizDevice_1tum5_323._offline_1tum5_447 ._deviceInfoIcon_1tum5_509:hover{background:#c82333}._deviceInfoViz_1tum5_603{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:var(--spacing-2, 8px);text-align:center;white-space:nowrap;pointer-events:none;background:#ffffffe6;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:var(--spacing-1, 4px) var(--spacing-2, 8px);border-radius:var(--border-radius-sm, 6px);box-shadow:0 2px 8px #0000001a;opacity:0;transition:all var(--transition-fast, .2s ease)}._vizDevice_1tum5_323:hover ._deviceInfoViz_1tum5_603{opacity:1;transform:translate(-50%) translateY(2px)}._deviceNameViz_1tum5_649{font-size:var(--font-size-xs, 12px);font-weight:var(--font-weight-semibold, 600);color:var(--color-text-primary, #212529);max-width:80px;overflow:hidden;text-overflow:ellipsis}._deviceCategoryViz_1tum5_667{font-size:var(--font-size-xs, 10px);color:var(--color-text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.05em}._selectionIndicator_1tum5_685{position:absolute;inset:-8px;pointer-events:none}._selectionRing_1tum5_703{position:absolute;inset:0;border:3px solid #667eea;border-radius:var(--border-radius-lg, 12px);animation:_selectionPulse_1tum5_1 1.5s ease infinite}._selectionHandles_1tum5_725{position:absolute;inset:0}._handle_1tum5_741{position:absolute;width:8px;height:8px;background:#667eea;border:2px solid white;border-radius:50%;box-shadow:0 2px 6px #0003}._handleNw_1tum5_761{top:-4px;left:-4px}._handleNe_1tum5_763{top:-4px;right:-4px}._handleSw_1tum5_765{bottom:-4px;left:-4px}._handleSe_1tum5_767{bottom:-4px;right:-4px}._dragShadow_1tum5_775{position:absolute;inset:6px -6px -6px 6px;background:#667eea33;border-radius:var(--border-radius-lg, 12px);filter:blur(8px);z-index:-1;animation:_shadowPulse_1tum5_1 1s ease infinite}._vizEmptyState_1tum5_805{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;padding:var(--spacing-8, 32px)}._emptyIcon_1tum5_823{font-size:4rem;margin-bottom:var(--spacing-4, 16px);opacity:.3;filter:grayscale(.5)}._emptyTitle_1tum5_837{font-size:var(--font-size-lg, 18px);font-weight:var(--font-weight-bold, 700);color:var(--color-text-primary, #212529);margin:0 0 var(--spacing-2, 8px) 0}._emptyDescription_1tum5_851{font-size:var(--font-size-sm, 14px);color:var(--color-text-secondary, #6c757d);line-height:var(--line-height-relaxed, 1.625);margin:0}._vizLegend_1tum5_869{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--spacing-5, 20px) var(--spacing-6, 24px);background:#00000005;border-top:2px solid rgba(0,0,0,.05);gap:var(--spacing-6, 24px)}._legendSection_1tum5_889{flex:1}._legendTitle_1tum5_897{font-size:var(--font-size-sm, 14px);font-weight:var(--font-weight-semibold, 600);color:var(--color-text-primary, #212529);margin:0 0 var(--spacing-3, 12px) 0;text-transform:uppercase;letter-spacing:.05em}._legendItems_1tum5_915,._shortcutItems_1tum5_917{display:flex;flex-wrap:wrap;gap:var(--spacing-4, 16px)}._legendItem_1tum5_915{display:flex;align-items:center;gap:var(--spacing-2, 8px)}._legendIndicator_1tum5_941{width:12px;height:12px;border-radius:50%;border:2px solid white;box-shadow:0 2px 4px #0000001a}._legendIndicator_1tum5_941._online_1tum5_439{background:var(--color-success, #28a745)}._legendIndicator_1tum5_941._offline_1tum5_447{background:var(--color-danger, #dc3545)}._legendIndicator_1tum5_941._selected_1tum5_371{background:#667eea;animation:_selectionPulse_1tum5_1 1.5s ease infinite}._legendIndicator_1tum5_941._dragging_1tum5_275{background:linear-gradient(45deg,#667eea,#764ba2);animation:_devicePulse_1tum5_1 1s ease infinite}._legendLabel_1tum5_993{font-size:var(--font-size-xs, 12px);color:var(--color-text-secondary, #6c757d);font-weight:var(--font-weight-medium, 500)}._shortcut_1tum5_917{font-size:var(--font-size-xs, 12px);color:var(--color-text-secondary, #6c757d);background:#0000000d;padding:var(--spacing-1, 4px) var(--spacing-2, 8px);border-radius:var(--border-radius-sm, 6px);font-family:var(--font-family-mono, monospace)}@keyframes _statusPulse_1tum5_1{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _selectionPulse_1tum5_1{0%,to{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}@keyframes _devicePulse_1tum5_1{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _shadowPulse_1tum5_1{0%,to{opacity:.2}50%{opacity:.4}}@media (max-width: 768px){._roomVisualizationModern_1tum5_5{margin:0 var(--spacing-4, 16px) var(--spacing-4, 16px) var(--spacing-4, 16px)}._vizHeader_1tum5_31{flex-direction:column;align-items:flex-start;gap:var(--spacing-3, 12px);padding:var(--spacing-4, 16px)}._vizTitleSection_1tum5_49{width:100%}._vizTitle_1tum5_49{font-size:var(--font-size-lg, 18px);gap:var(--spacing-2, 8px)}._vizDescription_1tum5_123{font-size:var(--font-size-xs, 12px);margin-top:var(--spacing-1, 4px)}._vizControls_1tum5_137{align-items:flex-start;width:100%;flex-direction:row;justify-content:space-between}._vizStats_1tum5_151{gap:var(--spacing-3, 12px)}._vizHelp_1tum5_207{display:none}._vizCanvasContainer_1tum5_243{padding:var(--spacing-4, 16px)}._vizLegend_1tum5_869{flex-direction:column;gap:var(--spacing-3, 12px);padding:var(--spacing-3, 12px) var(--spacing-4, 16px)}._legendItems_1tum5_915,._shortcutItems_1tum5_917{gap:var(--spacing-2, 8px)}}@media (max-width: 480px){._vizHeader_1tum5_31{padding:var(--spacing-3, 12px);gap:var(--spacing-2, 8px)}._vizTitle_1tum5_49{font-size:var(--font-size-base, 16px);flex-direction:column;align-items:flex-start;gap:var(--spacing-1, 4px)}._vizModeBadge_1tum5_101{align-self:flex-start;font-size:var(--font-size-xs, 10px);padding:var(--spacing-1, 4px) var(--spacing-2, 8px)}._vizControls_1tum5_137{flex-direction:column;gap:var(--spacing-2, 8px)}._deviceContainer_1tum5_361{width:50px;height:50px}._deviceIconWrapper_1tum5_399{width:40px;height:40px}._deviceIconViz_1tum5_457{font-size:var(--font-size-lg, 16px)}._deviceStatusRing_1tum5_469{width:12px;height:12px}._emptyIcon_1tum5_823{font-size:3rem}._legendItems_1tum5_915,._shortcutItems_1tum5_917{flex-direction:column;gap:var(--spacing-2, 8px)}}._tooltipContainer_1o11l_1{position:relative;display:inline-block}._tooltip_1o11l_1{position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:8px;background:#000000e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;padding:12px;border-radius:8px;box-shadow:0 4px 20px #0000004d;z-index:1000;min-width:200px;max-width:280px;font-size:12px;line-height:1.4;pointer-events:none;animation:_tooltipFadeIn_1o11l_1 .2s ease-out}._tooltipHeader_1o11l_53{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,.2)}._deviceName_1o11l_71{font-size:13px;font-weight:600;margin:0;color:#fff}._statusBadge_1o11l_85{font-size:10px;font-weight:500;padding:2px 6px;border-radius:10px;text-transform:uppercase;letter-spacing:.5px}._statusBadge_1o11l_85._online_1o11l_103{background:#28a745;color:#fff}._statusBadge_1o11l_85._offline_1o11l_113{background:#dc3545;color:#fff}._tooltipContent_1o11l_123{display:flex;flex-direction:column;gap:4px}._infoRow_1o11l_135{display:flex;justify-content:space-between;align-items:center}._label_1o11l_147{color:#ffffffb3;font-size:11px}._value_1o11l_157{color:#fff;font-size:11px;font-weight:500}._sensorSection_1o11l_169{margin-top:8px;padding-top:6px;border-top:1px solid rgba(255,255,255,.2)}._sensorTitle_1o11l_181{font-size:11px;color:#ffffffb3;margin-bottom:4px;font-weight:500}._sensorRow_1o11l_195{display:flex;align-items:center;gap:4px;margin-bottom:2px}._sensorIcon_1o11l_209{font-size:12px;width:16px}._sensorLabel_1o11l_219{color:#ffffffb3;font-size:10px;flex:1}._sensorValue_1o11l_231{color:#fff;font-size:11px;font-weight:500}._timestampRow_1o11l_243{margin-top:8px;padding-top:6px;border-top:1px solid rgba(255,255,255,.2)}._timestamp_1o11l_243{font-size:10px;color:#fff9;font-style:italic}._tooltipArrow_1o11l_267{position:absolute;top:100%;left:50%;transform:translate(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.9)}@keyframes _tooltipFadeIn_1o11l_1{0%{opacity:0;transform:translate(-50%) translateY(4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.dark-theme ._tooltip_1o11l_1{background:#1a1a2ef2;border:1px solid rgba(255,255,255,.1)}.dark-theme ._tooltipArrow_1o11l_267{border-top-color:#1a1a2ef2}._container_16zru_3{display:flex;flex-direction:column;gap:var(--spacing-lg, 16px);padding:var(--spacing-lg, 16px);background:var(--color-white, #ffffff);border-radius:var(--border-radius, 8px);box-shadow:var(--shadow-md, 0 4px 6px rgba(0,0,0,.1));max-width:100%;overflow:hidden;min-height:600px}._header_16zru_31{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-md, 12px);padding-bottom:var(--spacing-md, 12px);border-bottom:1px solid var(--color-gray-200, #e5e7eb)}._roomTitle_16zru_51{display:flex;align-items:center;gap:var(--spacing-sm, 8px);margin:0;font-size:var(--font-size-xl, 20px);font-weight:var(--font-weight-semibold, 600);color:var(--color-text-primary, #1f2937)}._roomIcon_16zru_71{font-size:var(--font-size-2xl, 24px)}._controls_16zru_79{display:flex;align-items:center;gap:var(--spacing-lg, 16px);flex-wrap:wrap}._deviceCount_16zru_93{font-size:var(--font-size-sm, 14px);color:var(--color-text-secondary, #6b7280);font-weight:var(--font-weight-medium, 500)}._cameraControls_16zru_105{display:flex;gap:var(--spacing-sm, 8px);align-items:center}._controlBtn_16zru_117{padding:var(--spacing-sm, 8px) var(--spacing-md, 12px);border:1px solid var(--color-gray-300, #d1d5db);border-radius:var(--border-radius-sm, 4px);background:var(--color-white, #ffffff);color:var(--color-text-primary, #1f2937);font-size:var(--font-size-sm, 14px);cursor:pointer;transition:all .2s ease;min-width:40px;display:flex;align-items:center;justify-content:center}._controlBtn_16zru_117:hover{background:var(--color-gray-50, #f9fafb);border-color:var(--color-primary, #667eea);transform:translateY(-1px)}._controlBtn_16zru_117:active{transform:translateY(0)}._canvas_16zru_169{flex:1;min-height:500px;border:2px solid var(--color-gray-300, #d1d5db);border-radius:var(--border-radius, 8px);overflow:hidden;position:relative;background:linear-gradient(135deg,#f0f0f0,#e0e0e0)}._canvas_16zru_169 canvas{display:block;width:100%!important;height:100%!important}._loading_16zru_203{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:500px;gap:var(--spacing-lg, 16px);color:var(--color-text-secondary, #6b7280)}._loadingSpinner_16zru_223{width:40px;height:40px;border:3px solid var(--color-gray-300, #d1d5db);border-top:3px solid var(--color-primary, #667eea);border-radius:50%;animation:_spin_16zru_1 1s linear infinite}@keyframes _spin_16zru_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._instructions_16zru_253{padding:var(--spacing-md, 12px);background:var(--color-gray-50, #f9fafb);border-radius:var(--border-radius-sm, 4px);border-left:4px solid var(--color-primary, #667eea)}._instructions_16zru_253 p{margin:0;font-size:var(--font-size-sm, 14px);color:var(--color-text-secondary, #6b7280);text-align:center}@media (max-width: 768px){._container_16zru_3{padding:var(--spacing-md, 12px);min-height:400px}._header_16zru_31{flex-direction:column;align-items:flex-start}._canvas_16zru_169{min-height:350px}._cameraControls_16zru_105{width:100%;justify-content:center}._controlBtn_16zru_117{flex:1;max-width:80px}}@media (max-width: 480px){._roomTitle_16zru_51{font-size:var(--font-size-lg, 18px)}._canvas_16zru_169{min-height:300px}._instructions_16zru_253 p{font-size:var(--font-size-xs, 12px)}}[data-theme=dark] ._container_16zru_3{background:var(--color-card-background, #2d2d2d);color:var(--color-text-primary, #ffffff)}[data-theme=dark] ._header_16zru_31{border-bottom-color:var(--color-gray-600, #4b5563)}[data-theme=dark] ._controlBtn_16zru_117{background:var(--color-gray-700, #374151);border-color:var(--color-gray-600, #4b5563);color:var(--color-text-primary, #ffffff)}[data-theme=dark] ._controlBtn_16zru_117:hover{background:var(--color-gray-600, #4b5563)}[data-theme=dark] ._instructions_16zru_253{background:var(--color-gray-800, #1f2937);border-left-color:var(--color-primary, #667eea)}[data-theme=dark] ._canvas_16zru_169{border-color:var(--color-gray-600, #4b5563);background:linear-gradient(135deg,#2d2d2d,#1a1a1a)}._canvas_16zru_169{contain:layout style paint;transform:translateZ(0);will-change:transform}._controlBtn_16zru_117:focus{outline:2px solid var(--color-primary, #667eea);outline-offset:2px}._container_16zru_3 *{transition:color .2s ease,background-color .2s ease,border-color .2s ease}.calendar-widget{background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border-radius:16px;box-shadow:0 10px 30px #0000001a;overflow:hidden;transition:all .3s ease;min-height:600px;position:relative}.calendar-widget.mini{min-height:400px;max-width:350px}.calendar-widget:hover{transform:translateY(-2px);box-shadow:0 15px 40px #00000026}.calendar-header{color:#fff;padding:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.calendar-title{font-size:1.8rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.calendar-navigation{display:flex;align-items:center;gap:10px}.nav-button{background:#fff3;border:none;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:16px}.nav-button:hover{background:#ffffff4d;transform:scale(1.05)}.view-selector{display:flex;background:#ffffff1a;border-radius:10px;overflow:hidden}.view-button{background:transparent;border:none;color:#fff;padding:8px 16px;cursor:pointer;transition:all .2s ease;font-size:14px;font-weight:500}.view-button.active{background:#ffffff4d}.view-button:hover:not(.active){background:#ffffff26}.add-event-button{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:10px 20px;border-radius:25px;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:8px}.add-event-button:hover{background:#ffffff4d;transform:scale(1.05)}.calendar-content{padding:20px}.month-view{width:100%}.month-header{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;margin-bottom:10px}.day-header{background:#f8f9fa;padding:15px 8px;text-align:center;font-weight:600;color:#495057;border-radius:8px;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.month-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;background:#e9ecef;border-radius:12px;padding:2px}.family-calendar-layout{display:grid;grid-template-columns:120px repeat(7,1fr);gap:1px;background-color:#e9ecef;border-radius:12px;overflow:hidden}.family-week-header{grid-column:1 / -1;display:contents}.family-corner-cell,.family-day-header{background:#f8f9fa;display:flex;align-items:center;justify-content:center;font-weight:600;color:#495057;min-height:50px;font-size:.9rem}.family-member-name-cell{background:#fff;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.family-day-cell{background:#fff;min-height:100px;padding:4px;transition:background-color .2s ease;display:flex;flex-direction:column;border-top:3px solid transparent}.family-day-cell:hover{background:#f8f9fa}.family-day-cell.other-month{opacity:.4;background:#f8f9fa}.family-day-cell.today{font-weight:700;box-shadow:inset 0 0 0 2px #667eea80}.family-day-cell .day-number{font-size:.9rem;margin-bottom:4px;line-height:1}.family-events{flex:1;display:flex;flex-direction:column;gap:1px}.family-event-item{padding:2px 4px;border-radius:3px;font-size:.7rem;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:opacity .2s ease}.family-event-item:hover{opacity:.8}.family-day-cell .holiday-indicator,.family-day-cell .nameday-indicator{width:6px;height:6px;border-radius:50%;position:absolute;top:4px}.family-day-cell .holiday-indicator{background:#dc3545;right:4px}.family-day-cell .nameday-indicator{background:#28a745;right:12px}.week-view{display:flex;flex-direction:column;height:100%}.week-header{display:grid;grid-template-columns:60px repeat(7,1fr);gap:1px;margin-bottom:10px}.time-column{background:#f8f9fa;padding:10px 5px;text-align:center;font-size:.8rem;color:#6c757d}.week-day-header{background:#f8f9fa;padding:15px 8px;text-align:center;font-weight:600;color:#495057;border-radius:8px;display:flex;flex-direction:column;gap:4px}.week-day-name{font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.week-day-number{font-size:1.2rem;font-weight:700}.week-grid{display:grid;grid-template-columns:60px repeat(7,1fr);gap:1px;flex:1;background:#e9ecef;border-radius:12px;padding:2px}.hour-slot{background:#fff;min-height:40px;padding:4px;border-radius:6px;position:relative}.hour-label{background:#f8f9fa;padding:4px;text-align:center;font-size:.75rem;color:#6c757d;border-radius:6px}.day-view{display:flex;flex-direction:column;height:100%}.day-view-header{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:20px;border-radius:12px;margin-bottom:20px;text-align:center}.day-view-title{font-size:1.5rem;font-weight:700;color:#495057;margin-bottom:8px}.day-view-date{font-size:1rem;color:#6c757d}.day-schedule{flex:1;display:grid;grid-template-columns:80px 1fr;gap:10px;background:#fff;border-radius:12px;padding:15px;box-shadow:0 2px 10px #0000000d}.day-times{display:flex;flex-direction:column;gap:40px;padding-top:10px}.time-slot{font-size:.9rem;color:#6c757d;font-weight:500;text-align:right;padding-right:10px}.day-events-column{position:relative;border-left:2px solid #e9ecef;padding-left:15px}.day-event{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 16px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 8px #667eea4d;cursor:pointer;transition:all .2s ease;position:relative}.day-event:hover{transform:translate(5px);box-shadow:0 4px 12px #667eea66}.event-time{font-size:.8rem;opacity:.9;margin-bottom:4px}.event-title{font-weight:600;margin-bottom:2px}.event-description{font-size:.85rem;opacity:.8}.event-form-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.event-form{background:#fff;border-radius:16px;padding:30px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:slideIn .3s ease}.event-form-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #f1f3f4}.event-form-title{font-size:1.5rem;font-weight:700;color:#495057;margin:0}.close-button{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;padding:5px;border-radius:50%;transition:all .2s ease}.close-button:hover{background:#f8f9fa;color:#495057}.form-group{margin-bottom:20px}.form-label{display:block;font-weight:600;color:#495057;margin-bottom:8px;font-size:.9rem}.form-input,.form-textarea,.form-select{width:100%;padding:12px 16px;border:2px solid #e9ecef;border-radius:8px;font-size:1rem;transition:all .2s ease;background:#fff}.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-textarea{min-height:80px;resize:vertical}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:15px}.color-picker{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.color-option{width:30px;height:30px;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:all .2s ease}.color-option:hover{transform:scale(1.1)}.color-option.selected{border-color:#495057;box-shadow:0 0 0 2px #fff,0 0 0 4px #495057}.family-member-selector{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.family-member-option{padding:8px 16px;border:2px solid #e9ecef;border-radius:20px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:.9rem;font-weight:500}.family-member-option:hover{border-color:#667eea;background:#667eea1a}.family-member-option.selected{background:#667eea;color:#fff;border-color:#667eea}.reminder-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:8px}.reminder-option{padding:10px 12px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:.85rem;text-align:center;font-weight:500}.reminder-option:hover{border-color:#667eea;background:#667eea1a}.reminder-option.selected{background:#667eea;color:#fff;border-color:#667eea}.form-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:2px solid #f1f3f4}.btn{padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:.9rem;transition:all .2s ease;display:flex;align-items:center;gap:8px}.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190);transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.btn-secondary{background:#6c757d;color:#fff}.btn-secondary:hover{background:#5a6268;transform:translateY(-1px)}.btn-danger{background:#dc3545;color:#fff}.btn-danger:hover{background:#c82333;transform:translateY(-1px)}.btn-outline{background:transparent;border:2px solid #6c757d;color:#6c757d}.btn-outline:hover{background:#6c757d;color:#fff}.family-member-mamka{background-color:#ff6b6b}.family-member-tatka{background-color:#4ecdc4}.family-member-johanka{background-color:#45b7d1}.family-member-jarecek{background-color:#96ceb4}@media (max-width: 768px){.calendar-widget{border-radius:12px;margin:10px}.calendar-header{padding:15px;flex-direction:column;align-items:stretch;gap:10px}.calendar-title{font-size:1.5rem;text-align:center}.calendar-navigation{justify-content:center}.day-cell{min-height:60px;padding:4px}.day-number{font-size:.9rem}.event-item{font-size:.7rem;padding:1px 4px}.form-row{grid-template-columns:1fr}.event-form{padding:20px;margin:20px}.calendar-content{padding:10px}}@media (max-width: 480px){.calendar-widget.mini{max-width:100%}.month-grid{gap:1px}.day-cell{min-height:50px;padding:2px}.day-header{padding:8px 4px;font-size:.8rem}.view-button{padding:6px 10px;font-size:.8rem}.add-event-button{padding:8px 12px;font-size:.8rem}}.dark-theme .calendar-widget{background:linear-gradient(135deg,#2c3e50,#34495e);color:#ecf0f1}.dark-theme .calendar-header{background:linear-gradient(135deg,#4a6fa5,#5d4e75)}.dark-theme .day-cell{background:#34495e;color:#ecf0f1}.dark-theme .day-cell:hover{background:#3e5569}.dark-theme .day-header{background:#2c3e50;color:#bdc3c7}.dark-theme .event-form{background:#2c3e50;color:#ecf0f1}.dark-theme .form-input,.dark-theme .form-textarea,.dark-theme .form-select{background:#34495e;border-color:#4a6fa5;color:#ecf0f1}.dark-theme .form-input:focus,.dark-theme .form-textarea:focus,.dark-theme .form-select:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea33}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.calendar-widget.loading{animation:pulse 2s infinite}.calendar-widget:focus-within{outline:3px solid #667eea;outline-offset:2px}.day-cell:focus,.nav-button:focus,.view-button:focus,.btn:focus{outline:2px solid #667eea;outline-offset:2px}@media (prefers-contrast: high){.calendar-widget{border:3px solid #000}.day-cell{border:1px solid #000}.event-item{border:2px solid #000;background:#fff;color:#000}}.special-event{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500;margin:4px}.special-event.holiday{background:#dc35451a;color:#dc3545;border:1px solid rgba(220,53,69,.3)}.special-event.nameday{background:#28a7451a;color:#28a745;border:1px solid rgba(40,167,69,.3)}.all-day-events{background:#f8f9fa;border-radius:12px;padding:15px;margin-bottom:20px}.section-title{font-size:1.1rem;font-weight:600;color:#495057;margin-bottom:10px;border-bottom:2px solid #e9ecef;padding-bottom:5px}.all-day-events-list{display:flex;flex-direction:column;gap:8px}.day-event.all-day{background:linear-gradient(135deg,#667eea,#764ba2);border-left:4px solid #495057}.time-slot-events{min-height:30px;padding:2px 0;border-bottom:1px solid #f1f3f4}.empty-slot{height:30px}.day-summary{background:#f8f9fa;border-radius:12px;padding:15px;margin-top:20px}.day-stats{display:flex;justify-content:space-around;gap:20px}.stat-item{text-align:center;flex:1}.stat-number{display:block;font-size:1.5rem;font-weight:700;color:#667eea;margin-bottom:4px}.stat-label{font-size:.85rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.week-event{padding:4px 8px;border-radius:4px;margin-bottom:2px;font-size:.75rem;cursor:pointer;transition:all .2s ease}.week-event:hover{transform:scale(1.02);box-shadow:0 2px 8px #0003}.week-event .event-time{font-weight:600;margin-bottom:2px;opacity:.9}.week-event .event-title{font-weight:500}.event-member,.event-attachments{font-size:.75rem;opacity:.8;margin-top:4px;display:flex;align-items:center;gap:4px}.event-more{font-size:.7rem;color:#6c757d;text-align:center;padding:2px;background:#6c757d1a;border-radius:4px;margin-top:2px;cursor:pointer;transition:all .2s ease}.event-more:hover{background:#6c757d33;color:#495057}.month-info{margin-top:15px;padding:10px;text-align:center}.month-theme-indicator{font-size:.9rem;font-weight:500;opacity:.8}.today-button{font-weight:600!important;background:#ffffff4d!important}.today-button:hover{background:#fff6!important}.week-day-header.today{background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important}.form-group input[type=checkbox]{width:auto;margin-right:8px}.day-times{padding-top:10px}.day-events-column{position:relative;border-left:2px solid #e9ecef;padding-left:15px;display:flex;flex-direction:column;gap:30px}.calendar-section{margin:20px auto;max-width:1200px;padding:0 20px}.calendar-widget.mini .calendar-header{padding:10px 15px}.calendar-widget.mini .calendar-title{font-size:1.2rem}.calendar-widget.mini .calendar-content{padding:10px}.calendar-widget.mini .day-cell{min-height:40px;padding:4px}.calendar-widget.mini .day-number{font-size:.8rem}.calendar-widget.mini .event-item{font-size:.65rem;padding:1px 3px;margin:1px 0}@media (prefers-color-scheme: dark){.calendar-widget{background:linear-gradient(135deg,#2c3e50,#34495e);color:#ecf0f1}.day-cell{background:#34495e;color:#ecf0f1}.day-header{background:#2c3e50;color:#bdc3c7}.all-day-events,.day-summary{background:#34495e}.section-title{color:#ecf0f1;border-bottom-color:#4a6fa5}}@media print{.calendar-widget{background:#fff!important;box-shadow:none!important;border:1px solid #000}.calendar-header{background:#fff!important;color:#000!important;border-bottom:2px solid #000}.nav-button,.view-button,.add-event-button{display:none!important}.day-cell{border:1px solid #ccc;background:#fff!important;color:#000!important}.event-item{background:#f0f0f0!important;color:#000!important;border-left-color:#000!important}.holiday-indicator,.nameday-indicator{border:1px solid #000;background:#fff!important}}.day-cell:focus,.event-item:focus,.nav-button:focus,.view-button:focus{outline:3px solid #667eea;outline-offset:2px}@media (hover: none) and (pointer: coarse){.day-cell{min-height:60px}.nav-button,.view-button{padding:12px 16px;font-size:16px}.event-item{padding:8px 12px;font-size:14px}}@media (prefers-contrast: high){.calendar-widget{border:3px solid #000;background:#fff}.day-cell,.event-item{border:2px solid #000;background:#fff;color:#000}.holiday-indicator{background:red;border:2px solid #000}.nameday-indicator{background:#0f0;border:2px solid #000}}.calendar-mini-widget{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:20px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 20px #667eea4d;min-height:300px;max-width:320px}.calendar-mini-widget:hover{transform:translateY(-2px);box-shadow:0 8px 30px #667eea66}.mini-widget-header{text-align:center;margin-bottom:20px;border-bottom:1px solid rgba(255,255,255,.2);padding-bottom:15px}.widget-title{font-size:1.3rem;font-weight:700;margin-bottom:5px}.current-date{font-size:.9rem;opacity:.9}.mini-section{margin-bottom:20px}.mini-section-title{font-size:.9rem;font-weight:600;margin-bottom:10px;opacity:.8;text-transform:uppercase;letter-spacing:.5px}.mini-event{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.1)}.mini-event:last-child{border-bottom:none}.event-icon{font-size:1.2rem;min-width:20px}.event-details{flex:1;display:flex;justify-content:space-between;align-items:center}.event-text{font-size:.9rem;font-weight:500}.event-time,.event-date{font-size:.8rem;opacity:.7;background:#fff3;padding:2px 6px;border-radius:10px}.no-events{opacity:.6;font-style:italic}.more-events{opacity:.7;font-size:.8rem}.mini-widget-footer{text-align:center;margin-top:15px;padding-top:15px;border-top:1px solid rgba(255,255,255,.2)}.click-hint{font-size:.8rem;opacity:.7;animation:pulse 2s infinite}.calendar-modal-overlay{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:99999;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.calendar-modal-content{background:#fff;border-radius:20px;width:95vw;height:90vh;max-width:1200px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 20px 60px #00000080;animation:slideIn .3s ease;z-index:999999;position:relative}.event-form-overlay{z-index:9999999}.calendar-modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.modal-title{font-size:1.5rem;font-weight:700;margin:0}.modal-close-button{background:#fff3;border:none;color:#fff;font-size:1.5rem;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-close-button:hover{background:#ffffff4d;transform:scale(1.1)}.calendar-modal-body{flex:1;overflow-y:auto;padding:0}.calendar-modal-body .calendar-widget{height:100%;box-shadow:none;border-radius:0;margin:0}@media (min-width: 768px){.calendar-mini-widget{min-height:350px;max-width:380px;padding:25px}.widget-title{font-size:1.5rem}.current-date,.event-text{font-size:1rem}.mini-event{padding:10px 0}.event-icon{font-size:1.4rem}}.calendar-mini-widget{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.mini-event{min-height:44px}.modal-close-button{min-width:44px;min-height:44px}@media (max-width: 768px){.family-week-header,.family-member-row{grid-template-columns:80px repeat(7,1fr)}.family-member-name-cell{font-size:.8rem;min-height:60px}.family-day-cell{min-height:60px;padding:2px}.family-day-cell .day-number{font-size:.8rem}.family-event-item{font-size:.65rem;padding:1px 3px}}@media (max-width: 480px){.family-week-header,.family-member-row{grid-template-columns:60px repeat(7,1fr)}.family-member-name-cell{font-size:.7rem;min-height:50px}.family-day-cell{min-height:50px;padding:1px}.family-corner-cell,.family-day-header{min-height:40px;font-size:.8rem}}.calendar-section{display:block!important;width:100%!important}
